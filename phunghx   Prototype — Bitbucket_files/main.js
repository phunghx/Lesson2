var requirejs,require,define;!function(global){function isFunction(e){return"[object Function]"===ostring.call(e)}function isArray(e){return"[object Array]"===ostring.call(e)}function each(e,t){if(e){var n;for(n=0;n<e.length&&(!e[n]||!t(e[n],n,e));n+=1);}}function eachReverse(e,t){if(e){var n;for(n=e.length-1;n>-1&&(!e[n]||!t(e[n],n,e));n-=1);}}function hasProp(e,t){return hasOwn.call(e,t)}function getOwn(e,t){return hasProp(e,t)&&e[t]}function eachProp(e,t){var n;for(n in e)if(hasProp(e,n)&&t(e[n],n))break}function mixin(e,t,n,i){return t&&eachProp(t,function(t,r){(n||!hasProp(e,r))&&(i&&"string"!=typeof t?(e[r]||(e[r]={}),mixin(e[r],t,n,i)):e[r]=t)}),e}function bind(e,t){return function(){return t.apply(e,arguments)}}function scripts(){return document.getElementsByTagName("script")}function defaultOnError(e){throw e}function getGlobal(e){if(!e)return e;var t=global;return each(e.split("."),function(e){t=t[e]}),t}function makeError(e,t,n,i){var r=new Error(t+"\nhttp://requirejs.org/docs/errors.html#"+e);return r.requireType=e,r.requireModules=i,n&&(r.originalError=n),r}function newContext(e){function t(e){var t,n;for(t=0;e[t];t+=1)if(n=e[t],"."===n)e.splice(t,1),t-=1;else if(".."===n){if(1===t&&(".."===e[2]||".."===e[0]))break;t>0&&(e.splice(t-1,2),t-=2)}}function n(e,n,i){var r,o,a,s,u,l,c,d,p,h,f,g=n&&n.split("/"),m=g,v=A.map,y=v&&v["*"];if(e&&"."===e.charAt(0)&&(n?(m=getOwn(A.pkgs,n)?g=[n]:g.slice(0,g.length-1),e=m.concat(e.split("/")),t(e),o=getOwn(A.pkgs,r=e[0]),e=e.join("/"),o&&e===r+"/"+o.main&&(e=r)):0===e.indexOf("./")&&(e=e.substring(2))),i&&v&&(g||y)){for(s=e.split("/"),u=s.length;u>0;u-=1){if(c=s.slice(0,u).join("/"),g)for(l=g.length;l>0;l-=1)if(a=getOwn(v,g.slice(0,l).join("/")),a&&(a=getOwn(a,c))){d=a,p=u;break}if(d)break;!h&&y&&getOwn(y,c)&&(h=getOwn(y,c),f=u)}!d&&h&&(d=h,p=f),d&&(s.splice(0,p,d),e=s.join("/"))}return e}function i(e){isBrowser&&each(scripts(),function(t){return t.getAttribute("data-requiremodule")===e&&t.getAttribute("data-requirecontext")===w.contextName?(t.parentNode.removeChild(t),!0):void 0})}function r(e){var t=getOwn(A.paths,e);return t&&isArray(t)&&t.length>1?(i(e),t.shift(),w.require.undef(e),w.require([e]),!0):void 0}function o(e){var t,n=e?e.indexOf("!"):-1;return n>-1&&(t=e.substring(0,n),e=e.substring(n+1,e.length)),[t,e]}function a(e,t,i,r){var a,s,u,l,c=null,d=t?t.name:null,p=e,h=!0,f="";return e||(h=!1,e="_@r"+(N+=1)),l=o(e),c=l[0],e=l[1],c&&(c=n(c,d,r),s=getOwn(T,c)),e&&(c?f=s&&s.normalize?s.normalize(e,function(e){return n(e,d,r)}):n(e,d,r):(f=n(e,d,r),l=o(f),c=l[0],f=l[1],i=!0,a=w.nameToUrl(f))),u=!c||s||i?"":"_unnormalized"+(j+=1),{prefix:c,name:f,parentMap:t,unnormalized:!!u,url:a,originalName:p,isDefine:h,id:(c?c+"!"+f:f)+u}}function s(e){var t=e.id,n=getOwn(C,t);return n||(n=C[t]=new w.Module(e)),n}function u(e,t,n){var i=e.id,r=getOwn(C,i);!hasProp(T,i)||r&&!r.defineEmitComplete?(r=s(e),r.error&&"error"===t?n(r.error):r.on(t,n)):"defined"===t&&n(T[i])}function l(e,t){var n=e.requireModules,i=!1;t?t(e):(each(n,function(t){var n=getOwn(C,t);n&&(n.error=e,n.events.error&&(i=!0,n.emit("error",e)))}),i||req.onError(e))}function c(){globalDefQueue.length&&(apsp.apply(k,[k.length-1,0].concat(globalDefQueue)),globalDefQueue=[])}function d(e){delete C[e],delete _[e]}function p(e,t,n){var i=e.map.id;e.error?e.emit("error",e.error):(t[i]=!0,each(e.depMaps,function(i,r){var o=i.id,a=getOwn(C,o);!a||e.depMatched[r]||n[o]||(getOwn(t,o)?(e.defineDep(r,T[o]),e.check()):p(a,t,n))}),n[i]=!0)}function h(){var e,t,n,o,a=1e3*A.waitSeconds,s=a&&w.startTime+a<(new Date).getTime(),u=[],c=[],d=!1,f=!0;if(!y){if(y=!0,eachProp(_,function(n){if(e=n.map,t=e.id,n.enabled&&(e.isDefine||c.push(n),!n.error))if(!n.inited&&s)r(t)?(o=!0,d=!0):(u.push(t),i(t));else if(!n.inited&&n.fetched&&e.isDefine&&(d=!0,!e.prefix))return f=!1}),s&&u.length)return n=makeError("timeout","Load timeout for modules: "+u,null,u),n.contextName=w.contextName,l(n);f&&each(c,function(e){p(e,{},{})}),s&&!o||!d||!isBrowser&&!isWebWorker||S||(S=setTimeout(function(){S=0,h()},50)),y=!1}}function f(e){hasProp(T,e[0])||s(a(e[0],null,!0)).init(e[1],e[2])}function g(e,t,n,i){e.detachEvent&&!isOpera?i&&e.detachEvent(i,t):e.removeEventListener(n,t,!1)}function m(e){var t=e.currentTarget||e.srcElement;return g(t,w.onScriptLoad,"load","onreadystatechange"),g(t,w.onScriptError,"error"),{node:t,id:t&&t.getAttribute("data-requiremodule")}}function v(){var e;for(c();k.length;){if(e=k.shift(),null===e[0])return l(makeError("mismatch","Mismatched anonymous define() module: "+e[e.length-1]));f(e)}}var y,b,w,x,S,A={waitSeconds:7,baseUrl:"./",paths:{},pkgs:{},shim:{},config:{}},C={},_={},$={},k=[],T={},E={},N=1,j=1;return x={require:function(e){return e.require?e.require:e.require=w.makeRequire(e.map)},exports:function(e){return e.usingExports=!0,e.map.isDefine?e.exports?e.exports:e.exports=T[e.map.id]={}:void 0},module:function(e){return e.module?e.module:e.module={id:e.map.id,uri:e.map.url,config:function(){var t,n=getOwn(A.pkgs,e.map.id);return t=n?getOwn(A.config,e.map.id+"/"+n.main):getOwn(A.config,e.map.id),t||{}},exports:T[e.map.id]}}},b=function(e){this.events=getOwn($,e.id)||{},this.map=e,this.shim=getOwn(A.shim,e.id),this.depExports=[],this.depMaps=[],this.depMatched=[],this.pluginMaps={},this.depCount=0},b.prototype={init:function(e,t,n,i){i=i||{},this.inited||(this.factory=t,n?this.on("error",n):this.events.error&&(n=bind(this,function(e){this.emit("error",e)})),this.depMaps=e&&e.slice(0),this.errback=n,this.inited=!0,this.ignore=i.ignore,i.enabled||this.enabled?this.enable():this.check())},defineDep:function(e,t){this.depMatched[e]||(this.depMatched[e]=!0,this.depCount-=1,this.depExports[e]=t)},fetch:function(){if(!this.fetched){this.fetched=!0,w.startTime=(new Date).getTime();var e=this.map;return this.shim?void w.makeRequire(this.map,{enableBuildCallback:!0})(this.shim.deps||[],bind(this,function(){return e.prefix?this.callPlugin():this.load()})):e.prefix?this.callPlugin():this.load()}},load:function(){var e=this.map.url;E[e]||(E[e]=!0,w.load(this.map.id,e))},check:function(){if(this.enabled&&!this.enabling){var e,t,n=this.map.id,i=this.depExports,r=this.exports,o=this.factory;if(this.inited){if(this.error)this.emit("error",this.error);else if(!this.defining){if(this.defining=!0,this.depCount<1&&!this.defined){if(isFunction(o)){if(this.events.error&&this.map.isDefine||req.onError!==defaultOnError)try{r=w.execCb(n,o,i,r)}catch(a){e=a}else r=w.execCb(n,o,i,r);if(this.map.isDefine&&(t=this.module,t&&void 0!==t.exports&&t.exports!==this.exports?r=t.exports:void 0===r&&this.usingExports&&(r=this.exports)),e)return e.requireMap=this.map,e.requireModules=this.map.isDefine?[this.map.id]:null,e.requireType=this.map.isDefine?"define":"require",l(this.error=e)}else r=o;this.exports=r,this.map.isDefine&&!this.ignore&&(T[n]=r,req.onResourceLoad&&req.onResourceLoad(w,this.map,this.depMaps)),d(n),this.defined=!0}this.defining=!1,this.defined&&!this.defineEmitted&&(this.defineEmitted=!0,this.emit("defined",this.exports),this.defineEmitComplete=!0)}}else this.fetch()}},callPlugin:function(){var e=this.map,t=e.id,i=a(e.prefix);this.depMaps.push(i),u(i,"defined",bind(this,function(i){var r,o,c,p=this.map.name,h=this.map.parentMap?this.map.parentMap.name:null,f=w.makeRequire(e.parentMap,{enableBuildCallback:!0});return this.map.unnormalized?(i.normalize&&(p=i.normalize(p,function(e){return n(e,h,!0)})||""),o=a(e.prefix+"!"+p,this.map.parentMap),u(o,"defined",bind(this,function(e){this.init([],function(){return e},null,{enabled:!0,ignore:!0})})),c=getOwn(C,o.id),void(c&&(this.depMaps.push(o),this.events.error&&c.on("error",bind(this,function(e){this.emit("error",e)})),c.enable()))):(r=bind(this,function(e){this.init([],function(){return e},null,{enabled:!0})}),r.error=bind(this,function(e){this.inited=!0,this.error=e,e.requireModules=[t],eachProp(C,function(e){0===e.map.id.indexOf(t+"_unnormalized")&&d(e.map.id)}),l(e)}),r.fromText=bind(this,function(n,i){var o=e.name,u=a(o),c=useInteractive;i&&(n=i),c&&(useInteractive=!1),s(u),hasProp(A.config,t)&&(A.config[o]=A.config[t]);try{req.exec(n)}catch(d){return l(makeError("fromtexteval","fromText eval for "+t+" failed: "+d,d,[t]))}c&&(useInteractive=!0),this.depMaps.push(u),w.completeLoad(o),f([o],r)}),void i.load(e.name,f,r,A))})),w.enable(i,this),this.pluginMaps[i.id]=i},enable:function(){_[this.map.id]=this,this.enabled=!0,this.enabling=!0,each(this.depMaps,bind(this,function(e,t){var n,i,r;if("string"==typeof e){if(e=a(e,this.map.isDefine?this.map:this.map.parentMap,!1,!this.skipMap),this.depMaps[t]=e,r=getOwn(x,e.id))return void(this.depExports[t]=r(this));this.depCount+=1,u(e,"defined",bind(this,function(e){this.defineDep(t,e),this.check()})),this.errback&&u(e,"error",bind(this,this.errback))}n=e.id,i=C[n],hasProp(x,n)||!i||i.enabled||w.enable(e,this)})),eachProp(this.pluginMaps,bind(this,function(e){var t=getOwn(C,e.id);t&&!t.enabled&&w.enable(e,this)})),this.enabling=!1,this.check()},on:function(e,t){var n=this.events[e];n||(n=this.events[e]=[]),n.push(t)},emit:function(e,t){each(this.events[e],function(e){e(t)}),"error"===e&&delete this.events[e]}},w={config:A,contextName:e,registry:C,defined:T,urlFetched:E,defQueue:k,Module:b,makeModuleMap:a,nextTick:req.nextTick,onError:l,configure:function(e){e.baseUrl&&"/"!==e.baseUrl.charAt(e.baseUrl.length-1)&&(e.baseUrl+="/");var t=A.pkgs,n=A.shim,i={paths:!0,config:!0,map:!0};eachProp(e,function(e,t){i[t]?"map"===t?(A.map||(A.map={}),mixin(A[t],e,!0,!0)):mixin(A[t],e,!0):A[t]=e}),e.shim&&(eachProp(e.shim,function(e,t){isArray(e)&&(e={deps:e}),!e.exports&&!e.init||e.exportsFn||(e.exportsFn=w.makeShimExports(e)),n[t]=e}),A.shim=n),e.packages&&(each(e.packages,function(e){var n;e="string"==typeof e?{name:e}:e,n=e.location,t[e.name]={name:e.name,location:n||e.name,main:(e.main||"main").replace(currDirRegExp,"").replace(jsSuffixRegExp,"")}}),A.pkgs=t),eachProp(C,function(e,t){e.inited||e.map.unnormalized||(e.map=a(t))}),(e.deps||e.callback)&&w.require(e.deps||[],e.callback)},makeShimExports:function(e){function t(){var t;return e.init&&(t=e.init.apply(global,arguments)),t||e.exports&&getGlobal(e.exports)}return t},makeRequire:function(t,i){function r(n,o,u){var c,d,p;return i.enableBuildCallback&&o&&isFunction(o)&&(o.__requireJsBuild=!0),"string"==typeof n?isFunction(o)?l(makeError("requireargs","Invalid require call"),u):t&&hasProp(x,n)?x[n](C[t.id]):req.get?req.get(w,n,t,r):(d=a(n,t,!1,!0),c=d.id,hasProp(T,c)?T[c]:l(makeError("notloaded",'Module name "'+c+'" has not been loaded yet for context: '+e+(t?"":". Use require([])")))):(v(),w.nextTick(function(){v(),p=s(a(null,t)),p.skipMap=i.skipMap,p.init(n,o,u,{enabled:!0}),h()}),r)}return i=i||{},mixin(r,{isBrowser:isBrowser,toUrl:function(e){var i,r=e.lastIndexOf("."),o=e.split("/")[0],a="."===o||".."===o;return-1!==r&&(!a||r>1)&&(i=e.substring(r,e.length),e=e.substring(0,r)),w.nameToUrl(n(e,t&&t.id,!0),i,!0)},defined:function(e){return hasProp(T,a(e,t,!1,!0).id)},specified:function(e){return e=a(e,t,!1,!0).id,hasProp(T,e)||hasProp(C,e)}}),t||(r.undef=function(e){c();var n=a(e,t,!0),i=getOwn(C,e);delete T[e],delete E[n.url],delete $[e],i&&(i.events.defined&&($[e]=i.events),d(e))}),r},enable:function(e){var t=getOwn(C,e.id);t&&s(e).enable()},completeLoad:function(e){var t,n,i,o=getOwn(A.shim,e)||{},a=o.exports;for(c();k.length;){if(n=k.shift(),null===n[0]){if(n[0]=e,t)break;t=!0}else n[0]===e&&(t=!0);f(n)}if(i=getOwn(C,e),!t&&!hasProp(T,e)&&i&&!i.inited){if(!(!A.enforceDefine||a&&getGlobal(a)))return r(e)?void 0:l(makeError("nodefine","No define call for "+e,null,[e]));f([e,o.deps||[],o.exportsFn])}h()},nameToUrl:function(e,t,n){var i,r,o,a,s,u,l,c,d;if(req.jsExtRegExp.test(e))c=e+(t||"");else{for(i=A.paths,r=A.pkgs,s=e.split("/"),u=s.length;u>0;u-=1){if(l=s.slice(0,u).join("/"),o=getOwn(r,l),d=getOwn(i,l)){isArray(d)&&(d=d[0]),s.splice(0,u,d);break}if(o){a=e===o.name?o.location+"/"+o.main:o.location,s.splice(0,u,a);break}}c=s.join("/"),c+=t||(/\?/.test(c)||n?"":".js"),c=("/"===c.charAt(0)||c.match(/^[\w\+\.\-]+:/)?"":A.baseUrl)+c}return A.urlArgs?c+((-1===c.indexOf("?")?"?":"&")+A.urlArgs):c},load:function(e,t){req.load(w,e,t)},execCb:function(e,t,n,i){return t.apply(i,n)},onScriptLoad:function(e){if("load"===e.type||readyRegExp.test((e.currentTarget||e.srcElement).readyState)){interactiveScript=null;var t=m(e);w.completeLoad(t.id)}},onScriptError:function(e){var t=m(e);return r(t.id)?void 0:l(makeError("scripterror","Script error for: "+t.id,e,[t.id]))}},w.require=w.makeRequire(),w}function getInteractiveScript(){return interactiveScript&&"interactive"===interactiveScript.readyState?interactiveScript:(eachReverse(scripts(),function(e){return"interactive"===e.readyState?interactiveScript=e:void 0}),interactiveScript)}var req,s,head,baseElement,dataMain,src,interactiveScript,currentlyAddingScript,mainScript,subPath,version="2.1.6",commentRegExp=/(\/\*([\s\S]*?)\*\/|([^:]|^)\/\/(.*)$)/gm,cjsRequireRegExp=/[^.]\s*require\s*\(\s*["']([^'"\s]+)["']\s*\)/g,jsSuffixRegExp=/\.js$/,currDirRegExp=/^\.\//,op=Object.prototype,ostring=op.toString,hasOwn=op.hasOwnProperty,ap=Array.prototype,apsp=ap.splice,isBrowser=!("undefined"==typeof window||!navigator||!window.document),isWebWorker=!isBrowser&&"undefined"!=typeof importScripts,readyRegExp=isBrowser&&"PLAYSTATION 3"===navigator.platform?/^complete$/:/^(complete|loaded)$/,defContextName="_",isOpera="undefined"!=typeof opera&&"[object Opera]"===opera.toString(),contexts={},cfg={},globalDefQueue=[],useInteractive=!1;if("undefined"==typeof define){if("undefined"!=typeof requirejs){if(isFunction(requirejs))return;cfg=requirejs,requirejs=void 0}"undefined"==typeof require||isFunction(require)||(cfg=require,require=void 0),req=requirejs=function(e,t,n,i){var r,o,a=defContextName;return isArray(e)||"string"==typeof e||(o=e,isArray(t)?(e=t,t=n,n=i):e=[]),o&&o.context&&(a=o.context),r=getOwn(contexts,a),r||(r=contexts[a]=req.s.newContext(a)),o&&r.configure(o),r.require(e,t,n)},req.config=function(e){return req(e)},req.nextTick="undefined"!=typeof setTimeout?function(e){setTimeout(e,4)}:function(e){e()},require||(require=req),req.version=version,req.jsExtRegExp=/^\/|:|\?|\.js$/,req.isBrowser=isBrowser,s=req.s={contexts:contexts,newContext:newContext},req({}),each(["toUrl","undef","defined","specified"],function(e){req[e]=function(){var t=contexts[defContextName];return t.require[e].apply(t,arguments)}}),isBrowser&&(head=s.head=document.getElementsByTagName("head")[0],baseElement=document.getElementsByTagName("base")[0],baseElement&&(head=s.head=baseElement.parentNode)),req.onError=defaultOnError,req.load=function(e,t,n){var i,r=e&&e.config||{};if(isBrowser)return i=r.xhtml?document.createElementNS("http://www.w3.org/1999/xhtml","html:script"):document.createElement("script"),i.type=r.scriptType||"text/javascript",i.charset="utf-8",i.async=!0,i.setAttribute("data-requirecontext",e.contextName),i.setAttribute("data-requiremodule",t),!i.attachEvent||i.attachEvent.toString&&i.attachEvent.toString().indexOf("[native code")<0||isOpera?(i.addEventListener("load",e.onScriptLoad,!1),i.addEventListener("error",e.onScriptError,!1)):(useInteractive=!0,i.attachEvent("onreadystatechange",e.onScriptLoad)),i.src=n,currentlyAddingScript=i,baseElement?head.insertBefore(i,baseElement):head.appendChild(i),currentlyAddingScript=null,i;if(isWebWorker)try{importScripts(n),e.completeLoad(t)}catch(o){e.onError(makeError("importscripts","importScripts failed for "+t+" at "+n,o,[t]))}},isBrowser&&eachReverse(scripts(),function(e){return head||(head=e.parentNode),dataMain=e.getAttribute("data-main"),dataMain?(mainScript=dataMain,cfg.baseUrl||(src=mainScript.split("/"),mainScript=src.pop(),subPath=src.length?src.join("/")+"/":"./",cfg.baseUrl=subPath),mainScript=mainScript.replace(jsSuffixRegExp,""),req.jsExtRegExp.test(mainScript)&&(mainScript=dataMain),cfg.deps=cfg.deps?cfg.deps.concat(mainScript):[mainScript],!0):void 0}),define=function(e,t,n){var i,r;"string"!=typeof e&&(n=t,t=e,e=null),isArray(t)||(n=t,t=null),!t&&isFunction(n)&&(t=[],n.length&&(n.toString().replace(commentRegExp,"").replace(cjsRequireRegExp,function(e,n){t.push(n)}),t=(1===n.length?["require"]:["require","exports","module"]).concat(t))),useInteractive&&(i=currentlyAddingScript||getInteractiveScript(),i&&(e||(e=i.getAttribute("data-requiremodule")),r=contexts[i.getAttribute("data-requirecontext")])),(r?r.defQueue:globalDefQueue).push([e,t,n])},define.amd={jQuery:!0},req.exec=function(text){return eval(text)},req(cfg)}}(this),define("require-lib",function(){}),function(e,t){function n(e){var t=ft[e]={};return Y.each(e.split(tt),function(e,n){t[n]=!0}),t}function i(e,n,i){if(i===t&&1===e.nodeType){var r="data-"+n.replace(mt,"-$1").toLowerCase();if(i=e.getAttribute(r),"string"==typeof i){try{i="true"===i?!0:"false"===i?!1:"null"===i?null:+i+""===i?+i:gt.test(i)?Y.parseJSON(i):i}catch(o){}Y.data(e,n,i)}else i=t}return i}function r(e){var t;for(t in e)if(("data"!==t||!Y.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function o(){return!1}function a(){return!0}function s(e){return!e||!e.parentNode||11===e.parentNode.nodeType}function u(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function l(e,t,n){if(t=t||0,Y.isFunction(t))return Y.grep(e,function(e,i){var r=!!t.call(e,i,e);return r===n});if(t.nodeType)return Y.grep(e,function(e){return e===t===n});if("string"==typeof t){var i=Y.grep(e,function(e){return 1===e.nodeType});if(Ot.test(t))return Y.filter(t,i,!n);t=Y.filter(t,i)}return Y.grep(e,function(e){return Y.inArray(e,t)>=0===n})}function c(e){var t=It.split("|"),n=e.createDocumentFragment();if(n.createElement)for(;t.length;)n.createElement(t.pop());return n}function d(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function p(e,t){if(1===t.nodeType&&Y.hasData(e)){var n,i,r,o=Y._data(e),a=Y._data(t,o),s=o.events;if(s){delete a.handle,a.events={};for(n in s)for(i=0,r=s[n].length;r>i;i++)Y.event.add(t,n,s[n][i])}a.data&&(a.data=Y.extend({},a.data))}}function h(e,t){var n;1===t.nodeType&&(t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),Y.support.html5Clone&&e.innerHTML&&!Y.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&Gt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.selected=e.defaultSelected:"input"===n||"textarea"===n?t.defaultValue=e.defaultValue:"script"===n&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(Y.expando))}function f(e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):"undefined"!=typeof e.querySelectorAll?e.querySelectorAll("*"):[]}function g(e){Gt.test(e.type)&&(e.defaultChecked=e.checked)}function m(e,t){if(t in e)return t;for(var n=t.charAt(0).toUpperCase()+t.slice(1),i=t,r=yn.length;r--;)if(t=yn[r]+n,t in e)return t;return i}function v(e,t){return e=t||e,"none"===Y.css(e,"display")||!Y.contains(e.ownerDocument,e)}function y(e,t){for(var n,i,r=[],o=0,a=e.length;a>o;o++)n=e[o],n.style&&(r[o]=Y._data(n,"olddisplay"),t?(r[o]||"none"!==n.style.display||(n.style.display=""),""===n.style.display&&v(n)&&(r[o]=Y._data(n,"olddisplay",S(n.nodeName)))):(i=nn(n,"display"),r[o]||"none"===i||Y._data(n,"olddisplay",i)));for(o=0;a>o;o++)n=e[o],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?r[o]||"":"none"));return e}function b(e,t,n){var i=dn.exec(t);return i?Math.max(0,i[1]-(n||0))+(i[2]||"px"):t}function w(e,t,n,i){for(var r=n===(i?"border":"content")?4:"width"===t?1:0,o=0;4>r;r+=2)"margin"===n&&(o+=Y.css(e,n+vn[r],!0)),i?("content"===n&&(o-=parseFloat(nn(e,"padding"+vn[r]))||0),"margin"!==n&&(o-=parseFloat(nn(e,"border"+vn[r]+"Width"))||0)):(o+=parseFloat(nn(e,"padding"+vn[r]))||0,"padding"!==n&&(o+=parseFloat(nn(e,"border"+vn[r]+"Width"))||0));return o}function x(e,t,n){var i="width"===t?e.offsetWidth:e.offsetHeight,r=!0,o=Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing");if(0>=i||null==i){if(i=nn(e,t),(0>i||null==i)&&(i=e.style[t]),pn.test(i))return i;r=o&&(Y.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+w(e,t,n||(o?"border":"content"),r)+"px"}function S(e){if(fn[e])return fn[e];var t=Y("<"+e+">").appendTo(J.body),n=t.css("display");return t.remove(),("none"===n||""===n)&&(rn=J.body.appendChild(rn||Y.extend(J.createElement("iframe"),{frameBorder:0,width:0,height:0})),on&&rn.createElement||(on=(rn.contentWindow||rn.contentDocument).document,on.write("<!doctype html><html><body>"),on.close()),t=on.body.appendChild(on.createElement(e)),n=nn(t,"display"),J.body.removeChild(rn)),fn[e]=n,n}function A(e,t,n,i){var r;if(Y.isArray(t))Y.each(t,function(t,r){n||xn.test(e)?i(e,r):A(e+"["+("object"==typeof r?t:"")+"]",r,n,i)});else if(n||"object"!==Y.type(t))i(e,t);else for(r in t)A(e+"["+r+"]",t[r],n,i)}function C(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r,o,a=t.toLowerCase().split(tt),s=0,u=a.length;if(Y.isFunction(n))for(;u>s;s++)i=a[s],o=/^\+/.test(i),o&&(i=i.substr(1)||"*"),r=e[i]=e[i]||[],r[o?"unshift":"push"](n)}}function _(e,n,i,r,o,a){o=o||n.dataTypes[0],a=a||{},a[o]=!0;for(var s,u=e[o],l=0,c=u?u.length:0,d=e===Pn;c>l&&(d||!s);l++)s=u[l](n,i,r),"string"==typeof s&&(!d||a[s]?s=t:(n.dataTypes.unshift(s),s=_(e,n,i,r,s,a)));return!d&&s||a["*"]||(s=_(e,n,i,r,"*",a)),s}function $(e,n){var i,r,o=Y.ajaxSettings.flatOptions||{};for(i in n)n[i]!==t&&((o[i]?e:r||(r={}))[i]=n[i]);r&&Y.extend(!0,e,r)}function k(e,n,i){var r,o,a,s,u=e.contents,l=e.dataTypes,c=e.responseFields;for(o in c)o in i&&(n[c[o]]=i[o]);for(;"*"===l[0];)l.shift(),r===t&&(r=e.mimeType||n.getResponseHeader("content-type"));if(r)for(o in u)if(u[o]&&u[o].test(r)){l.unshift(o);break}if(l[0]in i)a=l[0];else{for(o in i){if(!l[0]||e.converters[o+" "+l[0]]){a=o;break}s||(s=o)}a=a||s}return a?(a!==l[0]&&l.unshift(a),i[a]):void 0}function T(e,t){var n,i,r,o,a=e.dataTypes.slice(),s=a[0],u={},l=0;if(e.dataFilter&&(t=e.dataFilter(t,e.dataType)),a[1])for(n in e.converters)u[n.toLowerCase()]=e.converters[n];for(;r=a[++l];)if("*"!==r){if("*"!==s&&s!==r){if(n=u[s+" "+r]||u["* "+r],!n)for(i in u)if(o=i.split(" "),o[1]===r&&(n=u[s+" "+o[0]]||u["* "+o[0]])){n===!0?n=u[i]:u[i]!==!0&&(r=o[0],a.splice(l--,0,r));break}if(n!==!0)if(n&&e["throws"])t=n(t);else try{t=n(t)}catch(c){return{state:"parsererror",error:n?c:"No conversion from "+s+" to "+r}}}s=r}return{state:"success",data:t}}function E(){try{return new e.XMLHttpRequest}catch(t){}}function N(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function j(){return setTimeout(function(){Kn=t},0),Kn=Y.now()}function H(e,t){Y.each(t,function(t,n){for(var i=(ei[t]||[]).concat(ei["*"]),r=0,o=i.length;o>r;r++)if(i[r].call(e,t,n))return})}function D(e,t,n){var i,r=0,o=Zn.length,a=Y.Deferred().always(function(){delete s.elem}),s=function(){for(var t=Kn||j(),n=Math.max(0,u.startTime+u.duration-t),i=n/u.duration||0,r=1-i,o=0,s=u.tweens.length;s>o;o++)u.tweens[o].run(r);return a.notifyWith(e,[u,r,n]),1>r&&s?n:(a.resolveWith(e,[u]),!1)},u=a.promise({elem:e,props:Y.extend({},t),opts:Y.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kn||j(),duration:n.duration,tweens:[],createTween:function(t,n){var i=Y.Tween(e,u.opts,t,n,u.opts.specialEasing[t]||u.opts.easing);return u.tweens.push(i),i},stop:function(t){for(var n=0,i=t?u.tweens.length:0;i>n;n++)u.tweens[n].run(1);return t?a.resolveWith(e,[u,t]):a.rejectWith(e,[u,t]),this}}),l=u.props;for(R(l,u.opts.specialEasing);o>r;r++)if(i=Zn[r].call(u,e,l,u.opts))return i;return H(u,l),Y.isFunction(u.opts.start)&&u.opts.start.call(e,u),Y.fx.timer(Y.extend(s,{anim:u,queue:u.opts.queue,elem:e})),u.progress(u.opts.progress).done(u.opts.done,u.opts.complete).fail(u.opts.fail).always(u.opts.always)}function R(e,t){var n,i,r,o,a;for(n in e)if(i=Y.camelCase(n),r=t[i],o=e[n],Y.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),a=Y.cssHooks[i],a&&"expand"in a){o=a.expand(o),delete e[i];for(n in o)n in e||(e[n]=o[n],t[n]=r)}else t[i]=r}function q(e,t,n){var i,r,o,a,s,u,l,c,d,p=this,h=e.style,f={},g=[],m=e.nodeType&&v(e);n.queue||(c=Y._queueHooks(e,"fx"),null==c.unqueued&&(c.unqueued=0,d=c.empty.fire,c.empty.fire=function(){c.unqueued||d()}),c.unqueued++,p.always(function(){p.always(function(){c.unqueued--,Y.queue(e,"fx").length||c.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[h.overflow,h.overflowX,h.overflowY],"inline"===Y.css(e,"display")&&"none"===Y.css(e,"float")&&(Y.support.inlineBlockNeedsLayout&&"inline"!==S(e.nodeName)?h.zoom=1:h.display="inline-block")),n.overflow&&(h.overflow="hidden",Y.support.shrinkWrapBlocks||p.done(function(){h.overflow=n.overflow[0],h.overflowX=n.overflow[1],h.overflowY=n.overflow[2]}));for(i in t)if(o=t[i],Qn.exec(o)){if(delete t[i],u=u||"toggle"===o,o===(m?"hide":"show"))continue;g.push(i)}if(a=g.length){s=Y._data(e,"fxshow")||Y._data(e,"fxshow",{}),"hidden"in s&&(m=s.hidden),u&&(s.hidden=!m),m?Y(e).show():p.done(function(){Y(e).hide()}),p.done(function(){var t;Y.removeData(e,"fxshow",!0);for(t in f)Y.style(e,t,f[t])});for(i=0;a>i;i++)r=g[i],l=p.createTween(r,m?s[r]:0),f[r]=s[r]||Y.style(e,r),r in s||(s[r]=l.start,m&&(l.end=l.start,l.start="width"===r||"height"===r?1:0))}}function O(e,t,n,i,r){return new O.prototype.init(e,t,n,i,r)}function P(e,t){var n,i={height:e},r=0;for(t=t?1:0;4>r;r+=2-t)n=vn[r],i["margin"+n]=i["padding"+n]=e;return t&&(i.opacity=i.width=e),i}function M(e){return Y.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var I,L,J=e.document,F=e.location,B=e.navigator,z=e.jQuery,U=e.$,W=Array.prototype.push,V=Array.prototype.slice,K=Array.prototype.indexOf,G=Object.prototype.toString,Q=Object.prototype.hasOwnProperty,X=String.prototype.trim,Y=function(e,t){return new Y.fn.init(e,t,I)},Z=/[\-+]?(?:\d*\.|)\d+(?:[eE][\-+]?\d+|)/.source,et=/\S/,tt=/\s+/,nt=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,it=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,rt=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ot=/^[\],:{}\s]*$/,at=/(?:^|:|,)(?:\s*\[)+/g,st=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ut=/"[^"\\\r\n]*"|true|false|null|-?(?:\d\d*\.|)\d+(?:[eE][\-+]?\d+|)/g,lt=/^-ms-/,ct=/-([\da-z])/gi,dt=function(e,t){return(t+"").toUpperCase()},pt=function(){J.addEventListener?(J.removeEventListener("DOMContentLoaded",pt,!1),Y.ready()):"complete"===J.readyState&&(J.detachEvent("onreadystatechange",pt),Y.ready())},ht={};Y.fn=Y.prototype={constructor:Y,init:function(e,n,i){var r,o,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if("string"==typeof e){if(r="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:it.exec(e),!r||!r[1]&&n)return!n||n.jquery?(n||i).find(e):this.constructor(n).find(e);if(r[1])return n=n instanceof Y?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:J,e=Y.parseHTML(r[1],a,!0),rt.test(r[1])&&Y.isPlainObject(n)&&this.attr.call(e,n,!0),Y.merge(this,e);if(o=J.getElementById(r[2]),o&&o.parentNode){if(o.id!==r[2])return i.find(e);this.length=1,this[0]=o}return this.context=J,this.selector=e,this}return Y.isFunction(e)?i.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),Y.makeArray(e,this))},selector:"",jquery:"1.8.3",length:0,size:function(){return this.length},toArray:function(){return V.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e,t,n){var i=Y.merge(this.constructor(),e);return i.prevObject=this,i.context=this.context,"find"===t?i.selector=this.selector+(this.selector?" ":"")+n:t&&(i.selector=this.selector+"."+t+"("+n+")"),i},each:function(e,t){return Y.each(this,e,t)},ready:function(e){return Y.ready.promise().done(e),this},eq:function(e){return e=+e,-1===e?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(V.apply(this,arguments),"slice",V.call(arguments).join(","))},map:function(e){return this.pushStack(Y.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:W,sort:[].sort,splice:[].splice},Y.fn.init.prototype=Y.fn,Y.extend=Y.fn.extend=function(){var e,n,i,r,o,a,s=arguments[0]||{},u=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[1]||{},u=2),"object"==typeof s||Y.isFunction(s)||(s={}),l===u&&(s=this,--u);l>u;u++)if(null!=(e=arguments[u]))for(n in e)i=s[n],r=e[n],s!==r&&(c&&r&&(Y.isPlainObject(r)||(o=Y.isArray(r)))?(o?(o=!1,a=i&&Y.isArray(i)?i:[]):a=i&&Y.isPlainObject(i)?i:{},s[n]=Y.extend(c,a,r)):r!==t&&(s[n]=r));return s},Y.extend({noConflict:function(t){return e.$===Y&&(e.$=U),t&&e.jQuery===Y&&(e.jQuery=z),Y},isReady:!1,readyWait:1,holdReady:function(e){e?Y.readyWait++:Y.ready(!0)},ready:function(e){if(e===!0?!--Y.readyWait:!Y.isReady){if(!J.body)return setTimeout(Y.ready,1);Y.isReady=!0,e!==!0&&--Y.readyWait>0||(L.resolveWith(J,[Y]),Y.fn.trigger&&Y(J).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===Y.type(e)},isArray:Array.isArray||function(e){return"array"===Y.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):ht[G.call(e)]||"object"},isPlainObject:function(e){if(!e||"object"!==Y.type(e)||e.nodeType||Y.isWindow(e))return!1;try{if(e.constructor&&!Q.call(e,"constructor")&&!Q.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}var i;for(i in e);return i===t||Q.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var i;return e&&"string"==typeof e?("boolean"==typeof t&&(n=t,t=0),t=t||J,(i=rt.exec(e))?[t.createElement(i[1])]:(i=Y.buildFragment([e],t,n?null:[]),Y.merge([],(i.cacheable?Y.clone(i.fragment):i.fragment).childNodes))):null},parseJSON:function(t){return t&&"string"==typeof t?(t=Y.trim(t),e.JSON&&e.JSON.parse?e.JSON.parse(t):ot.test(t.replace(st,"@").replace(ut,"]").replace(at,""))?new Function("return "+t)():void Y.error("Invalid JSON: "+t)):null},parseXML:function(n){var i,r;if(!n||"string"!=typeof n)return null;try{e.DOMParser?(r=new DOMParser,i=r.parseFromString(n,"text/xml")):(i=new ActiveXObject("Microsoft.XMLDOM"),i.async="false",i.loadXML(n))}catch(o){i=t}return i&&i.documentElement&&!i.getElementsByTagName("parsererror").length||Y.error("Invalid XML: "+n),i},noop:function(){},globalEval:function(t){t&&et.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(lt,"ms-").replace(ct,dt)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,i){var r,o=0,a=e.length,s=a===t||Y.isFunction(e);if(i)if(s){for(r in e)if(n.apply(e[r],i)===!1)break}else for(;a>o&&n.apply(e[o++],i)!==!1;);else if(s){for(r in e)if(n.call(e[r],r,e[r])===!1)break}else for(;a>o&&n.call(e[o],o,e[o++])!==!1;);return e},trim:X&&!X.call("﻿ ")?function(e){return null==e?"":X.call(e)}:function(e){return null==e?"":(e+"").replace(nt,"")},makeArray:function(e,t){var n,i=t||[];return null!=e&&(n=Y.type(e),null==e.length||"string"===n||"function"===n||"regexp"===n||Y.isWindow(e)?W.call(i,e):Y.merge(i,e)),i},inArray:function(e,t,n){var i;if(t){if(K)return K.call(t,e,n);for(i=t.length,n=n?0>n?Math.max(0,i+n):n:0;i>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var i=n.length,r=e.length,o=0;if("number"==typeof i)for(;i>o;o++)e[r++]=n[o];else for(;n[o]!==t;)e[r++]=n[o++];return e.length=r,e},grep:function(e,t,n){var i,r=[],o=0,a=e.length;for(n=!!n;a>o;o++)i=!!t(e[o],o),n!==i&&r.push(e[o]);return r},map:function(e,n,i){var r,o,a=[],s=0,u=e.length,l=e instanceof Y||u!==t&&"number"==typeof u&&(u>0&&e[0]&&e[u-1]||0===u||Y.isArray(e));if(l)for(;u>s;s++)r=n(e[s],s,i),null!=r&&(a[a.length]=r);else for(o in e)r=n(e[o],o,i),null!=r&&(a[a.length]=r);return a.concat.apply([],a)},guid:1,proxy:function(e,n){var i,r,o;return"string"==typeof n&&(i=e[n],n=e,e=i),Y.isFunction(e)?(r=V.call(arguments,2),o=function(){return e.apply(n,r.concat(V.call(arguments)))
},o.guid=e.guid=e.guid||Y.guid++,o):t},access:function(e,n,i,r,o,a,s){var u,l=null==i,c=0,d=e.length;if(i&&"object"==typeof i){for(c in i)Y.access(e,n,c,i[c],1,a,r);o=1}else if(r!==t){if(u=s===t&&Y.isFunction(r),l&&(u?(u=n,n=function(e,t,n){return u.call(Y(e),n)}):(n.call(e,r),n=null)),n)for(;d>c;c++)n(e[c],i,u?r.call(e[c],c,n(e[c],i)):r,s);o=1}return o?e:l?n.call(e):d?n(e[0],i):a},now:function(){return(new Date).getTime()}}),Y.ready.promise=function(t){if(!L)if(L=Y.Deferred(),"complete"===J.readyState)setTimeout(Y.ready,1);else if(J.addEventListener)J.addEventListener("DOMContentLoaded",pt,!1),e.addEventListener("load",Y.ready,!1);else{J.attachEvent("onreadystatechange",pt),e.attachEvent("onload",Y.ready);var n=!1;try{n=null==e.frameElement&&J.documentElement}catch(i){}n&&n.doScroll&&!function r(){if(!Y.isReady){try{n.doScroll("left")}catch(e){return setTimeout(r,50)}Y.ready()}}()}return L.promise(t)},Y.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(e,t){ht["[object "+t+"]"]=t.toLowerCase()}),I=Y(J);var ft={};Y.Callbacks=function(e){e="string"==typeof e?ft[e]||n(e):Y.extend({},e);var i,r,o,a,s,u,l=[],c=!e.once&&[],d=function(t){for(i=e.memory&&t,r=!0,u=a||0,a=0,s=l.length,o=!0;l&&s>u;u++)if(l[u].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1;break}o=!1,l&&(c?c.length&&d(c.shift()):i?l=[]:p.disable())},p={add:function(){if(l){var t=l.length;!function n(t){Y.each(t,function(t,i){var r=Y.type(i);"function"===r?e.unique&&p.has(i)||l.push(i):i&&i.length&&"string"!==r&&n(i)})}(arguments),o?s=l.length:i&&(a=t,d(i))}return this},remove:function(){return l&&Y.each(arguments,function(e,t){for(var n;(n=Y.inArray(t,l,n))>-1;)l.splice(n,1),o&&(s>=n&&s--,u>=n&&u--)}),this},has:function(e){return Y.inArray(e,l)>-1},empty:function(){return l=[],this},disable:function(){return l=c=i=t,this},disabled:function(){return!l},lock:function(){return c=t,i||p.disable(),this},locked:function(){return!c},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!l||r&&!c||(o?c.push(t):d(t)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!r}};return p},Y.extend({Deferred:function(e){var t=[["resolve","done",Y.Callbacks("once memory"),"resolved"],["reject","fail",Y.Callbacks("once memory"),"rejected"],["notify","progress",Y.Callbacks("memory")]],n="pending",i={state:function(){return n},always:function(){return r.done(arguments).fail(arguments),this},then:function(){var e=arguments;return Y.Deferred(function(n){Y.each(t,function(t,i){var o=i[0],a=e[t];r[i[1]](Y.isFunction(a)?function(){var e=a.apply(this,arguments);e&&Y.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[o+"With"](this===r?n:this,[e])}:n[o])}),e=null}).promise()},promise:function(e){return null!=e?Y.extend(e,i):i}},r={};return i.pipe=i.then,Y.each(t,function(e,o){var a=o[2],s=o[3];i[o[1]]=a.add,s&&a.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),r[o[0]]=a.fire,r[o[0]+"With"]=a.fireWith}),i.promise(r),e&&e.call(r,r),r},when:function(e){var t,n,i,r=0,o=V.call(arguments),a=o.length,s=1!==a||e&&Y.isFunction(e.promise)?a:0,u=1===s?e:Y.Deferred(),l=function(e,n,i){return function(r){n[e]=this,i[e]=arguments.length>1?V.call(arguments):r,i===t?u.notifyWith(n,i):--s||u.resolveWith(n,i)}};if(a>1)for(t=new Array(a),n=new Array(a),i=new Array(a);a>r;r++)o[r]&&Y.isFunction(o[r].promise)?o[r].promise().done(l(r,i,o)).fail(u.reject).progress(l(r,n,t)):--s;return s||u.resolveWith(i,o),u.promise()}}),Y.support=function(){var t,n,i,r,o,a,s,u,l,c,d,p=J.createElement("div");if(p.setAttribute("className","t"),p.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=p.getElementsByTagName("*"),i=p.getElementsByTagName("a")[0],!n||!i||!n.length)return{};r=J.createElement("select"),o=r.appendChild(J.createElement("option")),a=p.getElementsByTagName("input")[0],i.style.cssText="top:1px;float:left;opacity:.5",t={leadingWhitespace:3===p.firstChild.nodeType,tbody:!p.getElementsByTagName("tbody").length,htmlSerialize:!!p.getElementsByTagName("link").length,style:/top/.test(i.getAttribute("style")),hrefNormalized:"/a"===i.getAttribute("href"),opacity:/^0.5/.test(i.style.opacity),cssFloat:!!i.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==p.className,enctype:!!J.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==J.createElement("nav").cloneNode(!0).outerHTML,boxModel:"CSS1Compat"===J.compatMode,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},a.checked=!0,t.noCloneChecked=a.cloneNode(!0).checked,r.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(h){t.deleteExpando=!1}if(!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent("onclick",d=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent("onclick"),p.detachEvent("onclick",d)),a=J.createElement("input"),a.value="t",a.setAttribute("type","radio"),t.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),p.appendChild(a),s=J.createDocumentFragment(),s.appendChild(p.lastChild),t.checkClone=s.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=a.checked,s.removeChild(a),s.appendChild(p),p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})u="on"+l,c=u in p,c||(p.setAttribute(u,"return;"),c="function"==typeof p[u]),t[l+"Bubbles"]=c;return Y(function(){var n,i,r,o,a="padding:0;margin:0;border:0;display:block;overflow:hidden;",s=J.getElementsByTagName("body")[0];s&&(n=J.createElement("div"),n.style.cssText="visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px",s.insertBefore(n,s.firstChild),i=J.createElement("div"),n.appendChild(i),i.innerHTML="<table><tr><td></td><td>t</td></tr></table>",r=i.getElementsByTagName("td"),r[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===r[0].offsetHeight,r[0].style.display="",r[1].style.display="none",t.reliableHiddenOffsets=c&&0===r[0].offsetHeight,i.innerHTML="",i.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",t.boxSizing=4===i.offsetWidth,t.doesNotIncludeMarginInBodyOffset=1!==s.offsetTop,e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(i,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(i,null)||{width:"4px"}).width,o=J.createElement("div"),o.style.cssText=i.style.cssText=a,o.style.marginRight=o.style.width="0",i.style.width="1px",i.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),"undefined"!=typeof i.style.zoom&&(i.innerHTML="",i.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===i.offsetWidth,i.style.display="block",i.style.overflow="visible",i.innerHTML="<div></div>",i.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==i.offsetWidth,n.style.zoom=1),s.removeChild(n),n=i=r=o=null)}),s.removeChild(p),n=i=r=o=a=s=p=null,t}();var gt=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,mt=/([A-Z])/g;Y.extend({cache:{},deletedIds:[],uuid:0,expando:"jQuery"+(Y.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(e){return e=e.nodeType?Y.cache[e[Y.expando]]:e[Y.expando],!!e&&!r(e)},data:function(e,n,i,r){if(Y.acceptData(e)){var o,a,s=Y.expando,u="string"==typeof n,l=e.nodeType,c=l?Y.cache:e,d=l?e[s]:e[s]&&s;if(d&&c[d]&&(r||c[d].data)||!u||i!==t)return d||(l?e[s]=d=Y.deletedIds.pop()||Y.guid++:d=s),c[d]||(c[d]={},l||(c[d].toJSON=Y.noop)),("object"==typeof n||"function"==typeof n)&&(r?c[d]=Y.extend(c[d],n):c[d].data=Y.extend(c[d].data,n)),o=c[d],r||(o.data||(o.data={}),o=o.data),i!==t&&(o[Y.camelCase(n)]=i),u?(a=o[n],null==a&&(a=o[Y.camelCase(n)])):a=o,a}},removeData:function(e,t,n){if(Y.acceptData(e)){var i,o,a,s=e.nodeType,u=s?Y.cache:e,l=s?e[Y.expando]:Y.expando;if(u[l]){if(t&&(i=n?u[l]:u[l].data)){Y.isArray(t)||(t in i?t=[t]:(t=Y.camelCase(t),t=t in i?[t]:t.split(" ")));for(o=0,a=t.length;a>o;o++)delete i[t[o]];if(!(n?r:Y.isEmptyObject)(i))return}(n||(delete u[l].data,r(u[l])))&&(s?Y.cleanData([e],!0):Y.support.deleteExpando||u!=u.window?delete u[l]:u[l]=null)}}},_data:function(e,t,n){return Y.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&Y.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),Y.fn.extend({data:function(e,n){var r,o,a,s,u,l=this[0],c=0,d=null;if(e===t){if(this.length&&(d=Y.data(l),1===l.nodeType&&!Y._data(l,"parsedAttrs"))){for(a=l.attributes,u=a.length;u>c;c++)s=a[c].name,s.indexOf("data-")||(s=Y.camelCase(s.substring(5)),i(l,s,d[s]));Y._data(l,"parsedAttrs",!0)}return d}return"object"==typeof e?this.each(function(){Y.data(this,e)}):(r=e.split(".",2),r[1]=r[1]?"."+r[1]:"",o=r[1]+"!",Y.access(this,function(n){return n===t?(d=this.triggerHandler("getData"+o,[r[0]]),d===t&&l&&(d=Y.data(l,e),d=i(l,e,d)),d===t&&r[1]?this.data(r[0]):d):(r[1]=n,void this.each(function(){var t=Y(this);t.triggerHandler("setData"+o,r),Y.data(this,e,n),t.triggerHandler("changeData"+o,r)}))},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){Y.removeData(this,e)})}}),Y.extend({queue:function(e,t,n){var i;return e?(t=(t||"fx")+"queue",i=Y._data(e,t),n&&(!i||Y.isArray(n)?i=Y._data(e,t,Y.makeArray(n)):i.push(n)),i||[]):void 0},dequeue:function(e,t){t=t||"fx";var n=Y.queue(e,t),i=n.length,r=n.shift(),o=Y._queueHooks(e,t),a=function(){Y.dequeue(e,t)};"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,a,o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Y._data(e,n)||Y._data(e,n,{empty:Y.Callbacks("once memory").add(function(){Y.removeData(e,t+"queue",!0),Y.removeData(e,n,!0)})})}}),Y.fn.extend({queue:function(e,n){var i=2;return"string"!=typeof e&&(n=e,e="fx",i--),arguments.length<i?Y.queue(this[0],e):n===t?this:this.each(function(){var t=Y.queue(this,e,n);Y._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&Y.dequeue(this,e)})},dequeue:function(e){return this.each(function(){Y.dequeue(this,e)})},delay:function(e,t){return e=Y.fx?Y.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var i=setTimeout(t,e);n.stop=function(){clearTimeout(i)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var i,r=1,o=Y.Deferred(),a=this,s=this.length,u=function(){--r||o.resolveWith(a,[a])};for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)i=Y._data(a[s],e+"queueHooks"),i&&i.empty&&(r++,i.empty.add(u));return u(),o.promise(n)}});var vt,yt,bt,wt=/[\t\r\n]/g,xt=/\r/g,St=/^(?:button|input)$/i,At=/^(?:button|input|object|select|textarea)$/i,Ct=/^a(?:rea|)$/i,_t=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,$t=Y.support.getSetAttribute;Y.fn.extend({attr:function(e,t){return Y.access(this,Y.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){Y.removeAttr(this,e)})},prop:function(e,t){return Y.access(this,Y.prop,e,t,arguments.length>1)},removeProp:function(e){return e=Y.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,i,r,o,a,s;if(Y.isFunction(e))return this.each(function(t){Y(this).addClass(e.call(this,t,this.className))});if(e&&"string"==typeof e)for(t=e.split(tt),n=0,i=this.length;i>n;n++)if(r=this[n],1===r.nodeType)if(r.className||1!==t.length){for(o=" "+r.className+" ",a=0,s=t.length;s>a;a++)o.indexOf(" "+t[a]+" ")<0&&(o+=t[a]+" ");r.className=Y.trim(o)}else r.className=e;return this},removeClass:function(e){var n,i,r,o,a,s,u;if(Y.isFunction(e))return this.each(function(t){Y(this).removeClass(e.call(this,t,this.className))});if(e&&"string"==typeof e||e===t)for(n=(e||"").split(tt),s=0,u=this.length;u>s;s++)if(r=this[s],1===r.nodeType&&r.className){for(i=(" "+r.className+" ").replace(wt," "),o=0,a=n.length;a>o;o++)for(;i.indexOf(" "+n[o]+" ")>=0;)i=i.replace(" "+n[o]+" "," ");r.className=e?Y.trim(i):""}return this},toggleClass:function(e,t){var n=typeof e,i="boolean"==typeof t;return this.each(Y.isFunction(e)?function(n){Y(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var r,o=0,a=Y(this),s=t,u=e.split(tt);r=u[o++];)s=i?s:!a.hasClass(r),a[s?"addClass":"removeClass"](r);else("undefined"===n||"boolean"===n)&&(this.className&&Y._data(this,"__className__",this.className),this.className=this.className||e===!1?"":Y._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,i=this.length;i>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(wt," ").indexOf(t)>=0)return!0;return!1},val:function(e){var n,i,r,o=this[0];{if(arguments.length)return r=Y.isFunction(e),this.each(function(i){var o,a=Y(this);1===this.nodeType&&(o=r?e.call(this,i,a.val()):e,null==o?o="":"number"==typeof o?o+="":Y.isArray(o)&&(o=Y.map(o,function(e){return null==e?"":e+""})),n=Y.valHooks[this.type]||Y.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,o,"value")!==t||(this.value=o))});if(o)return n=Y.valHooks[o.type]||Y.valHooks[o.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(o,"value"))!==t?i:(i=o.value,"string"==typeof i?i.replace(xt,""):null==i?"":i)}}}),Y.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){for(var t,n,i=e.options,r=e.selectedIndex,o="select-one"===e.type||0>r,a=o?null:[],s=o?r+1:i.length,u=0>r?s:o?r:0;s>u;u++)if(n=i[u],!(!n.selected&&u!==r||(Y.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&Y.nodeName(n.parentNode,"optgroup"))){if(t=Y(n).val(),o)return t;a.push(t)}return a},set:function(e,t){var n=Y.makeArray(t);return Y(e).find("option").each(function(){this.selected=Y.inArray(Y(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,i,r){var o,a,s,u=e.nodeType;if(e&&3!==u&&8!==u&&2!==u)return r&&Y.isFunction(Y.fn[n])?Y(e)[n](i):"undefined"==typeof e.getAttribute?Y.prop(e,n,i):(s=1!==u||!Y.isXMLDoc(e),s&&(n=n.toLowerCase(),a=Y.attrHooks[n]||(_t.test(n)?yt:vt)),i!==t?null===i?void Y.removeAttr(e,n):a&&"set"in a&&s&&(o=a.set(e,i,n))!==t?o:(e.setAttribute(n,i+""),i):a&&"get"in a&&s&&null!==(o=a.get(e,n))?o:(o=e.getAttribute(n),null===o?t:o))},removeAttr:function(e,t){var n,i,r,o,a=0;if(t&&1===e.nodeType)for(i=t.split(tt);a<i.length;a++)r=i[a],r&&(n=Y.propFix[r]||r,o=_t.test(r),o||Y.attr(e,r,""),e.removeAttribute($t?r:n),o&&n in e&&(e[n]=!1))},attrHooks:{type:{set:function(e,t){if(St.test(e.nodeName)&&e.parentNode)Y.error("type property can't be changed");else if(!Y.support.radioValue&&"radio"===t&&Y.nodeName(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}},value:{get:function(e,t){return vt&&Y.nodeName(e,"button")?vt.get(e,t):t in e?e.value:null},set:function(e,t,n){return vt&&Y.nodeName(e,"button")?vt.set(e,t,n):void(e.value=t)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(e,n,i){var r,o,a,s=e.nodeType;if(e&&3!==s&&8!==s&&2!==s)return a=1!==s||!Y.isXMLDoc(e),a&&(n=Y.propFix[n]||n,o=Y.propHooks[n]),i!==t?o&&"set"in o&&(r=o.set(e,i,n))!==t?r:e[n]=i:o&&"get"in o&&null!==(r=o.get(e,n))?r:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode("tabindex");return n&&n.specified?parseInt(n.value,10):At.test(e.nodeName)||Ct.test(e.nodeName)&&e.href?0:t}}}}),yt={get:function(e,n){var i,r=Y.prop(e,n);return r===!0||"boolean"!=typeof r&&(i=e.getAttributeNode(n))&&i.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var i;return t===!1?Y.removeAttr(e,n):(i=Y.propFix[n]||n,i in e&&(e[i]=!0),e.setAttribute(n,n.toLowerCase())),n}},$t||(bt={name:!0,id:!0,coords:!0},vt=Y.valHooks.button={get:function(e,n){var i;return i=e.getAttributeNode(n),i&&(bt[n]?""!==i.value:i.specified)?i.value:t},set:function(e,t,n){var i=e.getAttributeNode(n);return i||(i=J.createAttribute(n),e.setAttributeNode(i)),i.value=t+""}},Y.each(["width","height"],function(e,t){Y.attrHooks[t]=Y.extend(Y.attrHooks[t],{set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}})}),Y.attrHooks.contenteditable={get:vt.get,set:function(e,t,n){""===t&&(t="false"),vt.set(e,t,n)}}),Y.support.hrefNormalized||Y.each(["href","src","width","height"],function(e,n){Y.attrHooks[n]=Y.extend(Y.attrHooks[n],{get:function(e){var i=e.getAttribute(n,2);return null===i?t:i}})}),Y.support.style||(Y.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+""}}),Y.support.optSelected||(Y.propHooks.selected=Y.extend(Y.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),Y.support.enctype||(Y.propFix.enctype="encoding"),Y.support.checkOn||Y.each(["radio","checkbox"],function(){Y.valHooks[this]={get:function(e){return null===e.getAttribute("value")?"on":e.value}}}),Y.each(["radio","checkbox"],function(){Y.valHooks[this]=Y.extend(Y.valHooks[this],{set:function(e,t){return Y.isArray(t)?e.checked=Y.inArray(Y(e).val(),t)>=0:void 0}})});var kt=/^(?:textarea|input|select)$/i,Tt=/^([^\.]*|)(?:\.(.+)|)$/,Et=/(?:^|\s)hover(\.\S+|)\b/,Nt=/^key/,jt=/^(?:mouse|contextmenu)|click/,Ht=/^(?:focusinfocus|focusoutblur)$/,Dt=function(e){return Y.event.special.hover?e:e.replace(Et,"mouseenter$1 mouseleave$1")};Y.event={add:function(e,n,i,r,o){var a,s,u,l,c,d,p,h,f,g,m;if(3!==e.nodeType&&8!==e.nodeType&&n&&i&&(a=Y._data(e))){for(i.handler&&(f=i,i=f.handler,o=f.selector),i.guid||(i.guid=Y.guid++),u=a.events,u||(a.events=u={}),s=a.handle,s||(a.handle=s=function(e){return"undefined"==typeof Y||e&&Y.event.triggered===e.type?t:Y.event.dispatch.apply(s.elem,arguments)},s.elem=e),n=Y.trim(Dt(n)).split(" "),l=0;l<n.length;l++)c=Tt.exec(n[l])||[],d=c[1],p=(c[2]||"").split(".").sort(),m=Y.event.special[d]||{},d=(o?m.delegateType:m.bindType)||d,m=Y.event.special[d]||{},h=Y.extend({type:d,origType:c[1],data:r,handler:i,guid:i.guid,selector:o,needsContext:o&&Y.expr.match.needsContext.test(o),namespace:p.join(".")},f),g=u[d],g||(g=u[d]=[],g.delegateCount=0,m.setup&&m.setup.call(e,r,p,s)!==!1||(e.addEventListener?e.addEventListener(d,s,!1):e.attachEvent&&e.attachEvent("on"+d,s))),m.add&&(m.add.call(e,h),h.handler.guid||(h.handler.guid=i.guid)),o?g.splice(g.delegateCount++,0,h):g.push(h),Y.event.global[d]=!0;e=null}},global:{},remove:function(e,t,n,i,r){var o,a,s,u,l,c,d,p,h,f,g,m=Y.hasData(e)&&Y._data(e);if(m&&(p=m.events)){for(t=Y.trim(Dt(t||"")).split(" "),o=0;o<t.length;o++)if(a=Tt.exec(t[o])||[],s=u=a[1],l=a[2],s){for(h=Y.event.special[s]||{},s=(i?h.delegateType:h.bindType)||s,f=p[s]||[],c=f.length,l=l?new RegExp("(^|\\.)"+l.split(".").sort().join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=0;d<f.length;d++)g=f[d],!r&&u!==g.origType||n&&n.guid!==g.guid||l&&!l.test(g.namespace)||i&&i!==g.selector&&("**"!==i||!g.selector)||(f.splice(d--,1),g.selector&&f.delegateCount--,h.remove&&h.remove.call(e,g));0===f.length&&c!==f.length&&(h.teardown&&h.teardown.call(e,l,m.handle)!==!1||Y.removeEvent(e,s,m.handle),delete p[s])}else for(s in p)Y.event.remove(e,s+t[o],n,i,!0);Y.isEmptyObject(p)&&(delete m.handle,Y.removeData(e,"events",!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,i,r,o){if(!r||3!==r.nodeType&&8!==r.nodeType){var a,s,u,l,c,d,p,h,f,g,m=n.type||n,v=[];if(!Ht.test(m+Y.event.triggered)&&(m.indexOf("!")>=0&&(m=m.slice(0,-1),s=!0),m.indexOf(".")>=0&&(v=m.split("."),m=v.shift(),v.sort()),r&&!Y.event.customEvent[m]||Y.event.global[m]))if(n="object"==typeof n?n[Y.expando]?n:new Y.Event(m,n):new Y.Event(m),n.type=m,n.isTrigger=!0,n.exclusive=s,n.namespace=v.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,d=m.indexOf(":")<0?"on"+m:"",r){if(n.result=t,n.target||(n.target=r),i=null!=i?Y.makeArray(i):[],i.unshift(n),p=Y.event.special[m]||{},!p.trigger||p.trigger.apply(r,i)!==!1){if(f=[[r,p.bindType||m]],!o&&!p.noBubble&&!Y.isWindow(r)){for(g=p.delegateType||m,l=Ht.test(g+m)?r:r.parentNode,c=r;l;l=l.parentNode)f.push([l,g]),c=l;c===(r.ownerDocument||J)&&f.push([c.defaultView||c.parentWindow||e,g])}for(u=0;u<f.length&&!n.isPropagationStopped();u++)l=f[u][0],n.type=f[u][1],h=(Y._data(l,"events")||{})[n.type]&&Y._data(l,"handle"),h&&h.apply(l,i),h=d&&l[d],h&&Y.acceptData(l)&&h.apply&&h.apply(l,i)===!1&&n.preventDefault();return n.type=m,o||n.isDefaultPrevented()||p._default&&p._default.apply(r.ownerDocument,i)!==!1||"click"===m&&Y.nodeName(r,"a")||!Y.acceptData(r)||d&&r[m]&&("focus"!==m&&"blur"!==m||0!==n.target.offsetWidth)&&!Y.isWindow(r)&&(c=r[d],c&&(r[d]=null),Y.event.triggered=m,r[m](),Y.event.triggered=t,c&&(r[d]=c)),n.result}}else{a=Y.cache;for(u in a)a[u].events&&a[u].events[m]&&Y.event.trigger(n,i,a[u].handle.elem,!0)}}},dispatch:function(n){n=Y.event.fix(n||e.event);var i,r,o,a,s,u,l,c,d,p=(Y._data(this,"events")||{})[n.type]||[],h=p.delegateCount,f=V.call(arguments),g=!n.exclusive&&!n.namespace,m=Y.event.special[n.type]||{},v=[];if(f[0]=n,n.delegateTarget=this,!m.preDispatch||m.preDispatch.call(this,n)!==!1){if(h&&(!n.button||"click"!==n.type))for(o=n.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0||"click"!==n.type){for(s={},l=[],i=0;h>i;i++)c=p[i],d=c.selector,s[d]===t&&(s[d]=c.needsContext?Y(d,this).index(o)>=0:Y.find(d,this,null,[o]).length),s[d]&&l.push(c);l.length&&v.push({elem:o,matches:l})}for(p.length>h&&v.push({elem:this,matches:p.slice(h)}),i=0;i<v.length&&!n.isPropagationStopped();i++)for(u=v[i],n.currentTarget=u.elem,r=0;r<u.matches.length&&!n.isImmediatePropagationStopped();r++)c=u.matches[r],(g||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))&&(n.data=c.data,n.handleObj=c,a=((Y.event.special[c.origType]||{}).handle||c.handler).apply(u.elem,f),a!==t&&(n.result=a,a===!1&&(n.preventDefault(),n.stopPropagation())));return m.postDispatch&&m.postDispatch.call(this,n),n.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var i,r,o,a=n.button,s=n.fromElement;return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||J,r=i.documentElement,o=i.body,e.pageX=n.clientX+(r&&r.scrollLeft||o&&o.scrollLeft||0)-(r&&r.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(r&&r.scrollTop||o&&o.scrollTop||0)-(r&&r.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||a===t||(e.which=1&a?1:2&a?3:4&a?2:0),e}},fix:function(e){if(e[Y.expando])return e;var t,n,i=e,r=Y.event.fixHooks[e.type]||{},o=r.props?this.props.concat(r.props):this.props;for(e=Y.Event(i),t=o.length;t;)n=o[--t],e[n]=i[n];return e.target||(e.target=i.srcElement||J),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,i):e},special:{load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(e,t,n){Y.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,i){var r=Y.extend(new Y.Event,n,{type:e,isSimulated:!0,originalEvent:{}});i?Y.event.trigger(r,null,t):Y.event.dispatch.call(t,r),r.isDefaultPrevented()&&n.preventDefault()}},Y.event.handle=Y.event.dispatch,Y.removeEvent=J.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var i="on"+t;e.detachEvent&&("undefined"==typeof e[i]&&(e[i]=null),e.detachEvent(i,n))},Y.Event=function(e,t){return this instanceof Y.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?a:o):this.type=e,t&&Y.extend(this,t),this.timeStamp=e&&e.timeStamp||Y.now(),void(this[Y.expando]=!0)):new Y.Event(e,t)},Y.Event.prototype={preventDefault:function(){this.isDefaultPrevented=a;var e=this.originalEvent;e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=a;var e=this.originalEvent;e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=a,this.stopPropagation()},isDefaultPrevented:o,isPropagationStopped:o,isImmediatePropagationStopped:o},Y.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){Y.event.special[e]={delegateType:t,bindType:t,handle:function(e){{var n,i=this,r=e.relatedTarget,o=e.handleObj;o.selector}return(!r||r!==i&&!Y.contains(i,r))&&(e.type=o.origType,n=o.handler.apply(this,arguments),e.type=t),n}}}),Y.support.submitBubbles||(Y.event.special.submit={setup:function(){return Y.nodeName(this,"form")?!1:void Y.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,i=Y.nodeName(n,"input")||Y.nodeName(n,"button")?n.form:t;i&&!Y._data(i,"_submit_attached")&&(Y.event.add(i,"submit._submit",function(e){e._submit_bubble=!0}),Y._data(i,"_submit_attached",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&Y.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return Y.nodeName(this,"form")?!1:void Y.event.remove(this,"._submit")}}),Y.support.changeBubbles||(Y.event.special.change={setup:function(){return kt.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(Y.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),Y.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),Y.event.simulate("change",this,e,!0)})),!1):void Y.event.add(this,"beforeactivate._change",function(e){var t=e.target;kt.test(t.nodeName)&&!Y._data(t,"_change_attached")&&(Y.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||Y.event.simulate("change",this.parentNode,e,!0)}),Y._data(t,"_change_attached",!0))})},handle:function(e){var t=e.target;return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return Y.event.remove(this,"._change"),!kt.test(this.nodeName)}}),Y.support.focusinBubbles||Y.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,i=function(e){Y.event.simulate(t,e.target,Y.event.fix(e),!0)};Y.event.special[t]={setup:function(){0===n++&&J.addEventListener(e,i,!0)},teardown:function(){0===--n&&J.removeEventListener(e,i,!0)}}}),Y.fn.extend({on:function(e,n,i,r,a){var s,u;if("object"==typeof e){"string"!=typeof n&&(i=i||n,n=t);for(u in e)this.on(u,n,i,e[u],a);return this}if(null==i&&null==r?(r=n,i=n=t):null==r&&("string"==typeof n?(r=i,i=t):(r=i,i=n,n=t)),r===!1)r=o;else if(!r)return this;return 1===a&&(s=r,r=function(e){return Y().off(e),s.apply(this,arguments)},r.guid=s.guid||(s.guid=Y.guid++)),this.each(function(){Y.event.add(this,e,r,i,n)})},one:function(e,t,n,i){return this.on(e,t,n,i,1)},off:function(e,n,i){var r,a;if(e&&e.preventDefault&&e.handleObj)return r=e.handleObj,Y(e.delegateTarget).off(r.namespace?r.origType+"."+r.namespace:r.origType,r.selector,r.handler),this;if("object"==typeof e){for(a in e)this.off(a,n,e[a]);return this}return(n===!1||"function"==typeof n)&&(i=n,n=t),i===!1&&(i=o),this.each(function(){Y.event.remove(this,e,i,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return Y(this.context).on(e,this.selector,t,n),this},die:function(e,t){return Y(this.context).off(e,this.selector||"**",t),this},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)},trigger:function(e,t){return this.each(function(){Y.event.trigger(e,t,this)})},triggerHandler:function(e,t){return this[0]?Y.event.trigger(e,t,this[0],!0):void 0},toggle:function(e){var t=arguments,n=e.guid||Y.guid++,i=0,r=function(n){var r=(Y._data(this,"lastToggle"+e.guid)||0)%i;return Y._data(this,"lastToggle"+e.guid,r+1),n.preventDefault(),t[r].apply(this,arguments)||!1};for(r.guid=n;i<t.length;)t[i++].guid=n;return this.click(r)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),Y.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){Y.fn[t]=function(e,n){return null==n&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Nt.test(t)&&(Y.event.fixHooks[t]=Y.event.keyHooks),jt.test(t)&&(Y.event.fixHooks[t]=Y.event.mouseHooks)}),function(e,t){function n(e,t,n,i){n=n||[],t=t||j;var r,o,a,s,u=t.nodeType;if(!e||"string"!=typeof e)return n;if(1!==u&&9!==u)return[];if(a=x(t),!a&&!i&&(r=nt.exec(e)))if(s=r[1]){if(9===u){if(o=t.getElementById(s),!o||!o.parentNode)return n;if(o.id===s)return n.push(o),n}else if(t.ownerDocument&&(o=t.ownerDocument.getElementById(s))&&S(t,o)&&o.id===s)return n.push(o),n}else{if(r[2])return O.apply(n,P.call(t.getElementsByTagName(e),0)),n;if((s=r[3])&&pt&&t.getElementsByClassName)return O.apply(n,P.call(t.getElementsByClassName(s),0)),n}return g(e.replace(X,"$1"),t,n,i,a)}function i(e){return function(t){var n=t.nodeName.toLowerCase();return"input"===n&&t.type===e}}function r(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function o(e){return I(function(t){return t=+t,I(function(n,i){for(var r,o=e([],n.length,t),a=o.length;a--;)n[r=o[a]]&&(n[r]=!(i[r]=n[r]))})})}function a(e,t,n){if(e===t)return n;for(var i=e.nextSibling;i;){if(i===t)return-1;i=i.nextSibling}return 1}function s(e,t){var i,r,o,a,s,u,l,c=F[E][e+" "];if(c)return t?0:c.slice(0);for(s=e,u=[],l=b.preFilter;s;){(!i||(r=Z.exec(s)))&&(r&&(s=s.slice(r[0].length)||s),u.push(o=[])),i=!1,(r=et.exec(s))&&(o.push(i=new N(r.shift())),s=s.slice(i.length),i.type=r[0].replace(X," "));for(a in b.filter)!(r=st[a].exec(s))||l[a]&&!(r=l[a](r))||(o.push(i=new N(r.shift())),s=s.slice(i.length),i.type=a,i.matches=r);if(!i)break}return t?s.length:s?n.error(e):F(e,u).slice(0)}function u(e,t,n){var i=t.dir,r=n&&"parentNode"===t.dir,o=R++;return t.first?function(t,n,o){for(;t=t[i];)if(r||1===t.nodeType)return e(t,n,o)}:function(t,n,a){if(a){for(;t=t[i];)if((r||1===t.nodeType)&&e(t,n,a))return t}else for(var s,u=D+" "+o+" ",l=u+v;t=t[i];)if(r||1===t.nodeType){if((s=t[E])===l)return t.sizset;if("string"==typeof s&&0===s.indexOf(u)){if(t.sizset)return t}else{if(t[E]=l,e(t,n,a))return t.sizset=!0,t;t.sizset=!1}}}}function l(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function c(e,t,n,i,r){for(var o,a=[],s=0,u=e.length,l=null!=t;u>s;s++)(o=e[s])&&(!n||n(o,i,r))&&(a.push(o),l&&t.push(s));return a}function d(e,t,n,i,r,o){return i&&!i[E]&&(i=d(i)),r&&!r[E]&&(r=d(r,o)),I(function(o,a,s,u){var l,d,p,h=[],g=[],m=a.length,v=o||f(t||"*",s.nodeType?[s]:s,[]),y=!e||!o&&t?v:c(v,h,e,s,u),b=n?r||(o?e:m||i)?[]:a:y;if(n&&n(y,b,s,u),i)for(l=c(b,g),i(l,[],s,u),d=l.length;d--;)(p=l[d])&&(b[g[d]]=!(y[g[d]]=p));if(o){if(r||e){if(r){for(l=[],d=b.length;d--;)(p=b[d])&&l.push(y[d]=p);r(null,b=[],l,u)}for(d=b.length;d--;)(p=b[d])&&(l=r?M.call(o,p):h[d])>-1&&(o[l]=!(a[l]=p))
}}else b=c(b===a?b.splice(m,b.length):b),r?r(null,a,b,u):O.apply(a,b)})}function p(e){for(var t,n,i,r=e.length,o=b.relative[e[0].type],a=o||b.relative[" "],s=o?1:0,c=u(function(e){return e===t},a,!0),h=u(function(e){return M.call(t,e)>-1},a,!0),f=[function(e,n,i){return!o&&(i||n!==$)||((t=n).nodeType?c(e,n,i):h(e,n,i))}];r>s;s++)if(n=b.relative[e[s].type])f=[u(l(f),n)];else{if(n=b.filter[e[s].type].apply(null,e[s].matches),n[E]){for(i=++s;r>i&&!b.relative[e[i].type];i++);return d(s>1&&l(f),s>1&&e.slice(0,s-1).join("").replace(X,"$1"),n,i>s&&p(e.slice(s,i)),r>i&&p(e=e.slice(i)),r>i&&e.join(""))}f.push(n)}return l(f)}function h(e,t){var i=t.length>0,r=e.length>0,o=function(a,s,u,l,d){var p,h,f,g=[],m=0,y="0",w=a&&[],x=null!=d,S=$,A=a||r&&b.find.TAG("*",d&&s.parentNode||s),C=D+=null==S?1:Math.E;for(x&&($=s!==j&&s,v=o.el);null!=(p=A[y]);y++){if(r&&p){for(h=0;f=e[h];h++)if(f(p,s,u)){l.push(p);break}x&&(D=C,v=++o.el)}i&&((p=!f&&p)&&m--,a&&w.push(p))}if(m+=y,i&&y!==m){for(h=0;f=t[h];h++)f(w,g,s,u);if(a){if(m>0)for(;y--;)w[y]||g[y]||(g[y]=q.call(l));g=c(g)}O.apply(l,g),x&&!a&&g.length>0&&m+t.length>1&&n.uniqueSort(l)}return x&&(D=C,$=S),w};return o.el=0,i?I(o):o}function f(e,t,i){for(var r=0,o=t.length;o>r;r++)n(e,t[r],i);return i}function g(e,t,n,i,r){{var o,a,u,l,c,d=s(e);d.length}if(!i&&1===d.length){if(a=d[0]=d[0].slice(0),a.length>2&&"ID"===(u=a[0]).type&&9===t.nodeType&&!r&&b.relative[a[1].type]){if(t=b.find.ID(u.matches[0].replace(at,""),t,r)[0],!t)return n;e=e.slice(a.shift().length)}for(o=st.POS.test(e)?-1:a.length-1;o>=0&&(u=a[o],!b.relative[l=u.type]);o--)if((c=b.find[l])&&(i=c(u.matches[0].replace(at,""),it.test(a[0].type)&&t.parentNode||t,r))){if(a.splice(o,1),e=i.length&&a.join(""),!e)return O.apply(n,P.call(i,0)),n;break}}return A(e,d)(i,t,r,n,it.test(e)),n}function m(){}var v,y,b,w,x,S,A,C,_,$,k=!0,T="undefined",E=("sizcache"+Math.random()).replace(".",""),N=String,j=e.document,H=j.documentElement,D=0,R=0,q=[].pop,O=[].push,P=[].slice,M=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t;return-1},I=function(e,t){return e[E]=null==t||t,e},L=function(){var e={},t=[];return I(function(n,i){return t.push(n)>b.cacheLength&&delete e[t.shift()],e[n+" "]=i},e)},J=L(),F=L(),B=L(),z="[\\x20\\t\\r\\n\\f]",U="(?:\\\\.|[-\\w]|[^\\x00-\\xa0])+",W=U.replace("w","w#"),V="([*^$|!~]?=)",K="\\["+z+"*("+U+")"+z+"*(?:"+V+z+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+W+")|)|)"+z+"*\\]",G=":("+U+")(?:\\((?:(['\"])((?:\\\\.|[^\\\\])*?)\\2|([^()[\\]]*|(?:(?:"+K+")|[^:]|\\\\.)*|.*))\\)|)",Q=":(even|odd|eq|gt|lt|nth|first|last)(?:\\("+z+"*((?:-\\d)?\\d*)"+z+"*\\)|)(?=[^-]|$)",X=new RegExp("^"+z+"+|((?:^|[^\\\\])(?:\\\\.)*)"+z+"+$","g"),Z=new RegExp("^"+z+"*,"+z+"*"),et=new RegExp("^"+z+"*([\\x20\\t\\r\\n\\f>+~])"+z+"*"),tt=new RegExp(G),nt=/^(?:#([\w\-]+)|(\w+)|\.([\w\-]+))$/,it=/[\x20\t\r\n\f]*[+~]/,rt=/h\d/i,ot=/input|select|textarea|button/i,at=/\\(?!\\)/g,st={ID:new RegExp("^#("+U+")"),CLASS:new RegExp("^\\.("+U+")"),NAME:new RegExp("^\\[name=['\"]?("+U+")['\"]?\\]"),TAG:new RegExp("^("+U.replace("w","w*")+")"),ATTR:new RegExp("^"+K),PSEUDO:new RegExp("^"+G),POS:new RegExp(Q,"i"),CHILD:new RegExp("^:(only|nth|first|last)-child(?:\\("+z+"*(even|odd|(([+-]|)(\\d*)n|)"+z+"*(?:([+-]|)"+z+"*(\\d+)|))"+z+"*\\)|)","i"),needsContext:new RegExp("^"+z+"*[>+~]|"+Q,"i")},ut=function(e){var t=j.createElement("div");try{return e(t)}catch(n){return!1}finally{t=null}},lt=ut(function(e){return e.appendChild(j.createComment("")),!e.getElementsByTagName("*").length}),ct=ut(function(e){return e.innerHTML="<a href='#'></a>",e.firstChild&&typeof e.firstChild.getAttribute!==T&&"#"===e.firstChild.getAttribute("href")}),dt=ut(function(e){e.innerHTML="<select></select>";var t=typeof e.lastChild.getAttribute("multiple");return"boolean"!==t&&"string"!==t}),pt=ut(function(e){return e.innerHTML="<div class='hidden e'></div><div class='hidden'></div>",e.getElementsByClassName&&e.getElementsByClassName("e").length?(e.lastChild.className="e",2===e.getElementsByClassName("e").length):!1}),ht=ut(function(e){e.id=E+0,e.innerHTML="<a name='"+E+"'></a><div name='"+E+"'></div>",H.insertBefore(e,H.firstChild);var t=j.getElementsByName&&j.getElementsByName(E).length===2+j.getElementsByName(E+0).length;return y=!j.getElementById(E),H.removeChild(e),t});try{P.call(H.childNodes,0)[0].nodeType}catch(ft){P=function(e){for(var t,n=[];t=this[e];e++)n.push(t);return n}}n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){return n(t,null,null,[e]).length>0},w=n.getText=function(e){var t,n="",i=0,r=e.nodeType;if(r){if(1===r||9===r||11===r){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=w(e)}else if(3===r||4===r)return e.nodeValue}else for(;t=e[i];i++)n+=w(t);return n},x=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},S=n.contains=H.contains?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!!(i&&1===i.nodeType&&n.contains&&n.contains(i))}:H.compareDocumentPosition?function(e,t){return t&&!!(16&e.compareDocumentPosition(t))}:function(e,t){for(;t=t.parentNode;)if(t===e)return!0;return!1},n.attr=function(e,t){var n,i=x(e);return i||(t=t.toLowerCase()),(n=b.attrHandle[t])?n(e):i||dt?e.getAttribute(t):(n=e.getAttributeNode(t),n?"boolean"==typeof e[t]?e[t]?t:null:n.specified?n.value:null:null)},b=n.selectors={cacheLength:50,createPseudo:I,match:st,attrHandle:ct?{}:{href:function(e){return e.getAttribute("href",2)},type:function(e){return e.getAttribute("type")}},find:{ID:y?function(e,t,n){if(typeof t.getElementById!==T&&!n){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}}:function(e,n,i){if(typeof n.getElementById!==T&&!i){var r=n.getElementById(e);return r?r.id===e||typeof r.getAttributeNode!==T&&r.getAttributeNode("id").value===e?[r]:t:[]}},TAG:lt?function(e,t){return typeof t.getElementsByTagName!==T?t.getElementsByTagName(e):void 0}:function(e,t){var n=t.getElementsByTagName(e);if("*"===e){for(var i,r=[],o=0;i=n[o];o++)1===i.nodeType&&r.push(i);return r}return n},NAME:ht&&function(e,t){return typeof t.getElementsByName!==T?t.getElementsByName(name):void 0},CLASS:pt&&function(e,t,n){return typeof t.getElementsByClassName===T||n?void 0:t.getElementsByClassName(e)}},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(at,""),e[3]=(e[4]||e[5]||"").replace(at,""),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1]?(e[2]||n.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*("even"===e[2]||"odd"===e[2])),e[4]=+(e[6]+e[7]||"odd"===e[2])):e[2]&&n.error(e[0]),e},PSEUDO:function(e){var t,n;return st.CHILD.test(e[0])?null:(e[3]?e[2]=e[3]:(t=e[4])&&(tt.test(t)&&(n=s(t,!0))&&(n=t.indexOf(")",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t),e.slice(0,3))}},filter:{ID:y?function(e){return e=e.replace(at,""),function(t){return t.getAttribute("id")===e}}:function(e){return e=e.replace(at,""),function(t){var n=typeof t.getAttributeNode!==T&&t.getAttributeNode("id");return n&&n.value===e}},TAG:function(e){return"*"===e?function(){return!0}:(e=e.replace(at,"").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=J[E][e+" "];return t||(t=new RegExp("(^|"+z+")"+e+"("+z+"|$)"))&&J(e,function(e){return t.test(e.className||typeof e.getAttribute!==T&&e.getAttribute("class")||"")})},ATTR:function(e,t,i){return function(r){var o=n.attr(r,e);return null==o?"!="===t:t?(o+="","="===t?o===i:"!="===t?o!==i:"^="===t?i&&0===o.indexOf(i):"*="===t?i&&o.indexOf(i)>-1:"$="===t?i&&o.substr(o.length-i.length)===i:"~="===t?(" "+o+" ").indexOf(i)>-1:"|="===t?o===i||o.substr(0,i.length+1)===i+"-":!1):!0}},CHILD:function(e,t,n,i){return"nth"===e?function(e){var t,r,o=e.parentNode;if(1===n&&0===i)return!0;if(o)for(r=0,t=o.firstChild;t&&(1!==t.nodeType||(r++,e!==t));t=t.nextSibling);return r-=i,r===n||r%n===0&&r/n>=0}:function(t){var n=t;switch(e){case"only":case"first":for(;n=n.previousSibling;)if(1===n.nodeType)return!1;if("first"===e)return!0;n=t;case"last":for(;n=n.nextSibling;)if(1===n.nodeType)return!1;return!0}}},PSEUDO:function(e,t){var i,r=b.pseudos[e]||b.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e);return r[E]?r(t):r.length>1?(i=[e,e,"",t],b.setFilters.hasOwnProperty(e.toLowerCase())?I(function(e,n){for(var i,o=r(e,t),a=o.length;a--;)i=M.call(e,o[a]),e[i]=!(n[i]=o[a])}):function(e){return r(e,0,i)}):r}},pseudos:{not:I(function(e){var t=[],n=[],i=A(e.replace(X,"$1"));return i[E]?I(function(e,t,n,r){for(var o,a=i(e,null,r,[]),s=e.length;s--;)(o=a[s])&&(e[s]=!(t[s]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),!n.pop()}}),has:I(function(e){return function(t){return n(e,t).length>0}}),contains:I(function(e){return function(t){return(t.textContent||t.innerText||w(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!b.pseudos.empty(e)},empty:function(e){var t;for(e=e.firstChild;e;){if(e.nodeName>"@"||3===(t=e.nodeType)||4===t)return!1;e=e.nextSibling}return!0},header:function(e){return rt.test(e.nodeName)},text:function(e){var t,n;return"input"===e.nodeName.toLowerCase()&&"text"===(t=e.type)&&(null==(n=e.getAttribute("type"))||n.toLowerCase()===t)},radio:i("radio"),checkbox:i("checkbox"),file:i("file"),password:i("password"),image:i("image"),submit:r("submit"),reset:r("reset"),button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},input:function(e){return ot.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:o(function(){return[0]}),last:o(function(e,t){return[t-1]}),eq:o(function(e,t,n){return[0>n?n+t:n]}),even:o(function(e,t){for(var n=0;t>n;n+=2)e.push(n);return e}),odd:o(function(e,t){for(var n=1;t>n;n+=2)e.push(n);return e}),lt:o(function(e,t,n){for(var i=0>n?n+t:n;--i>=0;)e.push(i);return e}),gt:o(function(e,t,n){for(var i=0>n?n+t:n;++i<t;)e.push(i);return e})}},C=H.compareDocumentPosition?function(e,t){return e===t?(_=!0,0):(e.compareDocumentPosition&&t.compareDocumentPosition?4&e.compareDocumentPosition(t):e.compareDocumentPosition)?-1:1}:function(e,t){if(e===t)return _=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,i,r=[],o=[],s=e.parentNode,u=t.parentNode,l=s;if(s===u)return a(e,t);if(!s)return-1;if(!u)return 1;for(;l;)r.unshift(l),l=l.parentNode;for(l=u;l;)o.unshift(l),l=l.parentNode;n=r.length,i=o.length;for(var c=0;n>c&&i>c;c++)if(r[c]!==o[c])return a(r[c],o[c]);return c===n?a(e,o[c],-1):a(r[c],t,1)},[0,0].sort(C),k=!_,n.uniqueSort=function(e){var t,n=[],i=1,r=0;if(_=k,e.sort(C),_){for(;t=e[i];i++)t===e[i-1]&&(r=n.push(i));for(;r--;)e.splice(n[r],1)}return e},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},A=n.compile=function(e,t){var n,i=[],r=[],o=B[E][e+" "];if(!o){for(t||(t=s(e)),n=t.length;n--;)o=p(t[n]),o[E]?i.push(o):r.push(o);o=B(e,h(r,i))}return o},j.querySelectorAll&&!function(){var e,t=g,i=/'|\\/g,r=/\=[\x20\t\r\n\f]*([^'"\]]*)[\x20\t\r\n\f]*\]/g,o=[":focus"],a=[":active"],u=H.matchesSelector||H.mozMatchesSelector||H.webkitMatchesSelector||H.oMatchesSelector||H.msMatchesSelector;ut(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||o.push("\\["+z+"*(?:checked|disabled|ismap|multiple|readonly|selected|value)"),e.querySelectorAll(":checked").length||o.push(":checked")}),ut(function(e){e.innerHTML="<p test=''></p>",e.querySelectorAll("[test^='']").length&&o.push("[*^$]="+z+"*(?:\"\"|'')"),e.innerHTML="<input type='hidden'/>",e.querySelectorAll(":enabled").length||o.push(":enabled",":disabled")}),o=new RegExp(o.join("|")),g=function(e,n,r,a,u){if(!a&&!u&&!o.test(e)){var l,c,d=!0,p=E,h=n,f=9===n.nodeType&&e;if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){for(l=s(e),(d=n.getAttribute("id"))?p=d.replace(i,"\\$&"):n.setAttribute("id",p),p="[id='"+p+"'] ",c=l.length;c--;)l[c]=p+l[c].join("");h=it.test(e)&&n.parentNode||n,f=l.join(",")}if(f)try{return O.apply(r,P.call(h.querySelectorAll(f),0)),r}catch(g){}finally{d||n.removeAttribute("id")}}return t(e,n,r,a,u)},u&&(ut(function(t){e=u.call(t,"div");try{u.call(t,"[test!='']:sizzle"),a.push("!=",G)}catch(n){}}),a=new RegExp(a.join("|")),n.matchesSelector=function(t,i){if(i=i.replace(r,"='$1']"),!x(t)&&!a.test(i)&&!o.test(i))try{var s=u.call(t,i);if(s||e||t.document&&11!==t.document.nodeType)return s}catch(l){}return n(i,null,null,[t]).length>0})}(),b.pseudos.nth=b.pseudos.eq,b.filters=m.prototype=b.pseudos,b.setFilters=new m,n.attr=Y.attr,Y.find=n,Y.expr=n.selectors,Y.expr[":"]=Y.expr.pseudos,Y.unique=n.uniqueSort,Y.text=n.getText,Y.isXMLDoc=n.isXML,Y.contains=n.contains}(e);var Rt=/Until$/,qt=/^(?:parents|prev(?:Until|All))/,Ot=/^.[^:#\[\.,]*$/,Pt=Y.expr.match.needsContext,Mt={children:!0,contents:!0,next:!0,prev:!0};Y.fn.extend({find:function(e){var t,n,i,r,o,a,s=this;if("string"!=typeof e)return Y(e).filter(function(){for(t=0,n=s.length;n>t;t++)if(Y.contains(s[t],this))return!0});for(a=this.pushStack("","find",e),t=0,n=this.length;n>t;t++)if(i=a.length,Y.find(e,this[t],a),t>0)for(r=i;r<a.length;r++)for(o=0;i>o;o++)if(a[o]===a[r]){a.splice(r--,1);break}return a},has:function(e){var t,n=Y(e,this),i=n.length;return this.filter(function(){for(t=0;i>t;t++)if(Y.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(l(this,e,!1),"not",e)},filter:function(e){return this.pushStack(l(this,e,!0),"filter",e)},is:function(e){return!!e&&("string"==typeof e?Pt.test(e)?Y(e,this.context).index(this[0])>=0:Y.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){for(var n,i=0,r=this.length,o=[],a=Pt.test(e)||"string"!=typeof e?Y(e,t||this.context):0;r>i;i++)for(n=this[i];n&&n.ownerDocument&&n!==t&&11!==n.nodeType;){if(a?a.index(n)>-1:Y.find.matchesSelector(n,e)){o.push(n);break}n=n.parentNode}return o=o.length>1?Y.unique(o):o,this.pushStack(o,"closest",e)},index:function(e){return e?"string"==typeof e?Y.inArray(this[0],Y(e)):Y.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n="string"==typeof e?Y(e,t):Y.makeArray(e&&e.nodeType?[e]:e),i=Y.merge(this.get(),n);return this.pushStack(s(n[0])||s(i[0])?i:Y.unique(i))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),Y.fn.andSelf=Y.fn.addBack,Y.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return Y.dir(e,"parentNode")},parentsUntil:function(e,t,n){return Y.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return Y.dir(e,"nextSibling")},prevAll:function(e){return Y.dir(e,"previousSibling")},nextUntil:function(e,t,n){return Y.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return Y.dir(e,"previousSibling",n)},siblings:function(e){return Y.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return Y.sibling(e.firstChild)},contents:function(e){return Y.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:Y.merge([],e.childNodes)}},function(e,t){Y.fn[e]=function(n,i){var r=Y.map(this,t,n);return Rt.test(e)||(i=n),i&&"string"==typeof i&&(r=Y.filter(i,r)),r=this.length>1&&!Mt[e]?Y.unique(r):r,this.length>1&&qt.test(e)&&(r=r.reverse()),this.pushStack(r,e,V.call(arguments).join(","))}}),Y.extend({filter:function(e,t,n){return n&&(e=":not("+e+")"),1===t.length?Y.find.matchesSelector(t[0],e)?[t[0]]:[]:Y.find.matches(e,t)},dir:function(e,n,i){for(var r=[],o=e[n];o&&9!==o.nodeType&&(i===t||1!==o.nodeType||!Y(o).is(i));)1===o.nodeType&&r.push(o),o=o[n];return r},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n}});var It="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Lt=/ jQuery\d+="(?:null|\d+)"/g,Jt=/^\s+/,Ft=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Bt=/<([\w:]+)/,zt=/<tbody/i,Ut=/<|&#?\w+;/,Wt=/<(?:script|style|link)/i,Vt=/<(?:script|object|embed|option|style)/i,Kt=new RegExp("<(?:"+It+")[\\s/>]","i"),Gt=/^(?:checkbox|radio)$/,Qt=/checked\s*(?:[^=]|=\s*.checked.)/i,Xt=/\/(java|ecma)script/i,Yt=/^\s*<!(?:\[CDATA\[|\-\-)|[\]\-]{2}>\s*$/g,Zt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},en=c(J),tn=en.appendChild(J.createElement("div"));Zt.optgroup=Zt.option,Zt.tbody=Zt.tfoot=Zt.colgroup=Zt.caption=Zt.thead,Zt.th=Zt.td,Y.support.htmlSerialize||(Zt._default=[1,"X<div>","</div>"]),Y.fn.extend({text:function(e){return Y.access(this,function(e){return e===t?Y.text(this):this.empty().append((this[0]&&this[0].ownerDocument||J).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(Y.isFunction(e))return this.each(function(t){Y(this).wrapAll(e.call(this,t))});if(this[0]){var t=Y(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return this.each(Y.isFunction(e)?function(t){Y(this).wrapInner(e.call(this,t))}:function(){var t=Y(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=Y.isFunction(e);return this.each(function(n){Y(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){Y.nodeName(this,"body")||Y(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(1===this.nodeType||11===this.nodeType)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(e,this),"before",this.selector)}},after:function(){if(!s(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=Y.clean(arguments);return this.pushStack(Y.merge(this,e),"after",this.selector)}},remove:function(e,t){for(var n,i=0;null!=(n=this[i]);i++)(!e||Y.filter(e,[n]).length)&&(t||1!==n.nodeType||(Y.cleanData(n.getElementsByTagName("*")),Y.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)for(1===e.nodeType&&Y.cleanData(e.getElementsByTagName("*"));e.firstChild;)e.removeChild(e.firstChild);return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return Y.clone(this,e,t)})},html:function(e){return Y.access(this,function(e){var n=this[0]||{},i=0,r=this.length;if(e===t)return 1===n.nodeType?n.innerHTML.replace(Lt,""):t;if(!("string"!=typeof e||Wt.test(e)||!Y.support.htmlSerialize&&Kt.test(e)||!Y.support.leadingWhitespace&&Jt.test(e)||Zt[(Bt.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ft,"<$1></$2>");try{for(;r>i;i++)n=this[i]||{},1===n.nodeType&&(Y.cleanData(n.getElementsByTagName("*")),n.innerHTML=e);n=0}catch(o){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return s(this[0])?this.length?this.pushStack(Y(Y.isFunction(e)?e():e),"replaceWith",e):this:Y.isFunction(e)?this.each(function(t){var n=Y(this),i=n.html();n.replaceWith(e.call(this,t,i))}):("string"!=typeof e&&(e=Y(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;Y(this).remove(),t?Y(t).before(e):Y(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,i){e=[].concat.apply([],e);var r,o,a,s,u=0,l=e[0],c=[],p=this.length;if(!Y.support.checkClone&&p>1&&"string"==typeof l&&Qt.test(l))return this.each(function(){Y(this).domManip(e,n,i)});if(Y.isFunction(l))return this.each(function(r){var o=Y(this);e[0]=l.call(this,r,n?o.html():t),o.domManip(e,n,i)});if(this[0]){if(r=Y.buildFragment(e,this,c),a=r.fragment,o=a.firstChild,1===a.childNodes.length&&(a=o),o)for(n=n&&Y.nodeName(o,"tr"),s=r.cacheable||p-1;p>u;u++)i.call(n&&Y.nodeName(this[u],"table")?d(this[u],"tbody"):this[u],u===s?a:Y.clone(a,!0,!0));a=o=null,c.length&&Y.each(c,function(e,t){t.src?Y.ajax?Y.ajax({url:t.src,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0}):Y.error("no ajax"):Y.globalEval((t.text||t.textContent||t.innerHTML||"").replace(Yt,"")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),Y.buildFragment=function(e,n,i){var r,o,a,s=e[0];return n=n||J,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,!(1===e.length&&"string"==typeof s&&s.length<512&&n===J&&"<"===s.charAt(0))||Vt.test(s)||!Y.support.checkClone&&Qt.test(s)||!Y.support.html5Clone&&Kt.test(s)||(o=!0,r=Y.fragments[s],a=r!==t),r||(r=n.createDocumentFragment(),Y.clean(e,n,r,i),o&&(Y.fragments[s]=a&&r)),{fragment:r,cacheable:o}},Y.fragments={},Y.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){Y.fn[e]=function(n){var i,r=0,o=[],a=Y(n),s=a.length,u=1===this.length&&this[0].parentNode;if((null==u||u&&11===u.nodeType&&1===u.childNodes.length)&&1===s)return a[t](this[0]),this;for(;s>r;r++)i=(r>0?this.clone(!0):this).get(),Y(a[r])[t](i),o=o.concat(i);return this.pushStack(o,e,a.selector)}}),Y.extend({clone:function(e,t,n){var i,r,o,a;if(Y.support.html5Clone||Y.isXMLDoc(e)||!Kt.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(tn.innerHTML=e.outerHTML,tn.removeChild(a=tn.firstChild)),!(Y.support.noCloneEvent&&Y.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||Y.isXMLDoc(e)))for(h(e,a),i=f(e),r=f(a),o=0;i[o];++o)r[o]&&h(i[o],r[o]);if(t&&(p(e,a),n))for(i=f(e),r=f(a),o=0;i[o];++o)p(i[o],r[o]);return i=r=null,a},clean:function(e,t,n,i){var r,o,a,s,u,l,d,p,h,f,m,v=t===J&&en,y=[];for(t&&"undefined"!=typeof t.createDocumentFragment||(t=J),r=0;null!=(a=e[r]);r++)if("number"==typeof a&&(a+=""),a){if("string"==typeof a)if(Ut.test(a)){for(v=v||c(t),d=t.createElement("div"),v.appendChild(d),a=a.replace(Ft,"<$1></$2>"),s=(Bt.exec(a)||["",""])[1].toLowerCase(),u=Zt[s]||Zt._default,l=u[0],d.innerHTML=u[1]+a+u[2];l--;)d=d.lastChild;if(!Y.support.tbody)for(p=zt.test(a),h="table"!==s||p?"<table>"!==u[1]||p?[]:d.childNodes:d.firstChild&&d.firstChild.childNodes,o=h.length-1;o>=0;--o)Y.nodeName(h[o],"tbody")&&!h[o].childNodes.length&&h[o].parentNode.removeChild(h[o]);!Y.support.leadingWhitespace&&Jt.test(a)&&d.insertBefore(t.createTextNode(Jt.exec(a)[0]),d.firstChild),a=d.childNodes,d.parentNode.removeChild(d)}else a=t.createTextNode(a);a.nodeType?y.push(a):Y.merge(y,a)}if(d&&(a=d=v=null),!Y.support.appendChecked)for(r=0;null!=(a=y[r]);r++)Y.nodeName(a,"input")?g(a):"undefined"!=typeof a.getElementsByTagName&&Y.grep(a.getElementsByTagName("input"),g);if(n)for(f=function(e){return!e.type||Xt.test(e.type)?i?i.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e):void 0},r=0;null!=(a=y[r]);r++)Y.nodeName(a,"script")&&f(a)||(n.appendChild(a),"undefined"!=typeof a.getElementsByTagName&&(m=Y.grep(Y.merge([],a.getElementsByTagName("script")),f),y.splice.apply(y,[r+1,0].concat(m)),r+=m.length));return y},cleanData:function(e,t){for(var n,i,r,o,a=0,s=Y.expando,u=Y.cache,l=Y.support.deleteExpando,c=Y.event.special;null!=(r=e[a]);a++)if((t||Y.acceptData(r))&&(i=r[s],n=i&&u[i])){if(n.events)for(o in n.events)c[o]?Y.event.remove(r,o):Y.removeEvent(r,o,n.handle);u[i]&&(delete u[i],l?delete r[s]:r.removeAttribute?r.removeAttribute(s):r[s]=null,Y.deletedIds.push(i))}}}),function(){var e,t;Y.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \/]([\w.]+)/.exec(e)||/(webkit)[ \/]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[];return{browser:t[1]||"",version:t[2]||"0"}},e=Y.uaMatch(B.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),Y.browser=t,Y.sub=function(){function e(t,n){return new e.fn.init(t,n)}Y.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(n,i){return i&&i instanceof Y&&!(i instanceof e)&&(i=e(i)),Y.fn.init.call(this,n,i,t)},e.fn.init.prototype=e.fn;var t=e(J);return e}}();var nn,rn,on,an=/alpha\([^)]*\)/i,sn=/opacity=([^)]*)/,un=/^(top|right|bottom|left)$/,ln=/^(none|table(?!-c[ea]).+)/,cn=/^margin/,dn=new RegExp("^("+Z+")(.*)$","i"),pn=new RegExp("^("+Z+")(?!px)[a-z%]+$","i"),hn=new RegExp("^([-+])=("+Z+")","i"),fn={BODY:"block"},gn={position:"absolute",visibility:"hidden",display:"block"},mn={letterSpacing:0,fontWeight:400},vn=["Top","Right","Bottom","Left"],yn=["Webkit","O","Moz","ms"],bn=Y.fn.toggle;Y.fn.extend({css:function(e,n){return Y.access(this,function(e,n,i){return i!==t?Y.style(e,n,i):Y.css(e,n)},e,n,arguments.length>1)},show:function(){return y(this,!0)},hide:function(){return y(this)},toggle:function(e,t){var n="boolean"==typeof e;return Y.isFunction(e)&&Y.isFunction(t)?bn.apply(this,arguments):this.each(function(){(n?e:v(this))?Y(this).show():Y(this).hide()})}}),Y.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=nn(e,"opacity");return""===n?"1":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":Y.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,i,r){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var o,a,s,u=Y.camelCase(n),l=e.style;if(n=Y.cssProps[u]||(Y.cssProps[u]=m(l,u)),s=Y.cssHooks[n]||Y.cssHooks[u],i===t)return s&&"get"in s&&(o=s.get(e,!1,r))!==t?o:l[n];if(a=typeof i,"string"===a&&(o=hn.exec(i))&&(i=(o[1]+1)*o[2]+parseFloat(Y.css(e,n)),a="number"),!(null==i||"number"===a&&isNaN(i)||("number"!==a||Y.cssNumber[u]||(i+="px"),s&&"set"in s&&(i=s.set(e,i,r))===t)))try{l[n]=i}catch(c){}}},css:function(e,n,i,r){var o,a,s,u=Y.camelCase(n);return n=Y.cssProps[u]||(Y.cssProps[u]=m(e.style,u)),s=Y.cssHooks[n]||Y.cssHooks[u],s&&"get"in s&&(o=s.get(e,!0,r)),o===t&&(o=nn(e,n)),"normal"===o&&n in mn&&(o=mn[n]),i||r!==t?(a=parseFloat(o),i||Y.isNumeric(a)?a||0:o):o},swap:function(e,t,n){var i,r,o={};for(r in t)o[r]=e.style[r],e.style[r]=t[r];i=n.call(e);for(r in t)e.style[r]=o[r];return i}}),e.getComputedStyle?nn=function(t,n){var i,r,o,a,s=e.getComputedStyle(t,null),u=t.style;return s&&(i=s.getPropertyValue(n)||s[n],""!==i||Y.contains(t.ownerDocument,t)||(i=Y.style(t,n)),pn.test(i)&&cn.test(n)&&(r=u.width,o=u.minWidth,a=u.maxWidth,u.minWidth=u.maxWidth=u.width=i,i=s.width,u.width=r,u.minWidth=o,u.maxWidth=a)),i}:J.documentElement.currentStyle&&(nn=function(e,t){var n,i,r=e.currentStyle&&e.currentStyle[t],o=e.style;return null==r&&o&&o[t]&&(r=o[t]),pn.test(r)&&!un.test(t)&&(n=o.left,i=e.runtimeStyle&&e.runtimeStyle.left,i&&(e.runtimeStyle.left=e.currentStyle.left),o.left="fontSize"===t?"1em":r,r=o.pixelLeft+"px",o.left=n,i&&(e.runtimeStyle.left=i)),""===r?"auto":r}),Y.each(["height","width"],function(e,t){Y.cssHooks[t]={get:function(e,n,i){return n?0===e.offsetWidth&&ln.test(nn(e,"display"))?Y.swap(e,gn,function(){return x(e,t,i)}):x(e,t,i):void 0},set:function(e,n,i){return b(e,n,i?w(e,t,i,Y.support.boxSizing&&"border-box"===Y.css(e,"boxSizing")):0)}}}),Y.support.opacity||(Y.cssHooks.opacity={get:function(e,t){return sn.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,i=e.currentStyle,r=Y.isNumeric(t)?"alpha(opacity="+100*t+")":"",o=i&&i.filter||n.filter||"";n.zoom=1,t>=1&&""===Y.trim(o.replace(an,""))&&n.removeAttribute&&(n.removeAttribute("filter"),i&&!i.filter)||(n.filter=an.test(o)?o.replace(an,r):o+" "+r)}}),Y(function(){Y.support.reliableMarginRight||(Y.cssHooks.marginRight={get:function(e,t){return Y.swap(e,{display:"inline-block"},function(){return t?nn(e,"marginRight"):void 0})}}),!Y.support.pixelPosition&&Y.fn.position&&Y.each(["top","left"],function(e,t){Y.cssHooks[t]={get:function(e,n){if(n){var i=nn(e,t);return pn.test(i)?Y(e).position()[t]+"px":i}}}})}),Y.expr&&Y.expr.filters&&(Y.expr.filters.hidden=function(e){return 0===e.offsetWidth&&0===e.offsetHeight||!Y.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||nn(e,"display"))},Y.expr.filters.visible=function(e){return!Y.expr.filters.hidden(e)}),Y.each({margin:"",padding:"",border:"Width"},function(e,t){Y.cssHooks[e+t]={expand:function(n){var i,r="string"==typeof n?n.split(" "):[n],o={};for(i=0;4>i;i++)o[e+vn[i]+t]=r[i]||r[i-2]||r[0];return o}},cn.test(e)||(Y.cssHooks[e+t].set=b)});var wn=/%20/g,xn=/\[\]$/,Sn=/\r?\n/g,An=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Cn=/^(?:select|textarea)/i;Y.fn.extend({serialize:function(){return Y.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?Y.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||Cn.test(this.nodeName)||An.test(this.type))}).map(function(e,t){var n=Y(this).val();return null==n?null:Y.isArray(n)?Y.map(n,function(e){return{name:t.name,value:e.replace(Sn,"\r\n")}}):{name:t.name,value:n.replace(Sn,"\r\n")}}).get()}}),Y.param=function(e,n){var i,r=[],o=function(e,t){t=Y.isFunction(t)?t():null==t?"":t,r[r.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(n===t&&(n=Y.ajaxSettings&&Y.ajaxSettings.traditional),Y.isArray(e)||e.jquery&&!Y.isPlainObject(e))Y.each(e,function(){o(this.name,this.value)});else for(i in e)A(i,e[i],n,o);return r.join("&").replace(wn,"+")};var _n,$n,kn=/#.*$/,Tn=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,En=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Nn=/^(?:GET|HEAD)$/,jn=/^\/\//,Hn=/\?/,Dn=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,Rn=/([?&])_=[^&]*/,qn=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,On=Y.fn.load,Pn={},Mn={},In=["*/"]+["*"];try{$n=F.href}catch(Ln){$n=J.createElement("a"),$n.href="",$n=$n.href}_n=qn.exec($n.toLowerCase())||[],Y.fn.load=function(e,n,i){if("string"!=typeof e&&On)return On.apply(this,arguments);if(!this.length)return this;var r,o,a,s=this,u=e.indexOf(" ");return u>=0&&(r=e.slice(u,e.length),e=e.slice(0,u)),Y.isFunction(n)?(i=n,n=t):n&&"object"==typeof n&&(o="POST"),Y.ajax({url:e,type:o,dataType:"html",data:n,complete:function(e,t){i&&s.each(i,a||[e.responseText,t,e])}}).done(function(e){a=arguments,s.html(r?Y("<div>").append(e.replace(Dn,"")).find(r):e)}),this},Y.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(e,t){Y.fn[t]=function(e){return this.on(t,e)}}),Y.each(["get","post"],function(e,n){Y[n]=function(e,i,r,o){return Y.isFunction(i)&&(o=o||r,r=i,i=t),Y.ajax({type:n,url:e,data:i,success:r,dataType:o})}}),Y.extend({getScript:function(e,n){return Y.get(e,t,n,"script")},getJSON:function(e,t,n){return Y.get(e,t,n,"json")},ajaxSetup:function(e,t){return t?$(e,Y.ajaxSettings):(t=e,e=Y.ajaxSettings),$(e,t),e},ajaxSettings:{url:$n,isLocal:En.test(_n[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":In},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":e.String,"text html":!0,"text json":Y.parseJSON,"text xml":Y.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:C(Pn),ajaxTransport:C(Mn),ajax:function(e,n){function i(e,n,i,a){var l,d,y,b,x,A=n;
2!==w&&(w=2,u&&clearTimeout(u),s=t,o=a||"",S.readyState=e>0?4:0,i&&(b=k(p,S,i)),e>=200&&300>e||304===e?(p.ifModified&&(x=S.getResponseHeader("Last-Modified"),x&&(Y.lastModified[r]=x),x=S.getResponseHeader("Etag"),x&&(Y.etag[r]=x)),304===e?(A="notmodified",l=!0):(l=T(p,b),A=l.state,d=l.data,y=l.error,l=!y)):(y=A,(!A||e)&&(A="error",0>e&&(e=0))),S.status=e,S.statusText=(n||A)+"",l?g.resolveWith(h,[d,A,S]):g.rejectWith(h,[S,A,y]),S.statusCode(v),v=t,c&&f.trigger("ajax"+(l?"Success":"Error"),[S,p,l?d:y]),m.fireWith(h,[S,A]),c&&(f.trigger("ajaxComplete",[S,p]),--Y.active||Y.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{};var r,o,a,s,u,l,c,d,p=Y.ajaxSetup({},n),h=p.context||p,f=h!==p&&(h.nodeType||h instanceof Y)?Y(h):Y.event,g=Y.Deferred(),m=Y.Callbacks("once memory"),v=p.statusCode||{},y={},b={},w=0,x="canceled",S={readyState:0,setRequestHeader:function(e,t){if(!w){var n=e.toLowerCase();e=b[n]=b[n]||e,y[e]=t}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(e){var n;if(2===w){if(!a)for(a={};n=Tn.exec(o);)a[n[1].toLowerCase()]=n[2];n=a[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return w||(p.mimeType=e),this},abort:function(e){return e=e||x,s&&s.abort(e),i(0,e),this}};if(g.promise(S),S.success=S.done,S.error=S.fail,S.complete=m.add,S.statusCode=function(e){if(e){var t;if(2>w)for(t in e)v[t]=[v[t],e[t]];else t=e[S.status],S.always(t)}return this},p.url=((e||p.url)+"").replace(kn,"").replace(jn,_n[1]+"//"),p.dataTypes=Y.trim(p.dataType||"*").toLowerCase().split(tt),null==p.crossDomain&&(l=qn.exec(p.url.toLowerCase()),p.crossDomain=!(!l||l[1]===_n[1]&&l[2]===_n[2]&&(l[3]||("http:"===l[1]?80:443))==(_n[3]||("http:"===_n[1]?80:443)))),p.data&&p.processData&&"string"!=typeof p.data&&(p.data=Y.param(p.data,p.traditional)),_(Pn,p,n,S),2===w)return S;if(c=p.global,p.type=p.type.toUpperCase(),p.hasContent=!Nn.test(p.type),c&&0===Y.active++&&Y.event.trigger("ajaxStart"),!p.hasContent&&(p.data&&(p.url+=(Hn.test(p.url)?"&":"?")+p.data,delete p.data),r=p.url,p.cache===!1)){var A=Y.now(),C=p.url.replace(Rn,"$1_="+A);p.url=C+(C===p.url?(Hn.test(p.url)?"&":"?")+"_="+A:"")}(p.data&&p.hasContent&&p.contentType!==!1||n.contentType)&&S.setRequestHeader("Content-Type",p.contentType),p.ifModified&&(r=r||p.url,Y.lastModified[r]&&S.setRequestHeader("If-Modified-Since",Y.lastModified[r]),Y.etag[r]&&S.setRequestHeader("If-None-Match",Y.etag[r])),S.setRequestHeader("Accept",p.dataTypes[0]&&p.accepts[p.dataTypes[0]]?p.accepts[p.dataTypes[0]]+("*"!==p.dataTypes[0]?", "+In+"; q=0.01":""):p.accepts["*"]);for(d in p.headers)S.setRequestHeader(d,p.headers[d]);if(p.beforeSend&&(p.beforeSend.call(h,S,p)===!1||2===w))return S.abort();x="abort";for(d in{success:1,error:1,complete:1})S[d](p[d]);if(s=_(Mn,p,n,S)){S.readyState=1,c&&f.trigger("ajaxSend",[S,p]),p.async&&p.timeout>0&&(u=setTimeout(function(){S.abort("timeout")},p.timeout));try{w=1,s.send(y,i)}catch($){if(!(2>w))throw $;i(-1,$)}}else i(-1,"No Transport");return S},active:0,lastModified:{},etag:{}});var Jn=[],Fn=/\?/,Bn=/(=)\?(?=&|$)|\?\?/,zn=Y.now();Y.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Jn.pop()||Y.expando+"_"+zn++;return this[e]=!0,e}}),Y.ajaxPrefilter("json jsonp",function(n,i,r){var o,a,s,u=n.data,l=n.url,c=n.jsonp!==!1,d=c&&Bn.test(l),p=c&&!d&&"string"==typeof u&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Bn.test(u);return"jsonp"===n.dataTypes[0]||d||p?(o=n.jsonpCallback=Y.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,a=e[o],d?n.url=l.replace(Bn,"$1"+o):p?n.data=u.replace(Bn,"$1"+o):c&&(n.url+=(Fn.test(l)?"&":"?")+n.jsonp+"="+o),n.converters["script json"]=function(){return s||Y.error(o+" was not called"),s[0]},n.dataTypes[0]="json",e[o]=function(){s=arguments},r.always(function(){e[o]=a,n[o]&&(n.jsonpCallback=i.jsonpCallback,Jn.push(o)),s&&Y.isFunction(a)&&a(s[0]),s=a=t}),"script"):void 0}),Y.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(e){return Y.globalEval(e),e}}}),Y.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),Y.ajaxTransport("script",function(e){if(e.crossDomain){var n,i=J.head||J.getElementsByTagName("head")[0]||J.documentElement;return{send:function(r,o){n=J.createElement("script"),n.async="async",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,r){(r||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,i&&n.parentNode&&i.removeChild(n),n=t,r||o(200,"success"))},i.insertBefore(n,i.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Un,Wn=e.ActiveXObject?function(){for(var e in Un)Un[e](0,1)}:!1,Vn=0;Y.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&E()||N()}:E,function(e){Y.extend(Y.support,{ajax:!!e,cors:!!e&&"withCredentials"in e})}(Y.ajaxSettings.xhr()),Y.support.ajax&&Y.ajaxTransport(function(n){if(!n.crossDomain||Y.support.cors){var i;return{send:function(r,o){var a,s,u=n.xhr();if(n.username?u.open(n.type,n.url,n.async,n.username,n.password):u.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)u[s]=n.xhrFields[s];n.mimeType&&u.overrideMimeType&&u.overrideMimeType(n.mimeType),n.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest");try{for(s in r)u.setRequestHeader(s,r[s])}catch(l){}u.send(n.hasContent&&n.data||null),i=function(e,r){var s,l,c,d,p;try{if(i&&(r||4===u.readyState))if(i=t,a&&(u.onreadystatechange=Y.noop,Wn&&delete Un[a]),r)4!==u.readyState&&u.abort();else{s=u.status,c=u.getAllResponseHeaders(),d={},p=u.responseXML,p&&p.documentElement&&(d.xml=p);try{d.text=u.responseText}catch(h){}try{l=u.statusText}catch(h){l=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=d.text?200:404}}catch(f){r||o(-1,f)}d&&o(s,l,d,c)},n.async?4===u.readyState?setTimeout(i,0):(a=++Vn,Wn&&(Un||(Un={},Y(e).unload(Wn)),Un[a]=i),u.onreadystatechange=i):i()},abort:function(){i&&i(0,1)}}}});var Kn,Gn,Qn=/^(?:toggle|show|hide)$/,Xn=new RegExp("^(?:([-+])=|)("+Z+")([a-z%]*)$","i"),Yn=/queueHooks$/,Zn=[q],ei={"*":[function(e,t){var n,i,r=this.createTween(e,t),o=Xn.exec(t),a=r.cur(),s=+a||0,u=1,l=20;if(o){if(n=+o[2],i=o[3]||(Y.cssNumber[e]?"":"px"),"px"!==i&&s){s=Y.css(r.elem,e,!0)||n||1;do u=u||".5",s/=u,Y.style(r.elem,e,s+i);while(u!==(u=r.cur()/a)&&1!==u&&--l)}r.unit=i,r.start=s,r.end=o[1]?s+(o[1]+1)*n:n}return r}]};Y.Animation=Y.extend(D,{tweener:function(e,t){Y.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var n,i=0,r=e.length;r>i;i++)n=e[i],ei[n]=ei[n]||[],ei[n].unshift(t)},prefilter:function(e,t){t?Zn.unshift(e):Zn.push(e)}}),Y.Tween=O,O.prototype={constructor:O,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||"swing",this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(Y.cssNumber[n]?"":"px")},cur:function(){var e=O.propHooks[this.prop];return e&&e.get?e.get(this):O.propHooks._default.get(this)},run:function(e){var t,n=O.propHooks[this.prop];return this.pos=t=this.options.duration?Y.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):O.propHooks._default.set(this),this}},O.prototype.init.prototype=O.prototype,O.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=Y.css(e.elem,e.prop,!1,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){Y.fx.step[e.prop]?Y.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[Y.cssProps[e.prop]]||Y.cssHooks[e.prop])?Y.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},O.propHooks.scrollTop=O.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},Y.each(["toggle","show","hide"],function(e,t){var n=Y.fn[t];Y.fn[t]=function(i,r,o){return null==i||"boolean"==typeof i||!e&&Y.isFunction(i)&&Y.isFunction(r)?n.apply(this,arguments):this.animate(P(t,!0),i,r,o)}}),Y.fn.extend({fadeTo:function(e,t,n,i){return this.filter(v).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=Y.isEmptyObject(e),o=Y.speed(t,n,i),a=function(){var t=D(this,Y.extend({},e),o);r&&t.stop(!0)};return r||o.queue===!1?this.each(a):this.queue(o.queue,a)},stop:function(e,n,i){var r=function(e){var t=e.stop;delete e.stop,t(i)};return"string"!=typeof e&&(i=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",o=Y.timers,a=Y._data(this);if(n)a[n]&&a[n].stop&&r(a[n]);else for(n in a)a[n]&&a[n].stop&&Yn.test(n)&&r(a[n]);for(n=o.length;n--;)o[n].elem!==this||null!=e&&o[n].queue!==e||(o[n].anim.stop(i),t=!1,o.splice(n,1));(t||!i)&&Y.dequeue(this,e)})}}),Y.each({slideDown:P("show"),slideUp:P("hide"),slideToggle:P("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){Y.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),Y.speed=function(e,t,n){var i=e&&"object"==typeof e?Y.extend({},e):{complete:n||!n&&t||Y.isFunction(e)&&e,duration:e,easing:n&&t||t&&!Y.isFunction(t)&&t};return i.duration=Y.fx.off?0:"number"==typeof i.duration?i.duration:i.duration in Y.fx.speeds?Y.fx.speeds[i.duration]:Y.fx.speeds._default,(null==i.queue||i.queue===!0)&&(i.queue="fx"),i.old=i.complete,i.complete=function(){Y.isFunction(i.old)&&i.old.call(this),i.queue&&Y.dequeue(this,i.queue)},i},Y.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},Y.timers=[],Y.fx=O.prototype.init,Y.fx.tick=function(){var e,n=Y.timers,i=0;for(Kn=Y.now();i<n.length;i++)e=n[i],e()||n[i]!==e||n.splice(i--,1);n.length||Y.fx.stop(),Kn=t},Y.fx.timer=function(e){e()&&Y.timers.push(e)&&!Gn&&(Gn=setInterval(Y.fx.tick,Y.fx.interval))},Y.fx.interval=13,Y.fx.stop=function(){clearInterval(Gn),Gn=null},Y.fx.speeds={slow:600,fast:200,_default:400},Y.fx.step={},Y.expr&&Y.expr.filters&&(Y.expr.filters.animated=function(e){return Y.grep(Y.timers,function(t){return e===t.elem}).length});var ti=/^(?:body|html)$/i;Y.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){Y.offset.setOffset(this,e,t)});var n,i,r,o,a,s,u,l={top:0,left:0},c=this[0],d=c&&c.ownerDocument;if(d)return(i=d.body)===c?Y.offset.bodyOffset(c):(n=d.documentElement,Y.contains(n,c)?("undefined"!=typeof c.getBoundingClientRect&&(l=c.getBoundingClientRect()),r=M(d),o=n.clientTop||i.clientTop||0,a=n.clientLeft||i.clientLeft||0,s=r.pageYOffset||n.scrollTop,u=r.pageXOffset||n.scrollLeft,{top:l.top+s-o,left:l.left+u-a}):l)},Y.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return Y.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(Y.css(e,"marginTop"))||0,n+=parseFloat(Y.css(e,"marginLeft"))||0),{top:t,left:n}},setOffset:function(e,t,n){var i=Y.css(e,"position");"static"===i&&(e.style.position="relative");var r,o,a=Y(e),s=a.offset(),u=Y.css(e,"top"),l=Y.css(e,"left"),c=("absolute"===i||"fixed"===i)&&Y.inArray("auto",[u,l])>-1,d={},p={};c?(p=a.position(),r=p.top,o=p.left):(r=parseFloat(u)||0,o=parseFloat(l)||0),Y.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(d.top=t.top-s.top+r),null!=t.left&&(d.left=t.left-s.left+o),"using"in t?t.using.call(e,d):a.css(d)}},Y.fn.extend({position:function(){if(this[0]){var e=this[0],t=this.offsetParent(),n=this.offset(),i=ti.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(Y.css(e,"marginTop"))||0,n.left-=parseFloat(Y.css(e,"marginLeft"))||0,i.top+=parseFloat(Y.css(t[0],"borderTopWidth"))||0,i.left+=parseFloat(Y.css(t[0],"borderLeftWidth"))||0,{top:n.top-i.top,left:n.left-i.left}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||J.body;e&&!ti.test(e.nodeName)&&"static"===Y.css(e,"position");)e=e.offsetParent;return e||J.body})}}),Y.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var i=/Y/.test(n);Y.fn[e]=function(r){return Y.access(this,function(e,r,o){var a=M(e);return o===t?a?n in a?a[n]:a.document.documentElement[r]:e[r]:void(a?a.scrollTo(i?Y(a).scrollLeft():o,i?o:Y(a).scrollTop()):e[r]=o)},e,r,arguments.length,null)}}),Y.each({Height:"height",Width:"width"},function(e,n){Y.each({padding:"inner"+e,content:n,"":"outer"+e},function(i,r){Y.fn[r]=function(r,o){var a=arguments.length&&(i||"boolean"!=typeof r),s=i||(r===!0||o===!0?"margin":"border");return Y.access(this,function(n,i,r){var o;return Y.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(o=n.documentElement,Math.max(n.body["scroll"+e],o["scroll"+e],n.body["offset"+e],o["offset"+e],o["client"+e])):r===t?Y.css(n,i,r,s):Y.style(n,i,r,s)},n,a?r:t,a,null)}})}),e.jQuery=e.$=Y,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return Y})}(window),function(e){define("underscore",[],function(){return function(){return function(){var e=this,t=e._,n={},i=Array.prototype,r=Object.prototype,o=Function.prototype,a=i.push,s=i.slice,u=i.concat,l=r.toString,c=r.hasOwnProperty,d=i.forEach,p=i.map,h=i.reduce,f=i.reduceRight,g=i.filter,m=i.every,v=i.some,y=i.indexOf,b=i.lastIndexOf,w=Array.isArray,x=Object.keys,S=o.bind,A=function(e){return e instanceof A?e:this instanceof A?void(this._wrapped=e):new A(e)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=A),exports._=A):e._=A,A.VERSION="1.5.2";var C=A.each=A.forEach=function(e,t,i){if(null!=e)if(d&&e.forEach===d)e.forEach(t,i);else if(e.length===+e.length){for(var r=0,o=e.length;o>r;r++)if(t.call(i,e[r],r,e)===n)return}else for(var a=A.keys(e),r=0,o=a.length;o>r;r++)if(t.call(i,e[a[r]],a[r],e)===n)return};A.map=A.collect=function(e,t,n){var i=[];return null==e?i:p&&e.map===p?e.map(t,n):(C(e,function(e,r,o){i.push(t.call(n,e,r,o))}),i)};var _="Reduce of empty array with no initial value";A.reduce=A.foldl=A.inject=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),h&&e.reduce===h)return i&&(t=A.bind(t,i)),r?e.reduce(t,n):e.reduce(t);if(C(e,function(e,o,a){r?n=t.call(i,n,e,o,a):(n=e,r=!0)}),!r)throw new TypeError(_);return n},A.reduceRight=A.foldr=function(e,t,n,i){var r=arguments.length>2;if(null==e&&(e=[]),f&&e.reduceRight===f)return i&&(t=A.bind(t,i)),r?e.reduceRight(t,n):e.reduceRight(t);var o=e.length;if(o!==+o){var a=A.keys(e);o=a.length}if(C(e,function(s,u,l){u=a?a[--o]:--o,r?n=t.call(i,n,e[u],u,l):(n=e[u],r=!0)}),!r)throw new TypeError(_);return n},A.find=A.detect=function(e,t,n){var i;return $(e,function(e,r,o){return t.call(n,e,r,o)?(i=e,!0):void 0}),i},A.filter=A.select=function(e,t,n){var i=[];return null==e?i:g&&e.filter===g?e.filter(t,n):(C(e,function(e,r,o){t.call(n,e,r,o)&&i.push(e)}),i)},A.reject=function(e,t,n){return A.filter(e,function(e,i,r){return!t.call(n,e,i,r)},n)},A.every=A.all=function(e,t,i){t||(t=A.identity);var r=!0;return null==e?r:m&&e.every===m?e.every(t,i):(C(e,function(e,o,a){return(r=r&&t.call(i,e,o,a))?void 0:n}),!!r)};var $=A.some=A.any=function(e,t,i){t||(t=A.identity);var r=!1;return null==e?r:v&&e.some===v?e.some(t,i):(C(e,function(e,o,a){return r||(r=t.call(i,e,o,a))?n:void 0}),!!r)};A.contains=A.include=function(e,t){return null==e?!1:y&&e.indexOf===y?-1!=e.indexOf(t):$(e,function(e){return e===t})},A.invoke=function(e,t){var n=s.call(arguments,2),i=A.isFunction(t);return A.map(e,function(e){return(i?t:e[t]).apply(e,n)})},A.pluck=function(e,t){return A.map(e,function(e){return e[t]})},A.where=function(e,t,n){return A.isEmpty(t)?n?void 0:[]:A[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},A.findWhere=function(e,t){return A.where(e,t,!0)},A.max=function(e,t,n){if(!t&&A.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&A.isEmpty(e))return-1/0;var i={computed:-1/0,value:-1/0};return C(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a>i.computed&&(i={value:e,computed:a})}),i.value},A.min=function(e,t,n){if(!t&&A.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&A.isEmpty(e))return 1/0;var i={computed:1/0,value:1/0};return C(e,function(e,r,o){var a=t?t.call(n,e,r,o):e;a<i.computed&&(i={value:e,computed:a})}),i.value},A.shuffle=function(e){var t,n=0,i=[];return C(e,function(e){t=A.random(n++),i[n-1]=i[t],i[t]=e}),i},A.sample=function(e,t,n){return arguments.length<2||n?e[A.random(e.length-1)]:A.shuffle(e).slice(0,Math.max(0,t))};var k=function(e){return A.isFunction(e)?e:function(t){return t[e]}};A.sortBy=function(e,t,n){var i=k(t);return A.pluck(A.map(e,function(e,t,r){return{value:e,index:t,criteria:i.call(n,e,t,r)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(i>n||void 0===i)return-1}return e.index-t.index}),"value")};var T=function(e){return function(t,n,i){var r={},o=null==n?A.identity:k(n);return C(t,function(n,a){var s=o.call(i,n,a,t);e(r,s,n)}),r}};A.groupBy=T(function(e,t,n){(A.has(e,t)?e[t]:e[t]=[]).push(n)}),A.indexBy=T(function(e,t,n){e[t]=n}),A.countBy=T(function(e,t){A.has(e,t)?e[t]++:e[t]=1}),A.sortedIndex=function(e,t,n,i){n=null==n?A.identity:k(n);for(var r=n.call(i,t),o=0,a=e.length;a>o;){var s=o+a>>>1;n.call(i,e[s])<r?o=s+1:a=s}return o},A.toArray=function(e){return e?A.isArray(e)?s.call(e):e.length===+e.length?A.map(e,A.identity):A.values(e):[]},A.size=function(e){return null==e?0:e.length===+e.length?e.length:A.keys(e).length},A.first=A.head=A.take=function(e,t,n){return null==e?void 0:null==t||n?e[0]:s.call(e,0,t)},A.initial=function(e,t,n){return s.call(e,0,e.length-(null==t||n?1:t))},A.last=function(e,t,n){return null==e?void 0:null==t||n?e[e.length-1]:s.call(e,Math.max(e.length-t,0))},A.rest=A.tail=A.drop=function(e,t,n){return s.call(e,null==t||n?1:t)},A.compact=function(e){return A.filter(e,A.identity)};var E=function(e,t,n){return t&&A.every(e,A.isArray)?u.apply(n,e):(C(e,function(e){A.isArray(e)||A.isArguments(e)?t?a.apply(n,e):E(e,t,n):n.push(e)}),n)};A.flatten=function(e,t){return E(e,t,[])},A.without=function(e){return A.difference(e,s.call(arguments,1))},A.uniq=A.unique=function(e,t,n,i){A.isFunction(t)&&(i=n,n=t,t=!1);var r=n?A.map(e,n,i):e,o=[],a=[];return C(r,function(n,i){(t?i&&a[a.length-1]===n:A.contains(a,n))||(a.push(n),o.push(e[i]))}),o},A.union=function(){return A.uniq(A.flatten(arguments,!0))},A.intersection=function(e){var t=s.call(arguments,1);return A.filter(A.uniq(e),function(e){return A.every(t,function(t){return A.indexOf(t,e)>=0})})},A.difference=function(e){var t=u.apply(i,s.call(arguments,1));return A.filter(e,function(e){return!A.contains(t,e)})},A.zip=function(){for(var e=A.max(A.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;e>n;n++)t[n]=A.pluck(arguments,""+n);return t},A.object=function(e,t){if(null==e)return{};for(var n={},i=0,r=e.length;r>i;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},A.indexOf=function(e,t,n){if(null==e)return-1;var i=0,r=e.length;if(n){if("number"!=typeof n)return i=A.sortedIndex(e,t),e[i]===t?i:-1;i=0>n?Math.max(0,r+n):n}if(y&&e.indexOf===y)return e.indexOf(t,n);for(;r>i;i++)if(e[i]===t)return i;return-1},A.lastIndexOf=function(e,t,n){if(null==e)return-1;var i=null!=n;if(b&&e.lastIndexOf===b)return i?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var r=i?n:e.length;r--;)if(e[r]===t)return r;return-1},A.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=0,o=new Array(i);i>r;)o[r++]=e,e+=n;return o};var N=function(){};A.bind=function(e,t){var n,i;if(S&&e.bind===S)return S.apply(e,s.call(arguments,1));if(!A.isFunction(e))throw new TypeError;return n=s.call(arguments,2),i=function(){if(!(this instanceof i))return e.apply(t,n.concat(s.call(arguments)));N.prototype=e.prototype;var r=new N;N.prototype=null;var o=e.apply(r,n.concat(s.call(arguments)));return Object(o)===o?o:r}},A.partial=function(e){var t=s.call(arguments,1);return function(){return e.apply(this,t.concat(s.call(arguments)))}},A.bindAll=function(e){var t=s.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return C(t,function(t){e[t]=A.bind(e[t],e)}),e},A.memoize=function(e,t){var n={};return t||(t=A.identity),function(){var i=t.apply(this,arguments);return A.has(n,i)?n[i]:n[i]=e.apply(this,arguments)}},A.delay=function(e,t){var n=s.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},A.defer=function(e){return A.delay.apply(A,[e,1].concat(s.call(arguments,1)))},A.throttle=function(e,t,n){var i,r,o,a=null,s=0;n||(n={});var u=function(){s=n.leading===!1?0:new Date,a=null,o=e.apply(i,r)};return function(){var l=new Date;s||n.leading!==!1||(s=l);var c=t-(l-s);return i=this,r=arguments,0>=c?(clearTimeout(a),a=null,s=l,o=e.apply(i,r)):a||n.trailing===!1||(a=setTimeout(u,c)),o}},A.debounce=function(e,t,n){var i,r,o,a,s;return function(){o=this,r=arguments,a=new Date;var u=function(){var l=new Date-a;t>l?i=setTimeout(u,t-l):(i=null,n||(s=e.apply(o,r)))},l=n&&!i;return i||(i=setTimeout(u,t)),l&&(s=e.apply(o,r)),s}},A.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},A.wrap=function(e,t){return function(){var n=[e];return a.apply(n,arguments),t.apply(this,n)}},A.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},A.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},A.keys=x||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)A.has(e,n)&&t.push(n);return t},A.values=function(e){for(var t=A.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=e[t[r]];return i},A.pairs=function(e){for(var t=A.keys(e),n=t.length,i=new Array(n),r=0;n>r;r++)i[r]=[t[r],e[t[r]]];return i},A.invert=function(e){for(var t={},n=A.keys(e),i=0,r=n.length;r>i;i++)t[e[n[i]]]=n[i];return t},A.functions=A.methods=function(e){var t=[];for(var n in e)A.isFunction(e[n])&&t.push(n);return t.sort()},A.extend=function(e){return C(s.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},A.pick=function(e){var t={},n=u.apply(i,s.call(arguments,1));return C(n,function(n){n in e&&(t[n]=e[n])}),t},A.omit=function(e){var t={},n=u.apply(i,s.call(arguments,1));for(var r in e)A.contains(n,r)||(t[r]=e[r]);return t},A.defaults=function(e){return C(s.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},A.clone=function(e){return A.isObject(e)?A.isArray(e)?e.slice():A.extend({},e):e},A.tap=function(e,t){return t(e),e};var j=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof A&&(e=e._wrapped),t instanceof A&&(t=t._wrapped);var r=l.call(e);if(r!=l.call(t))return!1;switch(r){case"[object String]":return e==String(t);case"[object Number]":return e!=+e?t!=+t:0==e?1/e==1/t:e==+t;case"[object Date]":case"[object Boolean]":return+e==+t;case"[object RegExp]":return e.source==t.source&&e.global==t.global&&e.multiline==t.multiline&&e.ignoreCase==t.ignoreCase}if("object"!=typeof e||"object"!=typeof t)return!1;for(var o=n.length;o--;)if(n[o]==e)return i[o]==t;var a=e.constructor,s=t.constructor;if(a!==s&&!(A.isFunction(a)&&a instanceof a&&A.isFunction(s)&&s instanceof s))return!1;n.push(e),i.push(t);var u=0,c=!0;if("[object Array]"==r){if(u=e.length,c=u==t.length)for(;u--&&(c=j(e[u],t[u],n,i)););}else{for(var d in e)if(A.has(e,d)&&(u++,!(c=A.has(t,d)&&j(e[d],t[d],n,i))))break;if(c){for(d in t)if(A.has(t,d)&&!u--)break;c=!u}}return n.pop(),i.pop(),c};A.isEqual=function(e,t){return j(e,t,[],[])},A.isEmpty=function(e){if(null==e)return!0;if(A.isArray(e)||A.isString(e))return 0===e.length;for(var t in e)if(A.has(e,t))return!1;return!0},A.isElement=function(e){return!(!e||1!==e.nodeType)},A.isArray=w||function(e){return"[object Array]"==l.call(e)},A.isObject=function(e){return e===Object(e)},C(["Arguments","Function","String","Number","Date","RegExp"],function(e){A["is"+e]=function(t){return l.call(t)=="[object "+e+"]"}}),A.isArguments(arguments)||(A.isArguments=function(e){return!(!e||!A.has(e,"callee"))}),"function"!=typeof/./&&(A.isFunction=function(e){return"function"==typeof e}),A.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},A.isNaN=function(e){return A.isNumber(e)&&e!=+e},A.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"==l.call(e)},A.isNull=function(e){return null===e},A.isUndefined=function(e){return void 0===e},A.has=function(e,t){return c.call(e,t)},A.noConflict=function(){return e._=t,this},A.identity=function(e){return e},A.times=function(e,t,n){for(var i=Array(Math.max(0,e)),r=0;e>r;r++)i[r]=t.call(n,r);return i},A.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var H={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};H.unescape=A.invert(H.escape);var D={escape:new RegExp("["+A.keys(H.escape).join("")+"]","g"),unescape:new RegExp("("+A.keys(H.unescape).join("|")+")","g")};A.each(["escape","unescape"],function(e){A[e]=function(t){return null==t?"":(""+t).replace(D[e],function(t){return H[e][t]})}}),A.result=function(e,t){if(null==e)return void 0;var n=e[t];return A.isFunction(n)?n.call(e):n},A.mixin=function(e){C(A.functions(e),function(t){var n=A[t]=e[t];A.prototype[t]=function(){var e=[this._wrapped];return a.apply(e,arguments),M.call(this,n.apply(A,e))}})};var R=0;A.uniqueId=function(e){var t=++R+"";return e?e+t:t},A.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var q=/(.)^/,O={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},P=/\\|'|\r|\n|\t|\u2028|\u2029/g;A.template=function(e,t,n){var i;n=A.defaults({},n,A.templateSettings);var r=new RegExp([(n.escape||q).source,(n.interpolate||q).source,(n.evaluate||q).source].join("|")+"|$","g"),o=0,a="__p+='";e.replace(r,function(t,n,i,r,s){return a+=e.slice(o,s).replace(P,function(e){return"\\"+O[e]}),n&&(a+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),i&&(a+="'+\n((__t=("+i+"))==null?'':__t)+\n'"),r&&(a+="';\n"+r+"\n__p+='"),o=s+t.length,t}),a+="';\n",n.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{i=new Function(n.variable||"obj","_",a)}catch(s){throw s.source=a,s}if(t)return i(t,A);var u=function(e){return i.call(this,e,A)};return u.source="function("+(n.variable||"obj")+"){\n"+a+"}",u},A.chain=function(e){return A(e).chain()};var M=function(e){return this._chain?A(e).chain():e};A.mixin(A),C(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=i[e];A.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],M.call(this,n)}}),C(["concat","join","slice"],function(e){var t=i[e];A.prototype[e]=function(){return M.call(this,t.apply(this._wrapped,arguments))}}),A.extend(A.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),e._=_}.apply(e,arguments)})}(this);var goog=goog||{};goog.inherits=function(e,t){function n(){}n.prototype=t.prototype,e.superClass_=t.prototype,e.prototype=new n,e.prototype.constructor=e},goog.userAgent||(goog.userAgent=function(){var e="";"undefined"!=typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(e=navigator.userAgent);var t=0==e.indexOf("Opera");return{HAS_JSCRIPT:"string"in this,IS_OPERA:t,IS_IE:!t&&-1!=e.indexOf("MSIE"),IS_WEBKIT:!t&&-1!=e.indexOf("WebKit")}}()),goog.asserts||(goog.asserts={fail:function(){}}),goog.dom||(goog.dom={},goog.dom.DomHelper=function(e){this.document_=e||document},goog.dom.DomHelper.prototype.getDocument=function(){return this.document_},goog.dom.DomHelper.prototype.createElement=function(e){return this.document_.createElement(e)},goog.dom.DomHelper.prototype.createDocumentFragment=function(){return this.document_.createDocumentFragment()}),goog.format||(goog.format={insertWordBreaks:function(e,t){e=String(e);for(var n=[],i=0,r=!1,o=!1,a=0,s=0,u=0,l=e.length;l>u;++u){var c=e.charCodeAt(u);if(a>=t&&32!=c&&(n[i++]=e.substring(s,u),s=u,n[i++]=goog.format.WORD_BREAK,a=0),r)62==c&&(r=!1);else if(o)switch(c){case 59:o=!1,++a;break;case 60:o=!1,r=!0;break;case 32:o=!1,a=0}else switch(c){case 60:r=!0;break;case 38:o=!0;break;case 32:a=0;break;default:++a}}return n[i++]=e.substring(s),n.join("")},WORD_BREAK:goog.userAgent.IS_WEBKIT?"<wbr></wbr>":goog.userAgent.IS_OPERA?"&shy;":"<wbr>"}),goog.i18n||(goog.i18n={bidi:{detectRtlDirectionality:function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiRtlWordRatio_(e)>soyshim.$$bidiRtlDetectionThreshold_}}}),goog.i18n.bidi.Dir={RTL:-1,UNKNOWN:0,LTR:1},goog.i18n.bidi.toDir=function(e){return"number"==typeof e?e>0?goog.i18n.bidi.Dir.LTR:0>e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.UNKNOWN:e?goog.i18n.bidi.Dir.RTL:goog.i18n.bidi.Dir.LTR},goog.i18n.BidiFormatter=function(e){this.dir_=goog.i18n.bidi.toDir(e)},goog.i18n.BidiFormatter.prototype.dirAttr=function(e,t){var n=soy.$$bidiTextDir(e,t);return n&&n!=this.dir_?0>n?"dir=rtl":"dir=ltr":""},goog.i18n.BidiFormatter.prototype.endEdge=function(){return this.dir_<0?"left":"right"},goog.i18n.BidiFormatter.prototype.mark=function(){return this.dir_>0?"‎":this.dir_<0?"‏":""},goog.i18n.BidiFormatter.prototype.markAfter=function(e,t){var n=soy.$$bidiTextDir(e,t);return soyshim.$$bidiMarkAfterKnownDir_(this.dir_,n,e,t)},goog.i18n.BidiFormatter.prototype.spanWrap=function(e){e=String(e);var t=soy.$$bidiTextDir(e,!0),n=soyshim.$$bidiMarkAfterKnownDir_(this.dir_,t,e,!0);return t>0&&this.dir_<=0?e="<span dir=ltr>"+e+"</span>":0>t&&this.dir_>=0&&(e="<span dir=rtl>"+e+"</span>"),e+n},goog.i18n.BidiFormatter.prototype.startEdge=function(){return this.dir_<0?"right":"left"},goog.i18n.BidiFormatter.prototype.unicodeWrap=function(e){e=String(e);var t=soy.$$bidiTextDir(e,!0),n=soyshim.$$bidiMarkAfterKnownDir_(this.dir_,t,e,!0);return t>0&&this.dir_<=0?e="‪"+e+"‬":0>t&&this.dir_>=0&&(e="‫"+e+"‬"),e+n},goog.string={newLineToBr:function(e,t){return e=String(e),goog.string.NEWLINE_TO_BR_RE_.test(e)?e.replace(/(\r\n|\r|\n)/g,t?"<br />":"<br>"):e},urlEncode:encodeURIComponent,NEWLINE_TO_BR_RE_:/[\r\n]/},goog.string.StringBuffer=function(e){this.buffer_=goog.userAgent.HAS_JSCRIPT?[]:"",null!=e&&this.append.apply(this,arguments)},goog.string.StringBuffer.prototype.bufferLength_=0,goog.string.StringBuffer.prototype.append=function(e,t){if(goog.userAgent.HAS_JSCRIPT)if(null==t)this.buffer_[this.bufferLength_++]=e;else{var n=this.buffer_;n.push.apply(n,arguments),this.bufferLength_=this.buffer_.length}else if(this.buffer_+=e,null!=t)for(var i=1;i<arguments.length;i++)this.buffer_+=arguments[i];return this},goog.string.StringBuffer.prototype.clear=function(){goog.userAgent.HAS_JSCRIPT?(this.buffer_.length=0,this.bufferLength_=0):this.buffer_=""},goog.string.StringBuffer.prototype.toString=function(){if(goog.userAgent.HAS_JSCRIPT){var e=this.buffer_.join("");return this.clear(),e&&this.append(e),e}return this.buffer_},goog.soy||(goog.soy={renderAsElement:function(e,t,n,i){return soyshim.$$renderWithWrapper_(e,t,i,!0,n)},renderAsFragment:function(e,t,n,i){return soyshim.$$renderWithWrapper_(e,t,i,!1,n)},renderElement:function(e,t,n,i){e.innerHTML=t(n,null,i)}});var soy={esc:{}},soydata={},soyshim={$$DEFAULT_TEMPLATE_DATA_:{}};if(soyshim.$$renderWithWrapper_=function(e,t,n,i,r){var o=n||document,a=o.createElement("div");if(a.innerHTML=e(t||soyshim.$$DEFAULT_TEMPLATE_DATA_,void 0,r),1==a.childNodes.length){var s=a.firstChild;if(!i||1==s.nodeType)return s}if(i)return a;for(var u=o.createDocumentFragment();a.firstChild;)u.appendChild(a.firstChild);return u},soyshim.$$bidiMarkAfterKnownDir_=function(e,t,n,i){return e>0&&(0>t||soyshim.$$bidiIsRtlExitText_(n,i))?"‎":0>e&&(t>0||soyshim.$$bidiIsLtrExitText_(n,i))?"‏":""},soyshim.$$bidiStripHtmlIfNecessary_=function(e,t){return t?e.replace(soyshim.$$BIDI_HTML_SKIP_RE_," "):e
},soyshim.$$BIDI_HTML_SKIP_RE_=/<[^>]*>|&[^;]+;/g,soyshim.$$bidiLtrChars_="A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿",soyshim.$$bidiNeutralChars_="\x00- !-@[-`{-¿×÷ʹ-˿ -⯿",soyshim.$$bidiRtlChars_="֑-߿יִ-﷽ﹰ-ﻼ",soyshim.$$bidiRtlDirCheckRe_=new RegExp("^[^"+soyshim.$$bidiLtrChars_+"]*["+soyshim.$$bidiRtlChars_+"]"),soyshim.$$bidiNeutralDirCheckRe_=new RegExp("^["+soyshim.$$bidiNeutralChars_+"]*$|^http://"),soyshim.$$bidiIsRtlText_=function(e){return soyshim.$$bidiRtlDirCheckRe_.test(e)},soyshim.$$bidiIsNeutralText_=function(e){return soyshim.$$bidiNeutralDirCheckRe_.test(e)},soyshim.$$bidiRtlDetectionThreshold_=.4,soyshim.$$bidiRtlWordRatio_=function(e){for(var t=0,n=0,i=e.split(" "),r=0;r<i.length;r++)soyshim.$$bidiIsRtlText_(i[r])?(t++,n++):soyshim.$$bidiIsNeutralText_(i[r])||n++;return 0==n?0:t/n},soyshim.$$bidiLtrExitDirCheckRe_=new RegExp("["+soyshim.$$bidiLtrChars_+"][^"+soyshim.$$bidiRtlChars_+"]*$"),soyshim.$$bidiRtlExitDirCheckRe_=new RegExp("["+soyshim.$$bidiRtlChars_+"][^"+soyshim.$$bidiLtrChars_+"]*$"),soyshim.$$bidiIsLtrExitText_=function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiLtrExitDirCheckRe_.test(e)},soyshim.$$bidiIsRtlExitText_=function(e,t){return e=soyshim.$$bidiStripHtmlIfNecessary_(e,t),soyshim.$$bidiRtlExitDirCheckRe_.test(e)},soy.StringBuilder=goog.string.StringBuffer,soydata.SanitizedContentKind={HTML:0,JS_STR_CHARS:1,URI:2,HTML_ATTRIBUTE:3},soydata.SanitizedContent=function(e){this.content=e},soydata.SanitizedContent.prototype.contentKind,soydata.SanitizedContent.prototype.toString=function(){return this.content},soydata.SanitizedHtml=function(e){soydata.SanitizedContent.call(this,e)},goog.inherits(soydata.SanitizedHtml,soydata.SanitizedContent),soydata.SanitizedHtml.prototype.contentKind=soydata.SanitizedContentKind.HTML,soydata.SanitizedJsStrChars=function(e){soydata.SanitizedContent.call(this,e)},goog.inherits(soydata.SanitizedJsStrChars,soydata.SanitizedContent),soydata.SanitizedJsStrChars.prototype.contentKind=soydata.SanitizedContentKind.JS_STR_CHARS,soydata.SanitizedUri=function(e){soydata.SanitizedContent.call(this,e)},goog.inherits(soydata.SanitizedUri,soydata.SanitizedContent),soydata.SanitizedUri.prototype.contentKind=soydata.SanitizedContentKind.URI,soydata.SanitizedHtmlAttribute=function(e){soydata.SanitizedContent.call(this,e)},goog.inherits(soydata.SanitizedHtmlAttribute,soydata.SanitizedContent),soydata.SanitizedHtmlAttribute.prototype.contentKind=soydata.SanitizedContentKind.HTML_ATTRIBUTE,soy.renderElement=goog.soy.renderElement,soy.renderAsFragment=function(e,t,n,i){return goog.soy.renderAsFragment(e,t,i,new goog.dom.DomHelper(n))},soy.renderAsElement=function(e,t,n,i){return goog.soy.renderAsElement(e,t,i,new goog.dom.DomHelper(n))},soy.$$augmentData=function(e,t){function n(){}n.prototype=e;var i=new n;for(var r in t)i[r]=t[r];return i},soy.$$getMapKeys=function(e){var t=[];for(var n in e)t.push(n);return t},soy.$$getDelegateId=function(e){return e},soy.$$DELEGATE_REGISTRY_PRIORITIES_={},soy.$$DELEGATE_REGISTRY_FUNCTIONS_={},soy.$$registerDelegateFn=function(e,t,n){var i="key_"+e,r=soy.$$DELEGATE_REGISTRY_PRIORITIES_[i];if(void 0===r||t>r)soy.$$DELEGATE_REGISTRY_PRIORITIES_[i]=t,soy.$$DELEGATE_REGISTRY_FUNCTIONS_[i]=n;else if(t==r)throw Error('Encountered two active delegates with same priority (id/name "'+e+'").')},soy.$$getDelegateFn=function(e){var t=soy.$$DELEGATE_REGISTRY_FUNCTIONS_["key_"+e];return t?t:soy.$$EMPTY_TEMPLATE_FN_},soy.$$EMPTY_TEMPLATE_FN_=function(){return""},soy.$$escapeHtml=function(e){return"object"==typeof e&&e&&e.contentKind===soydata.SanitizedContentKind.HTML?e.content:soy.esc.$$escapeHtmlHelper(e)},soy.$$escapeHtmlRcdata=function(e){return"object"==typeof e&&e&&e.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlHelper(e.content):soy.esc.$$escapeHtmlHelper(e)},soy.$$stripHtmlTags=function(e){return String(e).replace(soy.esc.$$HTML_TAG_REGEX_,"")},soy.$$escapeHtmlAttribute=function(e){return"object"==typeof e&&e&&e.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlHelper(soy.$$stripHtmlTags(e.content)):soy.esc.$$escapeHtmlHelper(e)},soy.$$escapeHtmlAttributeNospace=function(e){return"object"==typeof e&&e&&e.contentKind===soydata.SanitizedContentKind.HTML?soy.esc.$$normalizeHtmlNospaceHelper(soy.$$stripHtmlTags(e.content)):soy.esc.$$escapeHtmlNospaceHelper(e)},soy.$$filterHtmlAttribute=function(e){return"object"==typeof e&&e&&e.contentKind===soydata.SanitizedContentKind.HTML_ATTRIBUTE?e.content.replace(/=([^"']*)$/,'="$1"'):soy.esc.$$filterHtmlAttributeHelper(e)},soy.$$filterHtmlElementName=function(e){return soy.esc.$$filterHtmlElementNameHelper(e)},soy.$$escapeJs=function(e){return soy.$$escapeJsString(e)},soy.$$escapeJsString=function(e){return"object"==typeof e&&e.contentKind===soydata.SanitizedContentKind.JS_STR_CHARS?e.content:soy.esc.$$escapeJsStringHelper(e)},soy.$$escapeJsValue=function(e){if(null==e)return" null ";switch(typeof e){case"boolean":case"number":return" "+e+" ";default:return"'"+soy.esc.$$escapeJsStringHelper(String(e))+"'"}},soy.$$escapeJsRegex=function(e){return soy.esc.$$escapeJsRegexHelper(e)},soy.$$problematicUriMarks_=/['()]/g,soy.$$pctEncode_=function(e){return"%"+e.charCodeAt(0).toString(16)},soy.$$escapeUri=function(e){if("object"==typeof e&&e.contentKind===soydata.SanitizedContentKind.URI)return soy.$$normalizeUri(e);var t=soy.esc.$$escapeUriHelper(e);return soy.$$problematicUriMarks_.lastIndex=0,soy.$$problematicUriMarks_.test(t)?t.replace(soy.$$problematicUriMarks_,soy.$$pctEncode_):t},soy.$$normalizeUri=function(e){return soy.esc.$$normalizeUriHelper(e)},soy.$$filterNormalizeUri=function(e){return soy.esc.$$filterNormalizeUriHelper(e)},soy.$$escapeCssString=function(e){return soy.esc.$$escapeCssStringHelper(e)},soy.$$filterCssValue=function(e){return null==e?"":soy.esc.$$filterCssValueHelper(e)},soy.$$changeNewlineToBr=function(e){return goog.string.newLineToBr(String(e),!1)},soy.$$insertWordBreaks=function(e,t){return goog.format.insertWordBreaks(String(e),t)},soy.$$truncate=function(e,t,n){return e=String(e),e.length<=t?e:(n&&(t>3?t-=3:n=!1),soy.$$isHighSurrogate_(e.charAt(t-1))&&soy.$$isLowSurrogate_(e.charAt(t))&&(t-=1),e=e.substring(0,t),n&&(e+="..."),e)},soy.$$isHighSurrogate_=function(e){return e>=55296&&56319>=e},soy.$$isLowSurrogate_=function(e){return e>=56320&&57343>=e},soy.$$bidiFormatterCache_={},soy.$$getBidiFormatterInstance_=function(e){return soy.$$bidiFormatterCache_[e]||(soy.$$bidiFormatterCache_[e]=new goog.i18n.BidiFormatter(e))},soy.$$bidiTextDir=function(e,t){return e?goog.i18n.bidi.detectRtlDirectionality(e,t)?-1:1:0},soy.$$bidiDirAttr=function(e,t,n){return new soydata.SanitizedHtmlAttribute(soy.$$getBidiFormatterInstance_(e).dirAttr(t,n))},soy.$$bidiMarkAfter=function(e,t,n){var i=soy.$$getBidiFormatterInstance_(e);return i.markAfter(t,n)},soy.$$bidiSpanWrap=function(e,t){var n=soy.$$getBidiFormatterInstance_(e);return n.spanWrap(t+"",!0)},soy.$$bidiUnicodeWrap=function(e,t){var n=soy.$$getBidiFormatterInstance_(e);return n.unicodeWrap(t+"",!0)},soy.esc.$$escapeUriHelper=function(e){return encodeURIComponent(String(e))},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","	":"&#9;","\n":"&#10;","":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","":"&#133;"," ":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"},soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_={"\x00":"\\x00","\b":"\\x08","	":"\\t","\n":"\\n","":"\\x0b","\f":"\\f","\r":"\\r",'"':"\\x22","&":"\\x26","'":"\\x27","/":"\\/","<":"\\x3c","=":"\\x3d",">":"\\x3e","\\":"\\\\","":"\\x85","\u2028":"\\u2028","\u2029":"\\u2029",$:"\\x24","(":"\\x28",")":"\\x29","*":"\\x2a","+":"\\x2b",",":"\\x2c","-":"\\x2d",".":"\\x2e",":":"\\x3a","?":"\\x3f","[":"\\x5b","]":"\\x5d","^":"\\x5e","{":"\\x7b","|":"\\x7c","}":"\\x7d"},soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_[e]},soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_={"\x00":"\\0 ","\b":"\\8 ","	":"\\9 ","\n":"\\a ","":"\\b ","\f":"\\c ","\r":"\\d ",'"':"\\22 ","&":"\\26 ","'":"\\27 ","(":"\\28 ",")":"\\29 ","*":"\\2a ","/":"\\2f ",":":"\\3a ",";":"\\3b ","<":"\\3c ","=":"\\3d ",">":"\\3e ","@":"\\40 ","\\":"\\5c ","{":"\\7b ","}":"\\7d ","":"\\85 "," ":"\\a0 ","\u2028":"\\2028 ","\u2029":"\\2029 "},soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_ESCAPE_CSS_STRING_[e]},soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_={"\x00":"%00","":"%01","":"%02","":"%03","":"%04","":"%05","":"%06","":"%07","\b":"%08","	":"%09","\n":"%0A","":"%0B","\f":"%0C","\r":"%0D","":"%0E","":"%0F","":"%10","":"%11","":"%12","":"%13","":"%14","":"%15","":"%16","":"%17","":"%18","":"%19","":"%1A","":"%1B","":"%1C","":"%1D","":"%1E","":"%1F"," ":"%20",'"':"%22","'":"%27","(":"%28",")":"%29","<":"%3C",">":"%3E","\\":"%5C","{":"%7B","}":"%7D","":"%7F","":"%C2%85"," ":"%C2%A0","\u2028":"%E2%80%A8","\u2029":"%E2%80%A9","！":"%EF%BC%81","＃":"%EF%BC%83","＄":"%EF%BC%84","＆":"%EF%BC%86","＇":"%EF%BC%87","（":"%EF%BC%88","）":"%EF%BC%89","＊":"%EF%BC%8A","＋":"%EF%BC%8B","，":"%EF%BC%8C","／":"%EF%BC%8F","：":"%EF%BC%9A","；":"%EF%BC%9B","＝":"%EF%BC%9D","？":"%EF%BC%9F","＠":"%EF%BC%A0","［":"%EF%BC%BB","］":"%EF%BC%BD"},soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=function(e){return soy.esc.$$ESCAPE_MAP_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_[e]},soy.esc.$$MATCHER_FOR_ESCAPE_HTML_=/[\x00\x22\x26\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_=/[\x00\x22\x27\x3c\x3e]/g,soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x26\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_=/[\x00\x09-\x0d \x22\x27\x2d\/\x3c-\x3e`\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_=/[\x00\x08-\x0d\x22\x26\x27\/\x3c-\x3e\\\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_=/[\x00\x08-\x0d\x22\x24\x26-\/\x3a\x3c-\x3f\x5b-\x5e\x7b-\x7d\x85\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_=/[\x00\x08-\x0d\x22\x26-\x2a\/\x3a-\x3e@\\\x7b\x7d\x85\xa0\u2028\u2029]/g,soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_=/[\x00- \x22\x27-\x29\x3c\x3e\\\x7b\x7d\x7f\x85\xa0\u2028\u2029\uff01\uff03\uff04\uff06-\uff0c\uff0f\uff1a\uff1b\uff1d\uff1f\uff20\uff3b\uff3d]/g,soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_=/^(?!-*(?:expression|(?:moz-)?binding))(?:[.#]?-?(?:[_a-z0-9-]+)(?:-[_a-z0-9-]+)*-?|-?(?:[0-9]+(?:\.[0-9]*)?|\.[0-9]+)(?:[a-z]{1,2}|%)?|!important|)$/i,soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_=/^(?:(?:https?|mailto):|[^&:\/?#]*(?:[\/?#]|$))/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_=/^(?!style|on|action|archive|background|cite|classid|codebase|data|dsync|href|longdesc|src|usemap)(?:[a-z0-9_$:-]*)$/i,soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_=/^(?!script|style|title|textarea|xmp|no)[a-z0-9_$:-]*$/i,soy.esc.$$escapeHtmlHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeHtmlNospaceHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$normalizeHtmlNospaceHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_HTML_NOSPACE_,soy.esc.$$REPLACER_FOR_ESCAPE_HTML__AND__NORMALIZE_HTML__AND__ESCAPE_HTML_NOSPACE__AND__NORMALIZE_HTML_NOSPACE_)},soy.esc.$$escapeJsStringHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeJsRegexHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_JS_REGEX_,soy.esc.$$REPLACER_FOR_ESCAPE_JS_STRING__AND__ESCAPE_JS_REGEX_)},soy.esc.$$escapeCssStringHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_ESCAPE_CSS_STRING_,soy.esc.$$REPLACER_FOR_ESCAPE_CSS_STRING_)},soy.esc.$$filterCssValueHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_CSS_VALUE_.test(t)?t:"zSoyz"},soy.esc.$$normalizeUriHelper=function(e){var t=String(e);return t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_)},soy.esc.$$filterNormalizeUriHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_NORMALIZE_URI_.test(t)?t.replace(soy.esc.$$MATCHER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_,soy.esc.$$REPLACER_FOR_NORMALIZE_URI__AND__FILTER_NORMALIZE_URI_):"zSoyz"},soy.esc.$$filterHtmlAttributeHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_HTML_ATTRIBUTE_.test(t)?t:"zSoyz"},soy.esc.$$filterHtmlElementNameHelper=function(e){var t=String(e);return soy.esc.$$FILTER_FOR_FILTER_HTML_ELEMENT_NAME_.test(t)?t:"zSoyz"},soy.esc.$$HTML_TAG_REGEX_=/<(?:!|\/?[a-zA-Z])(?:[^>'"]|"[^"]*"|'[^']*')*>/g,"undefined"==typeof aui)var aui={};if(aui.renderExtraAttributes=function(e,t){var n=t||new soy.StringBuilder;if(null!=e&&e.extraAttributes)if("[object Object]"===Object.prototype.toString.call(e.extraAttributes))for(var i=soy.$$getMapKeys(e.extraAttributes),r=i.length,o=0;r>o;o++){var a=i[o];n.append(" ",soy.$$escapeHtml(a),'="',soy.$$escapeHtml(e.extraAttributes[a]),'"')}else n.append(" ",e.extraAttributes);return t?"":n.toString()},aui.renderExtraClasses=function(e,t){var n=t||new soy.StringBuilder;if(null!=e&&e.extraClasses)if(e.extraClasses instanceof Array)for(var i=e.extraClasses,r=i.length,o=0;r>o;o++){var a=i[o];n.append(" ",soy.$$escapeHtml(a))}else n.append(" ",soy.$$escapeHtml(e.extraClasses));return t?"":n.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.badges&&(aui.badges={}),aui.badges.badge=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"span"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-badge'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",soy.$$escapeHtml(e.text),"</",soy.$$escapeHtml(e.tagName?e.tagName:"span"),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.buttons&&(aui.buttons={}),aui.buttons.button=function(e,t,n){var i=t||new soy.StringBuilder;return e.href?(i.append('<a href="',soy.$$escapeHtml(e.href),'"'),aui.buttons.buttonAttributes(soy.$$augmentData(e,{tagName:"a"}),i,n),i.append(">"),aui.buttons.buttonIcon(e,i,n),i.append(e.hasLabel?'<span class="aui-button-label">':"",soy.$$escapeHtml(e.text),e.hasLabel?"</span>":"","</a>")):"input"==e.tagName?(i.append('<input type="',soy.$$escapeHtml(e.inputType?e.inputType:"button"),'" '),aui.buttons.buttonAttributes(e,i,n),i.append(' value="',soy.$$escapeHtml(e.text),'" />')):(i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"button")),aui.buttons.buttonAttributes(soy.$$augmentData(e,{tagName:e.tagName?e.tagName:"button"}),i,n),i.append(">"),aui.buttons.buttonIcon(e,i,n),i.append(e.hasLabel?'<span class="aui-button-label">':"",soy.$$escapeHtml(e.text),e.hasLabel?"</span>":"","</",soy.$$escapeHtml(e.tagName?e.tagName:"button"),">")),t?"":i.toString()},aui.buttons.buttons=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-buttons'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div>"),t?"":i.toString()},aui.buttons.buttonAttributes=function(e,t,n){var i=t||new soy.StringBuilder;switch(i.append(e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-button',"main"==e.splitButtonType?" aui-button-split-main":"",e.dropdown2Target?" aui-dropdown2-trigger"+("more"==e.splitButtonType?" aui-button-split-more":""):""),e.type){case"primary":i.append(" aui-button-primary");break;case"link":i.append(" aui-button-link");break;case"subtle":i.append(" aui-button-subtle")}return aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(e.isPressed?' aria-pressed="'+soy.$$escapeHtml(e.isPressed)+'"':"",e.isDisabled?' aria-disabled="'+soy.$$escapeHtml(e.isDisabled)+'"'+(1==e.isDisabled&&("button"==e.tagName||"input"==e.tagName)?' disabled="disabled" ':""):"",e.dropdown2Target?' aria-owns="'+soy.$$escapeHtml(e.dropdown2Target)+'" aria-haspopup="true"':"","a"==e.tagName?' tabindex="0"':""),t?"":i.toString()},aui.buttons.buttonIcon=function(e,t){var n=t||new soy.StringBuilder;return n.append(e.iconType?'<span class="'+("aui"==e.iconType?"aui-icon":"")+(e.iconClass?" "+soy.$$escapeHtml(e.iconClass):"")+'">'+(e.iconText?soy.$$escapeHtml(e.iconText)+" ":"")+"</span>":""),t?"":n.toString()},aui.buttons.splitButton=function(e,t,n){var i=t||new soy.StringBuilder;return aui.buttons.button(soy.$$augmentData(e.splitButtonMain,{splitButtonType:"main"}),i,n),aui.buttons.button(soy.$$augmentData(e.splitButtonMore,{splitButtonType:"more"}),i,n),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.dialog&&(aui.dialog={}),aui.dialog.dialog2=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder;return aui.dialog.dialog2Content(e,r,n),aui.dialog.dialog2Chrome({id:e.id,titleId:e.id?e.id+"-dialog-title":null,modal:e.modal,tagName:e.tagName,removeOnHide:e.removeOnHide,visible:e.visible,size:e.size,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,content:r.toString()},i,n),t?"":i.toString()},aui.dialog.dialog2Chrome=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"section"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",e.titleId?' aria-labelledby="'+soy.$$escapeHtml(e.titleId)+'"':"",' role="dialog" class=" aui-layer aui-dialog2 aui-dialog2-',soy.$$escapeHtml(e.size?e.size:"medium")),aui.renderExtraClasses(e,i,n),i.append('"',e.modal?'data-aui-modal="true"':"",e.removeOnHide?'data-aui-remove-on-hide="true"':"",1!=e.visible?'aria-hidden="true"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content?e.content:"","</",soy.$$escapeHtml(e.tagName?e.tagName:"section"),">"),t?"":i.toString()},aui.dialog.dialog2Content=function(e,t,n){var i=t||new soy.StringBuilder;return aui.dialog.dialog2Header({titleId:e.id?e.id+"-dialog-title":null,titleText:e.titleText,titleContent:e.titleContent,actionContent:e.headerActionContent,secondaryContent:e.headerSecondaryContent,modal:e.modal},i,n),aui.dialog.dialog2Panel(e,i,n),aui.dialog.dialog2Footer({hintText:e.footerHintText,hintContent:e.footerHintContent,actionContent:e.footerActionContent},i,n),t?"":i.toString()},aui.dialog.dialog2Header=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<header",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dialog2-header'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append("><h2 ",e.titleId?' id="'+soy.$$escapeHtml(e.titleId)+'"':"",' class="aui-dialog2-header-main">',e.titleText?soy.$$escapeHtml(e.titleText):"",e.titleContent?e.titleContent:"","</h2>",e.actionContent?'<div class="aui-dialog2-header-actions">'+e.actionContent+"</div>":"",e.secondaryContent?'<div class="aui-dialog2-header-secondary">'+e.secondaryContent+"</div>":"",1!=e.modal?'<a class="aui-dialog2-header-close"><span class="aui-icon aui-icon-small aui-iconfont-close-dialog">'+soy.$$escapeHtml("Close")+"</span></a>":"","</header>"),t?"":i.toString()},aui.dialog.dialog2Footer=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<footer",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dialog2-footer'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.actionContent?'<div class="aui-dialog2-footer-actions">'+e.actionContent+"</div>":"",e.hintText||e.hintContent?'<div class="aui-dialog2-footer-hint">'+(e.hintText?soy.$$escapeHtml(e.hintText):"")+(e.hintContent?e.hintContent:"")+"</div>":"","</footer>"),t?"":i.toString()},aui.dialog.dialog2Panel=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dialog2-content'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content?e.content:"","</div>"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.dropdown&&(aui.dropdown={}),aui.dropdown.trigger=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<a",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dd-trigger'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append('><span class="dropdown-text">',e.accessibilityText?soy.$$escapeHtml(e.accessibilityText):"","</span>",0!=e.showIcon?'<span class="icon icon-dropdown"></span>':"","</a>"),t?"":i.toString()},aui.dropdown.menu=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"ul"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dropdown hidden'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"ul"),">"),t?"":i.toString()},aui.dropdown.parent=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dd-parent'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},aui.dropdown.item=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"li"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="dropdown-item'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append('><a href="',soy.$$escapeHtml(e.url?e.url:"#"),'">',soy.$$escapeHtml(e.text),"</a></",soy.$$escapeHtml(e.tagName?e.tagName:"li"),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.dropdown2&&(aui.dropdown2={}),aui.dropdown2.dropdown2=function(e,t,n){var i=t||new soy.StringBuilder;return aui.dropdown2.trigger(soy.$$augmentData(e.trigger,{menu:e.menu}),i,n),aui.dropdown2.contents(e.menu,i,n),t?"":i.toString()},aui.dropdown2.trigger=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"a"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dropdown2-trigger'),aui.renderExtraClasses(e,i,n),i.append('" aria-owns="',soy.$$escapeHtml(e.menu.id),'" aria-haspopup="true"',e.title?' title="'+soy.$$escapeHtml(e.title)+'"':"",e.container?' data-container="'+soy.$$escapeHtml(e.container)+'"':"",e.tagName&&"a"!=e.tagName||e.extraAttributes&&("[object Object]"!==Object.prototype.toString.call(e.extraAttributes)||e.extraAttributes.href||e.extraAttributes.tabindex)?"":' tabindex="0"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content?e.content:"",e.text?soy.$$escapeHtml(e.text):"",0!=e.showIcon?'<span class="icon '+soy.$$escapeHtml(e.iconClasses?e.iconClasses:"aui-icon-dropdown")+'">'+(e.iconText?soy.$$escapeHtml(e.iconText):"")+"</span>":"","</",soy.$$escapeHtml(e.tagName?e.tagName:"a"),">"),t?"":i.toString()},aui.dropdown2.contents=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<div id="',soy.$$escapeHtml(e.id),'" class="aui-dropdown2'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content?e.content:"","</div>"),t?"":i.toString()},aui.dropdown2.section=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-dropdown2-section'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.label?"<strong>"+soy.$$escapeHtml(e.label)+"</strong>":"",e.content,"</div>"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.expander&&(aui.expander={}),aui.expander.content=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-expander-content'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(e.initiallyExpanded?' aria-expanded="'+soy.$$escapeHtml(e.initiallyExpanded)+'"':"",">",e.content?e.content:"","</div>"),t?"":i.toString()},aui.expander.trigger=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tag?e.tag:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",e.replaceText?' data-replace-text="'+soy.$$escapeHtml(e.replaceText)+'"':"",e.replaceSelector?' data-replace-selector="'+soy.$$escapeHtml(e.replaceSelector)+'"':"",' class="aui-expander-trigger'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(' aria-controls="',soy.$$escapeHtml(e.contentId),'"',e.collapsible?' data-collapsible="'+soy.$$escapeHtml(e.collapsible)+'"':"",">",e.content?e.content:"","</",soy.$$escapeHtml(e.tag?e.tag:"div"),">"),t?"":i.toString()},aui.expander.revealText=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder(soy.$$escapeHtml(e.contentContent));return aui.expander.trigger({id:e.triggerId,contentId:e.contentId,tag:"a",content:"<span class='reveal-text-trigger-text'>Show more</span>",replaceSelector:".reveal-text-trigger-text",replaceText:"Show less",extraAttributes:e.triggerExtraAttributes,extraClasses:(e.triggerExtraClasses?soy.$$escapeHtml(e.triggerExtraClasses)+"  ":"")+" aui-expander-reveal-text"},r,n),aui.expander.content({id:e.contentId,content:r.toString(),extraAttributes:e.contentExtraAttributes,extraClasses:e.contentExtraClasses},i,n),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.form&&(aui.form={}),aui.form.form=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<form",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui',e.isUnsectioned?" unsectioned":"",e.isLongLabels?" long-label":"",e.isTopLabels?" top-label":""),aui.renderExtraClasses(e,i,n),i.append('" action="',soy.$$escapeHtml(e.action),'" method="',soy.$$escapeHtml(e.method?e.method:"post"),'"',e.enctype?' enctype="'+soy.$$escapeHtml(e.enctype)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</form>"),t?"":i.toString()},aui.form.formDescription=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="field-group'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div>"),t?"":i.toString()},aui.form.fieldset=function(e,t,n){var i=t||new soy.StringBuilder,r=e.isInline||e.isDateSelect||e.isGroup||e.extraClasses;return i.append("<fieldset",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),r&&(i.append(' class="',soy.$$escapeHtml(e.isInline?"inline":e.isDateSelect?"date-select":e.isGroup?"group":"")),aui.renderExtraClasses(e,i,n),i.append('"')),aui.renderExtraAttributes(e,i,n),i.append("><legend><span>",e.legendContent,"</span></legend>",e.content,"</fieldset>"),t?"":i.toString()},aui.form.fieldGroup=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="field-group'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div>"),t?"":i.toString()},aui.form.buttons=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<div class="buttons-container',e.alignment?" "+soy.$$escapeHtml(e.alignment):""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append('><div class="buttons">',e.content,"</div></div>"),t?"":i.toString()},aui.form.label=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<label",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",e.forField?' for="'+soy.$$escapeHtml(e.forField)+'"':""),e.extraClasses&&(i.append(' class="'),aui.renderExtraClasses(e,i,n),i.append('"')),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,e.isRequired?'<span class="aui-icon icon-required"></span>':"","</label>"),t?"":i.toString()},aui.form.input=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<input",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="',soy.$$escapeHtml("password"==e.type?"text":"submit"==e.type?"button":e.type)),aui.renderExtraClasses(e,i,n),i.append(!e.icon||"text"!=e.type&&"password"!=e.type?"":" aui-field-has-icon ",'" type="',soy.$$escapeHtml(e.type),'" name="',soy.$$escapeHtml(e.name?e.name:e.id),'"',e.value?' value="'+soy.$$escapeHtml(e.value)+'"':"","checkbox"!=e.type&&"radio"!=e.type||!e.isChecked?"":' checked="checked"',"text"==e.type&&e.maxLength?' maxlength="'+soy.$$escapeHtml(e.maxLength)+'"':"","text"==e.type&&e.size?' size="'+soy.$$escapeHtml(e.size)+'"':"","text"!=e.type&&"password"!=e.type||!e.autocomplete?"":' autocomplete="'+soy.$$escapeHtml(e.autocomplete)+'"',e.isDisabled?" disabled":"",e.isAutofocus?" autofocus":""),aui.renderExtraAttributes(e,i,n),aui.form.renderValidationArguments(e,i,n),aui.form.renderTooltipArguments(e,i,n),i.append("/>"),!e.icon||"text"!=e.type&&"password"!=e.type||aui.icons.icon({icon:e.icon,useIconFont:!0,size:"small"},i,n),t?"":i.toString()},aui.form.renderValidationArguments=function(e,t){var n=t||new soy.StringBuilder;if(e.validationArguments){for(var i=soy.$$getMapKeys(e.validationArguments),r=i.length,o=0;r>o;o++){var a=i[o];n.append(" ",soy.$$escapeHtml("data-aui-validate-"+a),'="',soy.$$escapeHtml(e.validationArguments[a]),'"')}n.append(" data-aui-field")}return t?"":n.toString()},aui.form.renderTooltipArguments=function(e,t){var n=t||new soy.StringBuilder;if(e.tooltipArguments)for(var i=soy.$$getMapKeys(e.tooltipArguments),r=i.length,o=0;r>o;o++){var a=i[o];n.append(" ",soy.$$escapeHtml("data-aui-form-notification-"+a),'="',soy.$$escapeHtml(e.tooltipArguments[a]),'"')}return t?"":n.toString()},aui.form.submit=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder(e.name?'name="'+soy.$$escapeHtml(e.name)+'"':"");return aui.renderExtraAttributes(e,r,n),aui.buttons.button({id:e.id,tagName:"input",inputType:"submit",text:e.text,type:e.type,href:e.href,isDisabled:e.isDisabled,isPressed:e.isPressed,iconType:e.iconType,iconText:e.iconText,iconClass:e.iconClass,dropdown2Target:e.dropdown2Target,splitButtonType:e.splitButtonType,extraClasses:e.extraClasses,extraAttributes:r.toString()},i,n),t?"":i.toString()},aui.form.button=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder(e.name?'name="'+soy.$$escapeHtml(e.name)+'"':"");return aui.renderExtraAttributes(e,r,n),aui.buttons.button({id:e.id,tagName:e.tagName,inputType:e.inputType,text:e.text,type:e.type,href:e.href,isDisabled:e.isDisabled,isPressed:e.isPressed,iconType:e.iconType,iconText:e.iconText,iconClass:e.iconClass,dropdown2Target:e.dropdown2Target,splitButtonType:e.splitButtonType,extraClasses:e.extraClasses,extraAttributes:r.toString()},i,n),t?"":i.toString()},aui.form.linkButton=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder("cancel");aui.renderExtraClasses(e,r,n);var o=new soy.StringBuilder(e.name?'name="'+soy.$$escapeHtml(e.name)+'"':"");return aui.renderExtraAttributes(e,o,n),aui.buttons.button({id:e.id,tagName:"a",inputType:e.inputType,text:e.text,type:"link",href:e.href?e.href:e.url,isDisabled:e.isDisabled,isPressed:e.isPressed,iconType:e.iconType,iconText:e.iconText,iconClass:e.iconClass,dropdown2Target:e.dropdown2Target,splitButtonType:e.splitButtonType,extraClasses:r.toString(),extraAttributes:o.toString()},i,n),t?"":i.toString()
},aui.form.textarea=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<textarea",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' name="',soy.$$escapeHtml(e.name?e.name:e.id),'" class="textarea'),aui.renderExtraClasses(e,i,n),i.append(" ",e.icon?"aui-field-has-icon":"",'"',e.rows?' rows="'+soy.$$escapeHtml(e.rows)+'"':"",e.cols?' cols="'+soy.$$escapeHtml(e.cols)+'"':"",e.autocomplete?' autocomplete="'+soy.$$escapeHtml(e.autocomplete)+'"':"",e.isDisabled?" disabled":"",e.isAutofocus?" autofocus":""),aui.renderExtraAttributes(e,i,n),aui.form.renderValidationArguments(e,i,n),aui.form.renderTooltipArguments(e,i,n),i.append(">",e.value?soy.$$escapeHtml(e.value):"","</textarea>"),e.icon&&aui.icons.icon({icon:e.icon,useIconFont:!0,size:"small"},i,n),t?"":i.toString()},aui.form.select=function(e,t,n){var i=t||new soy.StringBuilder;i.append("<select",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' name="',soy.$$escapeHtml(e.name?e.name:e.id),'" class="',soy.$$escapeHtml(e.isMultiple?"multi-select":"select")),aui.renderExtraClasses(e,i,n),i.append('"',e.size?' size="'+soy.$$escapeHtml(e.size)+'"':"",e.isDisabled?" disabled":"",e.isAutofocus?" autofocus":"",e.isMultiple?" multiple":""),aui.renderExtraAttributes(e,i,n),aui.form.renderValidationArguments(e,i,n),aui.form.renderTooltipArguments(e,i,n),i.append(">");for(var r=e.options,o=r.length,a=0;o>a;a++){var s=r[a];aui.form.optionOrOptgroup(soy.$$augmentData(s,{defaultValue:e.value}),i,n)}return i.append("</select>"),t?"":i.toString()},aui.form.optionOrOptgroup=function(e,t,n){var i=t||new soy.StringBuilder;if(e.options){i.append('<optgroup label="',soy.$$escapeHtml(e.text),'"',e.disabled?" disabled":"",">");for(var r=e.options,o=r.length,a=0;o>a;a++){var s=r[a];aui.form.optionOrOptgroup(soy.$$augmentData(s,{defaultValue:e.defaultValue}),i,n)}i.append("</optgroup>")}else i.append('<option value="',soy.$$escapeHtml(e.value),'"',e.selected||e.defaultValue==e.value?" selected":"",e.disabled?" disabled":"",">",soy.$$escapeHtml(e.text),"</option>");return t?"":i.toString()},aui.form.value=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<span",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="field-value'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</span>"),t?"":i.toString()},aui.form.field=function(e,t,n){var i=t||new soy.StringBuilder,r="checkbox"==e.type||"radio"==e.type,o=e.fieldWidth?e.fieldWidth+"-field":"";switch(i.append('<div class="',r?soy.$$escapeHtml(e.type):"field-group"),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">"),e.labelContent&&!r&&aui.form.label({forField:e.id,isRequired:e.isRequired,content:e.labelContent},i,n),e.type){case"textarea":aui.form.textarea({id:e.id,name:e.name,value:e.value,rows:e.rows,cols:e.cols,autocomplete:e.autocomplete,isDisabled:e.isDisabled?!0:!1,isAutofocus:e.isAutofocus,extraClasses:o,icon:e.icon,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n);break;case"select":aui.form.select({id:e.id,name:e.name,value:e.value,options:e.options,isMultiple:e.isMultiple,size:e.size,isDisabled:e.isDisabled?!0:!1,isAutofocus:e.isAutofocus,extraClasses:o,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n);break;case"value":aui.form.value({id:e.id,content:soy.$$escapeHtml(e.value)},i,n);break;case"text":case"password":case"file":case"radio":case"checkbox":case"button":case"submit":case"reset":aui.form.input({id:e.id,name:e.name,type:e.type,value:e.value,maxLength:e.maxLength,size:e.size,autocomplete:e.autocomplete,isChecked:e.isChecked,isDisabled:e.isDisabled?!0:!1,isAutofocus:e.isAutofocus,extraClasses:o,icon:e.icon,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n)}if(e.labelContent&&r&&aui.form.label({forField:e.id,isRequired:e.isRequired,content:e.labelContent},i,n),(e.descriptionText||e.descriptionContent)&&aui.form.fieldDescription({text:e.descriptionText,content:e.descriptionContent},i,n),e.errorTexts)for(var a=e.errorTexts,s=a.length,u=0;s>u;u++){var l=a[u];aui.form.fieldError({message:l},i,n)}return i.append("</div>"),t?"":i.toString()},aui.form.fieldError=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<div class="error'),aui.renderExtraClasses(e,i,n),i.append('">',soy.$$escapeHtml(e.message),"</div>"),t?"":i.toString()},aui.form.fieldDescription=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<div class="description'),aui.renderExtraClasses(e,i,n),i.append('">',e.text?soy.$$escapeHtml(e.text):e.message?soy.$$escapeHtml(e.message):e.content,"</div>"),t?"":i.toString()},aui.form.textField=function(e,t,n){var i=t||new soy.StringBuilder;return aui.form.field({id:e.id,name:e.name,type:"text",labelContent:e.labelContent,value:e.value,maxLength:e.maxLength,size:e.size,autocomplete:e.autocomplete,isRequired:e.isRequired,isDisabled:e.isDisabled,isAutofocus:e.isAutofocus,descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,fieldWidth:e.fieldWidth,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n),t?"":i.toString()},aui.form.textareaField=function(e,t,n){var i=t||new soy.StringBuilder;return aui.form.field({id:e.id,name:e.name,type:"textarea",labelContent:e.labelContent,value:e.value,rows:e.rows,cols:e.cols,autocomplete:e.autocomplete,isRequired:e.isRequired,isDisabled:e.isDisabled,isAutofocus:e.isAutofocus,descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,fieldWidth:e.fieldWidth,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n),t?"":i.toString()},aui.form.passwordField=function(e,t,n){var i=t||new soy.StringBuilder;return aui.form.field({id:e.id,name:e.name,type:"password",labelContent:e.labelContent,value:e.value,autocomplete:e.autocomplete,isRequired:e.isRequired,isDisabled:e.isDisabled,isAutofocus:e.isAutofocus,descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,fieldWidth:e.fieldWidth,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n),t?"":i.toString()},aui.form.fileField=function(e,t,n){var i=t||new soy.StringBuilder;return aui.form.field({id:e.id,name:e.name,type:"file",labelContent:e.labelContent,value:e.value,isRequired:e.isRequired,isDisabled:e.isDisabled,isAutofocus:e.isAutofocus,descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n),t?"":i.toString()},aui.form.selectField=function(e,t,n){var i=t||new soy.StringBuilder;return aui.form.field({id:e.id,name:e.name,type:"select",value:e.value,labelContent:e.labelContent,options:e.options,isMultiple:e.isMultiple,size:e.size,isRequired:e.isRequired,isDisabled:e.isDisabled,isAutofocus:e.isAutofocus,descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,fieldWidth:e.fieldWidth,validationArguments:e.validationArguments,tooltipArguments:e.tooltipArguments},i,n),t?"":i.toString()},aui.form.checkboxField=function(e,t,n){for(var i=t||new soy.StringBuilder,r=new soy.StringBuilder(e.isMatrix?'<div class="matrix">':""),o=e.fields,a=o.length,s=0;a>s;s++){var u=o[s];aui.form.field(soy.$$augmentData(u,{type:"checkbox",labelContent:soy.$$escapeHtml(u.labelText)}),r,n)}return r.append(e.isMatrix?"</div>":""),(e.descriptionText||e.descriptionContent||e.errorTexts&&e.errorTexts.length)&&aui.form.field({descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,isDisabled:!1},r,n),aui.form.fieldset({legendContent:e.legendContent+(e.isRequired?'<span class="aui-icon icon-required"></span>':""),isGroup:!0,id:e.id,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,content:r.toString()},i,n),t?"":i.toString()},aui.form.radioField=function(e,t,n){for(var i=t||new soy.StringBuilder,r=new soy.StringBuilder(e.isMatrix?'<div class="matrix">':""),o=e.fields,a=o.length,s=0;a>s;s++){var u=o[s];aui.form.field(soy.$$augmentData(u,{type:"radio",name:e.name?e.name:e.id,labelContent:soy.$$escapeHtml(u.labelText)}),r,n)}return r.append(e.isMatrix?"</div>":""),(e.descriptionText||e.descriptionContent||e.errorTexts&&e.errorTexts.length)&&aui.form.field({descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,isDisabled:!1},r,n),aui.form.fieldset({legendContent:e.legendContent+(e.isRequired?'<span class="aui-icon icon-required"></span>':""),isGroup:!0,id:e.id,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,content:r.toString()},i,n),t?"":i.toString()},aui.form.valueField=function(e,t,n){var i=t||new soy.StringBuilder;return aui.form.field({id:e.id,type:"value",value:e.value,labelContent:e.labelContent,isRequired:e.isRequired,descriptionText:e.descriptionText,descriptionContent:e.descriptionContent,errorTexts:e.errorTexts,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes},i,n),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.group&&(aui.group={}),aui.group.group=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-group',e.isSplit?" aui-group-split":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},aui.group.item=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-item'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.icons&&(aui.icons={}),aui.icons.icon=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"span"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-icon',e.useIconFont?" aui-icon-"+soy.$$escapeHtml(e.size?e.size:"small"):""," aui",soy.$$escapeHtml(e.useIconFont?"-iconfont":"-icon"),soy.$$escapeHtml(e.iconFontSet?"-"+e.iconFontSet:""),"-",soy.$$escapeHtml(e.icon)),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.accessibilityText?soy.$$escapeHtml(e.accessibilityText):"","</",soy.$$escapeHtml(e.tagName?e.tagName:"span"),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.lozenges&&(aui.lozenges={}),aui.lozenges.lozenge=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"span"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",e.title?' title="'+soy.$$escapeHtml(e.title)+'"':"",' class="aui-lozenge',soy.$$escapeHtml(e.type?" aui-lozenge-"+e.type:""),soy.$$escapeHtml(e.isSubtle?" aui-lozenge-subtle":"")),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.maxLength?soy.$$truncate(soy.$$escapeHtml(e.text),e.maxLength,!0):soy.$$escapeHtml(e.text),"</",soy.$$escapeHtml(e.tagName?e.tagName:"span"),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.labels&&(aui.labels={}),aui.labels.label=function(e,t,n){var i=t||new soy.StringBuilder;return e.url&&1==e.isCloseable?(i.append("<span",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-label aui-label-closeable aui-label-split'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append('><a class="aui-label-split-main" href="',soy.$$escapeHtml(e.url),'">',soy.$$escapeHtml(e.text),'</a><span class="aui-label-split-close" >'),aui.labels.closeIcon(e,i,n),i.append("</span></span>")):(i.append("<",soy.$$escapeHtml(e.url?"a":"span"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-label',e.isCloseable?" aui-label-closeable":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(e.url?' href="'+soy.$$escapeHtml(e.url)+'"':"",">",soy.$$escapeHtml(e.text)),e.isCloseable&&aui.labels.closeIcon(e,i,n),i.append("</",soy.$$escapeHtml(e.url?"a":"span"),">")),t?"":i.toString()},aui.labels.closeIcon=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<span tabindex="0" class="aui-icon aui-icon-close"'),0!=e.hasTitle&&(i.append(' title="'),aui.labels.closeIconText(e,i,n),i.append('"')),i.append(">"),aui.labels.closeIconText(e,i,n),i.append("</span>"),t?"":i.toString()},aui.labels.closeIconText=function(e,t){var n=t||new soy.StringBuilder;return n.append(e.closeIconText?soy.$$escapeHtml(e.closeIconText):"("+soy.$$escapeHtml("Remove")+" "+soy.$$escapeHtml(e.text)+")"),t?"":n.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.message&&(aui.message={}),aui.message.info=function(e,t,n){var i=t||new soy.StringBuilder;return aui.message.message(soy.$$augmentData(e,{type:"info"}),i,n),t?"":i.toString()},aui.message.warning=function(e,t,n){var i=t||new soy.StringBuilder;return aui.message.message(soy.$$augmentData(e,{type:"warning"}),i,n),t?"":i.toString()},aui.message.error=function(e,t,n){var i=t||new soy.StringBuilder;return aui.message.message(soy.$$augmentData(e,{type:"error"}),i,n),t?"":i.toString()},aui.message.success=function(e,t,n){var i=t||new soy.StringBuilder;return aui.message.message(soy.$$augmentData(e,{type:"success"}),i,n),t?"":i.toString()},aui.message.hint=function(e,t,n){var i=t||new soy.StringBuilder;return aui.message.message(soy.$$augmentData(e,{type:"hint"}),i,n),t?"":i.toString()},aui.message.generic=function(e,t,n){var i=t||new soy.StringBuilder;return aui.message.message(soy.$$augmentData(e,{type:"generic"}),i,n),t?"":i.toString()},aui.message.message=function(e,t,n){var i=t||new soy.StringBuilder,r=e.tagName?e.tagName:"div",o=e.type?e.type:"generic";return i.append("<",soy.$$escapeHtml(r),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-message aui-message-',soy.$$escapeHtml(o)," ",soy.$$escapeHtml(o),e.isCloseable?" closeable":"",e.isShadowed?" shadowed":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.titleContent?'<p class="title"><strong>'+e.titleContent+"</strong></p>":"",e.content,e.isCloseable?'<span class="aui-icon icon-close" role="button" tabindex="0"></span>':"","</",soy.$$escapeHtml(r),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.page&&(aui.page={}),aui.page.document=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<!DOCTYPE html><html lang="',soy.$$escapeHtml(n.language?n.language:"en"),'"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><title>',soy.$$escapeHtml(e.windowTitle),"</title>",e.headContent?e.headContent:"","</head><body"),e.pageType?"generic"==e.pageType?e.extraClasses&&(i.append(' class="'),aui.renderExtraClasses(e,i,n),i.append('"')):"focused"==e.pageType?(i.append(' class="aui-page-focused aui-page-focused-',soy.$$escapeHtml(e.focusedPageSize?e.focusedPageSize:"xlarge")),aui.renderExtraClasses(e,i,n),i.append('"')):"sidebar"==e.pageType?(i.append(' class="aui-page-sidebar',soy.$$escapeHtml(e.sidebarState?" aui-sidebar-"+e.sidebarState:"")),aui.renderExtraClasses(e,i,n),i.append('"')):(i.append(' class="aui-page-',soy.$$escapeHtml(e.pageType)),aui.renderExtraClasses(e,i,n),i.append('"')):(i.append(' class="'),aui.renderExtraClasses(e,i,n),i.append('"')),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</body></html>"),t?"":i.toString()},aui.page.page=function(e,t){var n=t||new soy.StringBuilder;return n.append('<div id="page"><header id="header" role="banner">',e.headerContent,'</header><!-- #header --><section id="content" role="main">',e.contentContent,'</section><!-- #content --><footer id="footer" role="contentinfo">',e.footerContent,"</footer><!-- #footer --></div><!-- #page -->"),t?"":n.toString()},aui.page.header=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<nav",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-header aui-dropdown2-trigger-group'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(' role="navigation"><div class="aui-header-inner">',e.headerBeforeContent?'<div class="aui-header-before">'+e.headerBeforeContent+"</div>":"",'<div class="aui-header-primary"><h1 id="logo" class="aui-header-logo',e.headerLogoImageUrl?" aui-header-logo-custom":e.logo?" aui-header-logo-"+soy.$$escapeHtml(e.logo):"",'"><a href="',soy.$$escapeHtml(e.headerLink?e.headerLink:"/"),'">',e.headerLogoImageUrl?'<img src="'+soy.$$escapeHtml(e.headerLogoImageUrl)+'" alt="'+soy.$$escapeHtml(e.headerLogoText)+'" />':'<span class="aui-header-logo-device">'+soy.$$escapeHtml(e.headerLogoText?e.headerLogoText:"")+"</span>",e.headerText?'<span class="aui-header-logo-text">'+soy.$$escapeHtml(e.headerText)+"</span>":"","</a></h1>",e.primaryNavContent?e.primaryNavContent:"","</div>",e.secondaryNavContent?'<div class="aui-header-secondary">'+e.secondaryNavContent+"</div>":"",e.headerAfterContent?'<div class="aui-header-after">'+e.headerAfterContent+"</div>":"","</div><!-- .aui-header-inner--></nav><!-- .aui-header -->"),t?"":i.toString()},aui.page.pagePanel=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),' class="aui-page-panel'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append('><div class="aui-page-panel-inner">',e.content,"</div><!-- .aui-page-panel-inner --></",soy.$$escapeHtml(e.tagName?e.tagName:"div"),"><!-- .aui-page-panel -->"),t?"":i.toString()},aui.page.pagePanelNav=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),' class="aui-page-panel-nav'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),"><!-- .aui-page-panel-nav -->"),t?"":i.toString()},aui.page.pagePanelContent=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"section"),' class="aui-page-panel-content'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"section"),"><!-- .aui-page-panel-content -->"),t?"":i.toString()},aui.page.pagePanelSidebar=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"aside"),' class="aui-page-panel-sidebar'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"aside"),"><!-- .aui-page-panel-sidebar -->"),t?"":i.toString()},aui.page.pagePanelItem=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"section"),' class="aui-page-panel-item'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"section"),"><!-- .aui-page-panel-item -->"),t?"":i.toString()},aui.page.pageHeader=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<header class="aui-page-header'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append('><div class="aui-page-header-inner">',e.content,"</div><!-- .aui-page-header-inner --></header><!-- .aui-page-header -->"),t?"":i.toString()},aui.page.pageHeaderImage=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<div class="aui-page-header-image'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div><!-- .aui-page-header-image -->"),t?"":i.toString()},aui.page.pageHeaderMain=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<div class="aui-page-header-main'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div><!-- .aui-page-header-main -->"),t?"":i.toString()},aui.page.pageHeaderActions=function(e,t,n){var i=t||new soy.StringBuilder;return i.append('<div class="aui-page-header-actions'),aui.renderExtraClasses(e,i,n),i.append('"',e.id?' id="'+soy.$$escapeHtml(e.id)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div><!-- .aui-page-header-actions -->"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if(aui.panel=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-panel'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.progressTracker&&(aui.progressTracker={}),aui.progressTracker.progressTracker=function(e,t,n){var i=t||new soy.StringBuilder;i.append("<ol",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-progress-tracker',e.isInverted?" aui-progress-tracker-inverted":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">");for(var r=new soy.StringBuilder,o=e.steps,a=o.length,s=0;a>s;s++){var u=o[s];if(u.isCurrent)for(var l=e.steps,c=l.length,d=0;c>d;d++){var p=l[d];aui.progressTracker.step(soy.$$augmentData(p,{width:Math.round(100/e.steps.length*1e4)/1e4,href:s>d?p.href:null}),r,n)}}return aui.progressTracker.content({steps:e.steps,content:r.toString()},i,n),i.append("</ol>"),t?"":i.toString()},aui.progressTracker.content=function(e,t,n){var i=t||new soy.StringBuilder;if(""!=e.content)i.append(e.content);else for(var r=e.steps,o=r.length,a=0;o>a;a++){var s=r[a];aui.progressTracker.step(soy.$$augmentData(s,{isCurrent:0==a,width:Math.round(100/e.steps.length*1e4)/1e4,href:null}),i,n)}return t?"":i.toString()},aui.progressTracker.step=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<li",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-progress-tracker-step',e.isCurrent?" aui-progress-tracker-step-current":""),aui.renderExtraClasses(e,i,n),i.append('" style="width: ',soy.$$escapeHtml(e.width),'%;"'),aui.renderExtraAttributes(e,i,n),i.append("><",soy.$$escapeHtml(e.href?"a":"span"),e.href?' href="'+soy.$$escapeHtml(e.href)+'"':"",">",soy.$$escapeHtml(e.text),"</",soy.$$escapeHtml(e.href?"a":"span"),"></li>"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if(aui.table=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<table",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.columnsContent?e.columnsContent:"",e.captionContent?"<caption>"+e.captionContent+"</caption>":"",e.theadContent?"<thead>"+e.theadContent+"</thead>":"",e.tfootContent?"<tfoot>"+e.tfootContent+"</tfoot>":"",e.contentIncludesTbody?"":"<tbody>",e.content,e.contentIncludesTbody?"":"</tbody>","</table>"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if(aui.tabs=function(e,t,n){var i=t||new soy.StringBuilder;i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-tabs ',soy.$$escapeHtml(e.isVertical?"vertical-tabs":"horizontal-tabs"),e.isDisabled?" aui-tabs-disabled":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append('><ul class="tabs-menu">');for(var r=e.menuItems,o=r.length,a=0;o>a;a++){var s=r[a];aui.tabMenuItem(s,i,n)}return i.append("</ul>",e.paneContent,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},aui.tabMenuItem=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<li",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="menu-item',e.isActive?" active-tab":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append('><a href="',soy.$$escapeHtml(e.url),'"><strong>',soy.$$escapeHtml(e.text),"</strong></a></li>"),t?"":i.toString()},aui.tabPane=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="tabs-pane',e.isActive?" active-pane":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.toolbar&&(aui.toolbar={}),aui.toolbar.toolbar=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-toolbar'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},aui.toolbar.split=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"div"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="toolbar-split toolbar-split-',soy.$$escapeHtml(e.split)),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</",soy.$$escapeHtml(e.tagName?e.tagName:"div"),">"),t?"":i.toString()},aui.toolbar.group=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<ul",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="toolbar-group'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</ul>"),t?"":i.toString()},aui.toolbar.item=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<li ",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="toolbar-item',e.isPrimary?" primary":"",e.isActive?" active":""),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</li>"),t?"":i.toString()},aui.toolbar.trigger=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<a",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="toolbar-trigger'),aui.renderExtraClasses(e,i,n),i.append('" href="',soy.$$escapeHtml(e.url?e.url:"#"),'"',e.title?' title="'+soy.$$escapeHtml(e.title)+'"':""),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</a>"),t?"":i.toString()},aui.toolbar.button=function(e,t,n){var i=t||new soy.StringBuilder;if(null==e)i.append("Either $text or both $title and $iconClass must be provided.");else{var r=new soy.StringBuilder;aui.toolbar.trigger({url:e.url,title:e.title,content:(e.iconClass?'<span class="icon '+soy.$$escapeHtml(e.iconClass)+'"></span>':"")+(e.text?'<span class="trigger-text">'+soy.$$escapeHtml(e.text)+"</span>":"")},r,n),aui.toolbar.item({isActive:e.isActive,isPrimary:e.isPrimary,id:e.id,extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,content:r.toString()},i,n)}return t?"":i.toString()},aui.toolbar.link=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder("toolbar-item-link");aui.renderExtraClasses(e,r,n);var o=new soy.StringBuilder;return aui.toolbar.trigger({url:e.url,content:soy.$$escapeHtml(e.text)},o,n),aui.toolbar.item({id:e.id,extraClasses:r.toString(),extraAttributes:e.extraAttributes,content:o.toString()},i,n),t?"":i.toString()},aui.toolbar.dropdownInternal=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder(e.itemClass);aui.renderExtraClasses(e,r,n);var o=new soy.StringBuilder(e.splitButtonContent?e.splitButtonContent:""),a=new soy.StringBuilder;return aui.dropdown.trigger({extraClasses:"toolbar-trigger",accessibilityText:e.text},a,n),aui.dropdown.menu({content:e.dropdownItemsContent},a,n),aui.dropdown.parent({content:a.toString()},o,n),aui.toolbar.item({isPrimary:e.isPrimary,id:e.id,extraClasses:r.toString(),extraAttributes:e.extraAttributes,content:o.toString()},i,n),t?"":i.toString()},aui.toolbar.dropdown=function(e,t,n){var i=t||new soy.StringBuilder;return aui.toolbar.dropdownInternal({isPrimary:e.isPrimary,id:e.id,itemClass:"toolbar-dropdown",extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,text:e.text,dropdownItemsContent:e.dropdownItemsContent},i,n),t?"":i.toString()},aui.toolbar.splitButton=function(e,t,n){var i=t||new soy.StringBuilder,r=new soy.StringBuilder;return aui.toolbar.trigger({url:e.url,content:soy.$$escapeHtml(e.text)},r,n),aui.toolbar.dropdownInternal({isPrimary:e.isPrimary,id:e.id,itemClass:"toolbar-splitbutton",extraClasses:e.extraClasses,extraAttributes:e.extraAttributes,dropdownItemsContent:e.dropdownItemsContent,splitButtonContent:r.toString()},i,n),t?"":i.toString()},"undefined"==typeof aui)var aui={};if("undefined"==typeof aui.toolbar2&&(aui.toolbar2={}),aui.toolbar2.toolbar2=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-toolbar2'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(' role="toolbar"><div class="aui-toolbar2-inner">',e.content,"</div></div>"),t?"":i.toString()},aui.toolbar2.item=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-toolbar2-',soy.$$escapeHtml(e.item)),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div>"),t?"":i.toString()},aui.toolbar2.group=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<div",e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-toolbar2-group'),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append(">",e.content,"</div>"),t?"":i.toString()},"undefined"==typeof aui)var aui={};"undefined"==typeof aui.avatar&&(aui.avatar={}),aui.avatar.avatar=function(e,t,n){var i=t||new soy.StringBuilder;return i.append("<",soy.$$escapeHtml(e.tagName?e.tagName:"span"),e.id?' id="'+soy.$$escapeHtml(e.id)+'"':"",' class="aui-avatar aui-avatar-',soy.$$escapeHtml(e.size),soy.$$escapeHtml(e.isProject?" aui-avatar-project":""),soy.$$escapeHtml(e.badgeContent?" aui-avatar-badged":"")),aui.renderExtraClasses(e,i,n),i.append('"'),aui.renderExtraAttributes(e,i,n),i.append('><span class="aui-avatar-inner"><img src="',soy.$$escapeHtml(e.avatarImageUrl),'"',e.accessibilityText?' alt="'+soy.$$escapeHtml(e.accessibilityText)+'"':"",e.title?' title="'+soy.$$escapeHtml(e.title)+'"':"",e.imageClasses?' class="'+soy.$$escapeHtml(e.imageClasses)+'"':""," /></span>",e.badgeContent?e.badgeContent:"","</",soy.$$escapeHtml(e.tagName?e.tagName:"span"),">"),t?"":i.toString()},define("aui-soy",function(){}),function(root){define("aui-stable",["jquery","aui-soy"],function(){return function(){jQuery.os={};var jQueryOSplatform=navigator.platform.toLowerCase();return jQuery.os.windows=-1!=jQueryOSplatform.indexOf("win"),jQuery.os.mac=-1!=jQueryOSplatform.indexOf("mac"),jQuery.os.linux=-1!=jQueryOSplatform.indexOf("linux"),jQuery.fn.moveTo=function(e){var t,n={transition:!1,scrollOffset:35},i=jQuery.extend(n,e),r=this,o=r.offset().top;if((jQuery(window).scrollTop()+jQuery(window).height()-this.outerHeight()<o||jQuery(window).scrollTop()+i.scrollOffset>o)&&jQuery(window).height()>i.scrollOffset){if(t=jQuery(window).scrollTop()+i.scrollOffset>o?o-(jQuery(window).height()-this.outerHeight())+i.scrollOffset:o-i.scrollOffset,!jQuery.fn.moveTo.animating&&i.transition)return jQuery(document).trigger("moveToStarted",this),jQuery.fn.moveTo.animating=!0,jQuery("html,body").animate({scrollTop:t},1e3,function(){jQuery(document).trigger("moveToFinished",r),delete jQuery.fn.moveTo.animating
}),this;var a=jQuery("html, body");return a.is(":animated")&&(a.stop(),delete jQuery.fn.moveTo.animating),jQuery(document).trigger("moveToStarted"),jQuery(window).scrollTop(t),setTimeout(function(){jQuery(document).trigger("moveToFinished",r)},100),this}return jQuery(document).trigger("moveToFinished",this),this},function(){function e(e,t){t=t||{};var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n}window.CustomEvent||(e.prototype=window.Event.prototype,window.CustomEvent=e)}(),function(){if(!window.jQuery&&!window.Zepto)throw new Error("either jQuery or Zepto is required for AJS to function.");"undefined"==typeof window.console?window.console={messages:[],log:function(e){this.messages.push(e)},show:function(){alert(this.messages.join("\n")),this.messages=[]}}:console.show=function(){},window.AJS=function(){function e(e){var t={"<":"&lt;",">":"&gt;","&":"&amp;","'":"&#39;","`":"&#96;"};return"string"==typeof t[e]?t[e]:"&quot;"}var t,n,i=[],r=0,o=/[&"'<>`]/g,a={version:"5.6.11",params:{},$:window.jQuery||window.Zepto,log:function(){return"undefined"!=typeof console&&console.log?Function.prototype.bind?Function.prototype.bind.call(console.log,console):function(){Function.prototype.apply.call(console.log,console,arguments)}:function(){}}(),warn:function(){"undefined"!=typeof console&&console.warn&&Function.prototype.apply.apply(console.warn,[console,arguments])},error:function(){"undefined"!=typeof console&&console.error&&Function.prototype.apply.apply(console.error,[console,arguments])},preventDefault:function(e){e.preventDefault()},stopEvent:function(e){return e.stopPropagation(),!1},include:function(e){if(!this.contains(i,e)){i.push(e);var t=document.createElement("script");t.src=e,this.$("body").append(t)}},toggleClassName:function(e,t){(e=this.$(e))&&e.toggleClass(t)},setVisible:function(e,t){if(e=this.$(e)){var n=this.$;n(e).each(function(){var e=n(this).hasClass("hidden");e&&t?n(this).removeClass("hidden"):e||t||n(this).addClass("hidden")})}},setCurrent:function(e,t){(e=this.$(e))&&(t?e.addClass("current"):e.removeClass("current"))},isVisible:function(e){return!this.$(e).hasClass("hidden")},isClipped:function(e){return e=AJS.$(e),e.prop("scrollWidth")>e.prop("clientWidth")},populateParameters:function(e){e||(e=this.params);var t=this;this.$(".parameters input").each(function(){var n=this.value,i=this.title||this.id;t.$(this).hasClass("list")?e[i]?e[i].push(n):e[i]=[n]:e[i]=n.match(/^(tru|fals)e$/i)?"true"===n.toLowerCase():n})},toInit:function(e){var t=this;return this.$(function(){try{e.apply(this,arguments)}catch(n){t.log("Failed to run init function: "+n+"\n"+e.toString())}}),this},indexOf:function(e,t,n){var i=e.length;n?0>n&&(n=Math.max(0,i+n)):n=0;for(var r=n;i>r;r++)if(e[r]===t)return r;return-1},contains:function(e,t){return this.indexOf(e,t)>-1},firebug:function(){AJS.log("DEPRECATED: AJS.firebug should no longer be used.");var e=this.$(document.createElement("script"));e.attr("src","https://getfirebug.com/releases/lite/1.2/firebug-lite-compressed.js"),this.$("head").append(e),function(){window.firebug?firebug.init():setTimeout(AJS.firebug,0)}()},clone:function(e){return AJS.$(e).clone().removeAttr("id")},alphanum:function(e,t){e=(e+"").toLowerCase(),t=(t+"").toLowerCase();for(var n=/(\d+|\D+)/g,i=e.match(n),r=t.match(n),o=Math.max(i.length,r.length),a=0;o>a;a++){if(a===i.length)return-1;if(a===r.length)return 1;var s=parseInt(i[a],10)+"",u=parseInt(r[a],10)+"";if(s===i[a]&&u===r[a]&&s!==u)return(s-u)/Math.abs(s-u);if((s!==i[a]||u!==r[a])&&i[a]!==r[a])return i[a]<r[a]?-1:1}return 0},onTextResize:function(e){if("function"==typeof e)if(AJS.onTextResize["on-text-resize"])AJS.onTextResize["on-text-resize"].push(function(t){e(t)});else{var t=AJS("div");t.css({width:"1em",height:"1em",position:"absolute",top:"-9999em",left:"-9999em"}),this.$("body").append(t),t.size=t.width(),setInterval(function(){if(t.size!==t.width()){t.size=t.width();for(var e=0,n=AJS.onTextResize["on-text-resize"].length;n>e;e++)AJS.onTextResize["on-text-resize"][e](t.size)}},0),AJS.onTextResize.em=t,AJS.onTextResize["on-text-resize"]=[function(t){e(t)}]}},unbindTextResize:function(e){for(var t=0,n=AJS.onTextResize["on-text-resize"].length;n>t;t++)if(AJS.onTextResize["on-text-resize"][t]===e)return AJS.onTextResize["on-text-resize"].splice(t,1)},escape:function(e){return escape(e).replace(/%u\w{4}/gi,function(e){return unescape(e)})},escapeHtml:function(t){return t.replace(o,e)},filterBySearch:function(e,t,n){if(!t)return[];var i=(this.$,n&&n.keywordsField||"keywords"),r=n&&n.ignoreForCamelCase?"i":"",o=n&&n.matchBoundary?"\\b":"",a=n&&n.splitRegex||/\s+/,s=t.split(a),u=[];s.forEach(function(e){var t=[new RegExp(o+e,"i")];if(/^([A-Z][a-z]*) {2,}$/.test(this)){var n=this.replace(/([A-Z][a-z]*)/g,"\\b$1[^,]*");t.push(new RegExp(n,r))}u.push(t)});var l=[];return e.forEach(function(e){for(var t=0;t<u.length;t++){for(var n=!1,r=0;r<u[t].length;r++)if(u[t][r].test(e[i])){n=!0;break}if(!n)return}l.push(e)}),l},drawLogo:function(e){AJS.log("DEPRECATED: AJS.drawLogo should no longer be used.");var t=e.scaleFactor||1,n=e.fill||"#fff",i=e.stroke||"#000",r=400*t,o=40*t,a=e.strokeWidth||1,s=e.containerID||".aui-logo";AJS.$(".aui-logo").length||AJS.$("body").append('<div id="aui-logo" class="aui-logo"><div>');var u=Raphael(s,r+50*t,o+100*t),l=u.path("M 0,0 c 3.5433333,-4.7243333 7.0866667,-9.4486667 10.63,-14.173 -14.173,0 -28.346,0 -42.519,0 C -35.432667,-9.4486667 -38.976333,-4.7243333 -42.52,0 -28.346667,0 -14.173333,0 0,0 z m 277.031,28.346 c -14.17367,0 -28.34733,0 -42.521,0 C 245.14,14.173 255.77,0 266.4,-14.173 c -14.17267,0 -28.34533,0 -42.518,0 C 213.25167,0 202.62133,14.173 191.991,28.346 c -14.17333,0 -28.34667,0 -42.52,0 14.17333,-18.8976667 28.34667,-37.7953333 42.52,-56.693 -7.08667,-9.448667 -14.17333,-18.897333 -21.26,-28.346 -14.173,0 -28.346,0 -42.519,0 7.08667,9.448667 14.17333,18.897333 21.26,28.346 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 -14.173333,0 -28.346667,0 -42.52,0 10.63,-14.173 21.26,-28.346 31.89,-42.519 -14.390333,0 -28.780667,0 -43.171,0 C 42.520733,1.330715e-4 31.889933,14.174867 21.26,28.347 c -42.520624,6.24e-4 -85.039187,-8.13e-4 -127.559,-0.001 11.220667,-14.961 22.441333,-29.922 33.662,-44.883 -6.496,-8.661 -12.992,-17.322 -19.488,-25.983 5.905333,0 11.810667,0 17.716,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.173333,0 28.346667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.173333,0 28.3466667,0 42.52,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.1733333,0 28.3466667,0 42.52,0 10.63,14.173333 21.26,28.346667 31.89,42.52 14.390333,0 28.780667,0 43.171,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 42.51967,0 85.03933,0 127.559,0 10.63033,14.173333 21.26067,28.346667 31.891,42.52 14.17267,0 28.34533,0 42.518,0 -10.63,-14.173333 -21.26,-28.346667 -31.89,-42.52 14.17367,0 28.34733,0 42.521,0 14.17333,18.897667 28.34667,37.795333 42.52,56.693 -14.17333,18.8976667 -28.34667,37.7953333 -42.52,56.693 z");l.scale(t,-t,0,0),l.translate(120*t,o),l.attr("fill",n),l.attr("stroke",i),l.attr("stroke-width",a)},debounce:function(e,t){var n,i;return function(){var r=arguments,o=this,a=function(){i=e.apply(o,r)};return clearTimeout(n),n=setTimeout(a,t),i}},id:function(e){if(t=r++ +"",n=e?e+t:"aui-uid-"+t,document.getElementById(n)){if(n=n+"-"+(new Date).getTime(),document.getElementById(n))throw new Error("ERROR: timestamped fallback ID "+n+" exists. AJS.id stopped.");return n}return n},_addID:function(e,t){var n=AJS.$(e),i=t||!1;n.each(function(){var e=AJS.$(this);e.attr("id")||e.attr("id",AJS.id(i))})},enable:function(e,t){var n=AJS.$(e);return"undefined"==typeof t&&(t=!0),n.each(function(){this.disabled=!t})}};if("undefined"!=typeof AJS)for(var s in AJS)a[s]=AJS[s];var u=function(){var e=null;return arguments.length&&"string"==typeof arguments[0]&&(e=AJS.$(document.createElement(arguments[0])),2===arguments.length&&e.html(arguments[1])),e};for(var l in a)u[l]=a[l];return u}(),AJS.$(function(){var e=AJS.$("body");e.data("auiVersion")||e.attr("data-aui-version",AJS.version),AJS.populateParameters()}),AJS.$.ajaxSettings.traditional=!0}(),AJS.format=function(){var e=/'(?!')/g,t=/^\d+$/,n=/^(\d+),number$/,i=/^(\d+)\,choice\,(.+)/,r=/^(\d+)([#<])(.+)/,o=function(e,o){var a,s="";if(a=e.match(t))s=o.length>++e?o[e]:"";else if(a=e.match(n))s=o.length>++a[1]?o[a[1]]:"";else if(a=e.match(i)){var u=o.length>++a[1]?o[a[1]]:null;if(null!==u){for(var l=a[2].split("|"),c=null,d=0;d<l.length;d++){var p=l[d].match(r),h=parseInt(p[1],10);if(h>u){if(c){s=c;break}s=p[3];break}if(u==h&&"#"==p[2]){s=p[3];break}d==l.length-1&&(s=p[3]),c=p[3]}var f=[s].concat(Array.prototype.slice.call(o,1));s=AJS.format.apply(AJS,f)}}return s},a=function(e){for(var t=!1,n=-1,i=0,r=0;r<e.length;r++){var o=e.charAt(r);if("'"==o&&(t=!t),!t)if("{"===o)0===i&&(n=r),i++;else if("}"===o&&i>0&&(i--,0===i)){var a=[];return a.push(e.substring(0,r+1)),a.push(e.substring(0,n)),a.push(e.substring(n+1,r)),a}}return null},s=function(t){for(var n=arguments,i="",r=a(t);r;)t=t.substring(r[0].length),i+=r[1].replace(e,""),i+=o(r[2],n),r=a(t);return i+=t.replace(e,"")};return s.apply(AJS,arguments)},AJS.I18n={getText:function(e){var t=Array.prototype.slice.call(arguments,1);return AJS.I18n.keys&&Object.prototype.hasOwnProperty.call(AJS.I18n.keys,e)?AJS.format.apply(null,[AJS.I18n.keys[e]].concat(t)):e}},function(e){AJS._internal=AJS._internal||{},AJS._internal.widget=function(t,n){var i="_aui-widget-"+t;return function(t,r){var o,a;e.isPlainObject(t)?a=t:(o=t,a=r);var s,u=o&&e(o);return u&&u.data(i)?s=u.data(i):(s=new n(u,a||{}),u=s.$el,u.data(i,s)),s}}}(AJS.$),AJS._internal||(AJS._internal={}),function(e){AJS._internal.browser={};var t=null;AJS._internal.browser.supportsCalc=function(){if(null===t){var n=e('<div style="height: 10px; height: -webkit-calc(20px + 0); height: calc(20px);"></div>');t=20===n.appendTo(document.documentElement).height(),n.remove()}return t}}(AJS.$),AJS.I18n.keys={},AJS.I18n.keys["aui.words.add"]="Add",AJS.I18n.keys["aui.words.update"]="Update",AJS.I18n.keys["aui.words.delete"]="Delete",AJS.I18n.keys["aui.words.remove"]="Remove",AJS.I18n.keys["aui.words.cancel"]="Cancel",AJS.I18n.keys["aui.words.loading"]="Loading",AJS.I18n.keys["aui.words.close"]="Close",AJS.I18n.keys["aui.enter.value"]="Enter value",AJS.I18n.keys["aui.keyboard.shortcut.type.x"]="Type ''{0}''",AJS.I18n.keys["aui.keyboard.shortcut.then.x"]="then ''{0}''",AJS.I18n.keys["aui.keyboard.shortcut.or.x"]="OR ''{0}''",AJS.I18n.keys["aui.sidebar.expand.tooltip"]="Expand sidebar ( [ )",AJS.I18n.keys["aui.sidebar.collapse.tooltip"]="Collapse sidebar ( [ )",AJS.I18n.keys["aui.words.more"]="More",AJS.I18n.keys["aui.validation.message.maxlength"]="Must be fewer than {0} characters",AJS.I18n.keys["aui.validation.message.minlength"]="Must be greater than {0} characters",AJS.I18n.keys["aui.validation.message.matchingfield"]="{0} and {1} do not match.",AJS.I18n.keys["aui.validation.message.matchingfield-novalue"]="These fields do not match.",AJS.I18n.keys["aui.validation.message.doesnotcontain"]="Do not include the phrase {0} in this field",AJS.I18n.keys["aui.validation.message.pattern"]="This field does not match the required format",AJS.I18n.keys["aui.validation.message.required"]="This is a required field",AJS.I18n.keys["aui.validation.message.validnumber"]="Please enter a valid number",AJS.I18n.keys["aui.validation.message.min"]="Enter a value greater than {0}",AJS.I18n.keys["aui.validation.message.max"]="Enter a value less than {0}",AJS.I18n.keys["aui.validation.message.dateformat"]="Enter a valid date",AJS.I18n.keys["aui.validation.message.minchecked"]="Tick at least {0} checkboxes.",AJS.I18n.keys["aui.validation.message.maxchecked"]="Tick at most {0} checkboxes.",function(e){var t;AJS.dim=function(n,i){return t||(t=e(document.body)),n===!0&&AJS.log("DEPRECATED: useShim is calculated by dim() now"),AJS.dim.$dim||(AJS.dim.$dim=AJS("div").addClass("aui-blanket"),AJS.dim.$dim.attr("tabindex","0"),i&&AJS.dim.$dim.css({zIndex:i}),e.browser.msie&&AJS.dim.$dim.css({width:"200%",height:Math.max(e(document).height(),e(window).height())+"px"}),e("body").append(AJS.dim.$dim),AJS.dim.cachedOverflow=t.css("overflow"),t.css("overflow","hidden")),AJS.dim.$dim},AJS.undim=function(){if(AJS.dim.$dim&&(AJS.dim.$dim.remove(),AJS.dim.$dim=null,AJS.dim.$shim&&(AJS.dim.$shim.remove(),AJS.dim.$shim=null),t&&t.css("overflow",AJS.dim.cachedOverflow),e.browser.safari)){var n=e(window).scrollTop();e(window).scrollTop(10+5*(10==n)).scrollTop(n)}}}(AJS.$),AJS.FocusManager=function(e){function t(){this._focusTrapStack=[],e(document).on("focusout",{focusTrapStack:this._focusTrapStack},o)}function n(e,t){t.push(e)}function i(e){e.pop()}function r(e){return e.is(".aui-dialog2")}function o(e){var t=e.data.focusTrapStack;if(e.relatedTarget&&0!==t.length){var n=t[t.length-1],i=e.target,r=e.relatedTarget,o=n.find(":aui-tabbable"),a=AJS.$(o.first()),s=AJS.$(o.last()),u=0===n.has(r).length,l=u&&r;l&&(a.is(i)?s.focus():s.is(i)&&a.focus())}}!function(){function t(t){return!e(t).parents().andSelf().filter(function(){return"hidden"===e.css(this,"visibility")||e.expr.filters.hidden(this)}).length}function n(n,i){var r=n.nodeName.toLowerCase();if("area"===r){var o=n.parentNode,a=o.name,s=e("img[usemap=#"+a+"]").get();return n.href&&a&&"map"===o.nodeName.toLowerCase()?s&&t(s):!1}var u=/input|select|textarea|button|object/.test(r),l="a"===r,c=n.href||i;return(u?!n.disabled:l?c:i)&&t(n)}function i(t){var i=e.attr(t,"tabindex"),r=isNaN(i),o=r||i>=0;return o&&n(t,!r)}e.extend(e.expr[":"],{"aui-focusable":function(t){return n(t,!isNaN(e.attr(t,"tabindex")))},"aui-tabbable":i})}();var a="_aui-focus-restore";return t.defaultFocusSelector=":aui-tabbable",t.prototype.enter=function(i){if(i.data(a,e(document.activeElement)),"false"!==i.attr("data-aui-focus")){var o=i.attr("data-aui-focus-selector")||t.defaultFocusSelector,s=i.is(o)?i:i.find(o);s.first().focus()}r(i)&&n(i,this._focusTrapStack)},t.prototype.exit=function(t){r(t)&&i(this._focusTrapStack);var n=document.activeElement;(t[0]===n||t.has(n).length)&&e(n).blur();var o=t.data(a);o&&o.length&&(t.removeData(a),o.focus())},t.global=new t,t}(AJS.$),function(e){function t(t){this.$el=e(t||'<div class="aui-layer" aria-hidden="true"></div>')}var n="_aui-internal-layer-",i="_aui-internal-layer-global-";t.prototype.changeSize=function(e,t){return this.$el.css("width",e),this.$el.css("height","content"===t?"":t),this},t.prototype.on=function(e,t){return this.$el.on(n+e,t),this},t.prototype.off=function(e,t){return this.$el.off(n+e,t),this},t.prototype.show=function(){if(this.$el.is(":visible"))return this;var t=AJS.$.Event(n+"beforeShow");this.$el.trigger(t);var r=AJS.$.Event(i+"beforeShow");return e(document).trigger(r,[this.$el]),t.isDefaultPrevented()||r.isDefaultPrevented()||(AJS.LayerManager.global.push(this.$el),this.$el.attr("data-aui-alignment")&&this.$el[0]._tether.enable()),this},t.prototype.hide=function(){if(!this.$el.is(":visible"))return this;var t=AJS.$.Event(n+"beforeHide");this.$el.trigger(t);var r=AJS.$.Event(i+"beforeHide");return e(document).trigger(r,[this.$el]),t.isDefaultPrevented()||r.isDefaultPrevented()||AJS.LayerManager.global.popUntil(this.$el),this},t.prototype.isVisible=function(){return"false"===this.$el.attr("aria-hidden")},t.prototype.remove=function(){this.hide(),this.$el[0]._tether&&this.$el[0]._tether.destroy(),this.$el.remove(),this.$el=null},t.prototype._showLayer=function(t){this.$el.parent().is("body")||this.$el.appendTo(document.body),this.$el.data("_aui-layer-cached-z-index",this.$el.css("z-index")),this.$el.css("z-index",t),this.$el.attr("aria-hidden","false"),AJS.FocusManager.global.enter(this.$el),this.$el.trigger(n+"show"),e(document).trigger(i+"show",[this.$el])},t.prototype._hideLayer=function(){AJS.FocusManager.global.exit(this.$el),this.$el.attr("aria-hidden","true"),this.$el.css("z-index",this.$el.data("_aui-layer-cached-z-index")||""),this.$el.data("_aui-layer-cached-z-index",""),this.$el.trigger(n+"hide"),e(document).trigger(i+"hide",[this.$el])},t.prototype.isBlanketed=function(){return"true"===this.$el.attr("data-aui-blanketed")},t.prototype.isModal=function(){return"true"===this.$el.attr("data-aui-modal")},AJS.layer=AJS._internal.widget("layer",t),AJS.layer.on=function(t,n){return e(document).on(i+t,n),this},AJS.layer.off=function(t,n){return e(document).off(i+t,n),this}}(AJS.$),function(){function e(e,t){for(var n=e.length;n--;)if(t(e[n]))return n;return-1}function t(t,n){return e(t,function(e){return e[0]===n[0]})}function n(t){return e(t,function(e){return AJS.layer(e).isBlanketed()})}function i(e){var t;if(e.length){var n=e[e.length-1],i=parseInt(n.css("z-index"),10);t=(isNaN(i)?0:i)+100}else t=0;return Math.max(3e3,t)}function r(){this._stack=[]}r.prototype.push=function(e){if(t(this._stack,e)>=0)throw new Error("The given element is already an active layer");var r=AJS.layer(e),o=i(this._stack);r._showLayer(o),r.isBlanketed()&&(n(this._stack)>=0&&AJS.undim(),AJS.dim(!1,o-20)),this._stack.push(e)},r.prototype.popUntil=function(e){var i=t(this._stack,e);if(0>i)return null;var r=this._stack.slice(i);this._stack=this._stack.slice(0,i);var o=n(r);if(o>=0){AJS.undim();var a=n(this._stack);a>=0&&AJS.dim(!1,this._stack[a].css("z-index")-20)}for(var s;r.length;)s=r.pop(),AJS.layer(s)._hideLayer();return s},r.prototype.getTopLayer=function(){if(!this._stack.length)return null;var e=this._stack[this._stack.length-1];return e},r.prototype.popTopIfNonModal=function(){var e=this.getTopLayer();return!e||AJS.layer(e).isModal()?null:this.popUntil(e)},r.prototype.popUntilTopBlanketed=function(){var e=n(this._stack);if(0>e)return null;var t=this._stack[e];return AJS.layer(t).isModal()?null:this.popUntil(t)},AJS.LayerManager=r}(AJS.$),function(){AJS.keyCode={ALT:18,BACKSPACE:8,CAPS_LOCK:20,COMMA:188,COMMAND:91,COMMAND_LEFT:91,COMMAND_RIGHT:93,CONTROL:17,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,INSERT:45,LEFT:37,MENU:93,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SHIFT:16,SPACE:32,TAB:9,UP:38,WINDOWS:91}}(AJS.$),function(e){AJS.LayerManager.global=new AJS.LayerManager,e(document).on("keydown",function(e){if(e.keyCode===AJS.keyCode.ESCAPE){var t=AJS.LayerManager.global.popTopIfNonModal();t&&e.preventDefault()}}).on("click",".aui-blanket",function(e){var t=AJS.LayerManager.global.popUntilTopBlanketed();t&&e.preventDefault()})}(AJS.$),function(e){function t(e){jQuery.each(r,function(t,n){var i="data-"+t;e[0].hasAttribute(i)||e.attr(i,n)})}function n(n){this.$el=e(n?n:AJS.parseHtml(e(aui.dialog.dialog2({})))),t(this.$el)}function i(t){AJS.layer.on(t,function(n,i){if(i.is(".aui-dialog2")){var r=AJS.$.Event(o+t);return e(document).trigger(r,[i]),!r.isDefaultPrevented()}return!0})}var r={"aui-focus":"false","aui-blanketed":"true"};n.prototype.on=function(e,t){return AJS.layer(this.$el).on(e,t),this},n.prototype.off=function(e,t){return AJS.layer(this.$el).off(e,t),this},n.prototype.show=function(){var e=AJS.layer(this.$el);return e.show(),this},n.prototype.hide=function(){return AJS.layer(this.$el).hide(),this},n.prototype.remove=function(){return AJS.layer(this.$el).remove(),this},AJS.dialog2=AJS._internal.widget("dialog2",n);for(var o="_aui-internal-dialog2-global-",a=["show","hide","beforeShow","beforeHide"],s=0;s<a.length;++s)i(a[s]);AJS.dialog2.on=function(t,n){return e(document).on(o+t,n),this},AJS.dialog2.off=function(t,n){return e(document).off(o+t,n),this},e(document).on("click",".aui-dialog2-header-close",function(t){t.preventDefault(),AJS.dialog2(e(this).closest(".aui-dialog2")).hide()}),AJS.dialog2.on("show",function(e,t){var n,i=[".aui-dialog2-content",".aui-dialog2-footer",".aui-dialog2-header"];i.some(function(e){return n=t.find(e+" :aui-tabbable"),n.length}),n&&n.first().focus()}),AJS.dialog2.on("hide",function(e,t){var n=AJS.layer(t);t.data("aui-remove-on-hide")&&n.remove()})}(AJS.$),function(){function e(e,t){t=t||"";var n=new RegExp(o(e)+"=([^|]+)"),i=t.match(n);return i&&i[1]}function t(e,t,n){var i=new RegExp("(\\s|\\|)*\\b"+o(e)+"=[^|]*[|]*");if(n=n||"",n=n.replace(i,"|"),""!==t){var r=e+"="+t;n.length+r.length<4020&&(n+="|"+r)}return n.replace(u,"|")}function n(e){return e.replace(s,"")}function i(e){var t=new RegExp("\\b"+o(e)+"=((?:[^\\\\;]+|\\\\.)*)(?:;|$)"),i=document.cookie.match(t);return i&&n(i[1])}function r(e,t,n){var i,r="",o='"'+t.replace(l,'\\"')+'"';n&&(i=new Date,i.setTime(+i+24*n*60*60*1e3),r="; expires="+i.toGMTString()),document.cookie=e+"="+o+r+";path=/"}function o(e){return e.replace(c,"\\$&")}var a="AJS.conglomerate.cookie",s=/(\\|^"|"$)/g,u=/\|\|+/g,l=/"/g,c=/[.*+?|^$()[\]{\\]/g;AJS.Cookie={save:function(e,n,o){var s=i(a);s=t(e,n,s),r(a,s,o||365)},read:function(t,n){var r=i(a),o=e(t,r);return null!=o?o:n},erase:function(e){this.save(e,"")}}}(),AJS.bind=function(e,t,n){try{return"function"==typeof n?AJS.$(window).bind(e,t,n):AJS.$(window).bind(e,t)}catch(i){AJS.log("error while binding: "+i.message)}},AJS.unbind=function(e,t){try{return AJS.$(window).unbind(e,t)}catch(n){AJS.log("error while unbinding: "+n.message)}},AJS.trigger=function(e,t){try{return AJS.$(window).trigger(e,t)}catch(n){AJS.log("error while triggering: "+n.message)}},AJS.popup=function(e){var t={width:800,height:600,closeOnOutsideClick:!1,keypressListener:function(e){27===e.keyCode&&n.is(":visible")&&u.hide()}};"object"!=typeof e&&(e={width:arguments[0],height:arguments[1],id:arguments[2]},e=AJS.$.extend({},e,arguments[3])),e=AJS.$.extend({},t,e);var n=AJS("div").addClass("aui-popup");e.id&&n.attr("id",e.id);var i=3e3;AJS.$(".aui-dialog").each(function(){var e=AJS.$(this);i=e.css("z-index")>i?e.css("z-index"):i});var r=function(t,r){e.width=t=t||e.width,e.height=r=r||e.height,n.toggleClass("auto-height","auto"===r);var o={marginTop:-Math.round(r/2)+"px",marginLeft:-Math.round(t/2)+"px",width:t,height:r,"z-index":parseInt(i,10)+2};return"auto"!==r?o.marginTop=-Math.round(r/2)+"px":o["max-height"]=this.maxHeight,n.css(o),arguments.callee}(e.width,e.height);AJS.$("body").append(n),n.hide(),AJS.enable(n);var o=AJS.$(".aui-blanket"),a=function(e,t){var n=AJS.$(e,t);return n.length?(n.focus(),!0):!1},s=function(t){if(0===AJS.$(".dialog-page-body",t).find(":focus").length){if(e.focusSelector)return a(e.focusSelector,t);var n=":input:visible:enabled:first";a(n,AJS.$(".dialog-page-body",t))||a(n,AJS.$(".dialog-button-panel",t))||a(n,AJS.$(".dialog-page-menu",t))}},u={changeSize:function(t,n){(t&&t!=e.width||n&&n!=e.height)&&r(t,n),this.show()},show:function(){var t=function(){AJS.$(document).off("keydown",e.keypressListener).on("keydown",e.keypressListener),AJS.dim(),o=AJS.$(".aui-blanket"),0!=o.size()&&e.closeOnOutsideClick&&o.click(function(){n.is(":visible")&&u.hide()}),n.show(),AJS.popup.current=this,s(n),AJS.$(document).trigger("showLayer",["popup",this])};t.call(this),this.show=t},hide:function(){AJS.$(document).unbind("keydown",e.keypressListener),o.unbind(),this.element.hide(),0==AJS.$(".aui-dialog:visible").size()&&AJS.undim();var t=document.activeElement;this.element.has(t).length&&t.blur(),AJS.$(document).trigger("hideLayer",["popup",this]),AJS.popup.current=null,this.enable()},element:n,remove:function(){n.remove(),this.element=null},disable:function(){this.disabled||(this.popupBlanket=AJS.$("<div class='dialog-blanket'> </div>").css({height:n.height(),width:n.width()}),n.append(this.popupBlanket),this.disabled=!0)},enable:function(){this.disabled&&(this.disabled=!1,this.popupBlanket.remove(),this.popupBlanket=null)}};return u},function(){function e(e,t,n,i){e.buttonpanel||e.addButtonPanel(),this.page=e,this.onclick=n,this._onclick=function(t){return n.call(this,e.dialog,e,t)===!0},this.item=AJS("button",t).addClass("button-panel-button"),i&&this.item.addClass(i),"function"==typeof n&&this.item.click(this._onclick),e.buttonpanel.append(this.item),this.id=e.button.length,e.button[this.id]=this}function t(e,t,n,i,r){e.buttonpanel||e.addButtonPanel(),r||(r="#"),this.page=e,this.onclick=n,this._onclick=function(t){return n.call(this,e.dialog,e,t)===!0},this.item=AJS("a",t).attr("href",r).addClass("button-panel-link"),i&&this.item.addClass(i),"function"==typeof n&&this.item.click(this._onclick),e.buttonpanel.append(this.item),this.id=e.button.length,e.button[this.id]=this}function n(e,t){var n="left"==e?-1:1;return function(e){var i=this.page[t];if(this.id!=(1==n?i.length-1:0)){n*=e||1,i[this.id+n].item[0>n?"before":"after"](this.item),i.splice(this.id,1),i.splice(this.id+n,0,this);for(var r=0,o=i.length;o>r;r++)"panel"==t&&this.page.curtab==i[r].id&&(this.page.curtab=r),i[r].id=r}return this}}function i(e){return function(){this.page[e].splice(this.id,1);for(var t=0,n=this.page[e].length;n>t;t++)this.page[e][t].id=t;this.item.remove()}}e.prototype.moveUp=e.prototype.moveLeft=n("left","button"),e.prototype.moveDown=e.prototype.moveRight=n("right","button"),e.prototype.remove=i("button"),e.prototype.html=function(e){return this.item.html(e)},e.prototype.onclick=function(e){return"undefined"==typeof e?this.onclick:(this.item.unbind("click",this._onclick),this._onclick=function(t){return e.call(this,page.dialog,page,t)===!0},"function"==typeof e&&this.item.click(this._onclick),void 0)};var r=20,o=function(e,t,n,i,o){n instanceof AJS.$||(n=AJS.$(n)),this.dialog=e.dialog,this.page=e,this.id=e.panel.length,this.button=AJS("button").html(t).addClass("item-button"),o&&(this.button[0].id=o),this.item=AJS("li").append(this.button).addClass("page-menu-item"),this.body=AJS("div").append(n).addClass("dialog-panel-body"),"auto"!==this.dialog.height?this.body.css("height",e.dialog.height+"px"):this.body.css("max-height",e.dialog.maxHeight+"px"),this.padding=r,i&&this.body.addClass(i);var a=e.panel.length,s=this;e.menu.append(this.item),e.body.append(this.body),e.panel[a]=this;var u=function(){var t;e.curtab+1&&(t=e.panel[e.curtab],t.body.hide(),t.item.removeClass("selected"),"function"==typeof t.onblur&&t.onblur()),e.curtab=s.id,s.body.show(),s.item.addClass("selected"),"function"==typeof s.onselect&&s.onselect(),"function"==typeof e.ontabchange&&e.ontabchange(s,t)};this.button.click?this.button.click(u):(AJS.log("atlassian-dialog:Panel:constructor - this.button.click false"),this.button.onclick=u),u(),0==a?e.menu.css("display","none"):e.menu.show()};o.prototype.select=function(){this.button.click()},o.prototype.moveUp=o.prototype.moveLeft=n("left","panel"),o.prototype.moveDown=o.prototype.moveRight=n("right","panel"),o.prototype.remove=i("panel"),o.prototype.html=function(e){return e?(this.body.html(e),this):this.body.html()},o.prototype.setPadding=function(e){return isNaN(+e)||(this.body.css("padding",+e),this.padding=+e,this.page.recalcSize()),this};var a=56,s=51,u=50,l=function(e,t){this.dialog=e,this.id=e.page.length,this.element=AJS("div").addClass("dialog-components"),this.body=AJS("div").addClass("dialog-page-body"),this.menu=AJS("ul").addClass("dialog-page-menu"),"auto"!==e.height?this.menu.css("height",e.height+"px"):this.menu.css("max-height",e.maxHeight+"px"),this.body.append(this.menu),this.curtab,this.panel=[],this.button=[],t&&this.body.addClass(t),e.popup.element.append(this.element.append(this.menu).append(this.body)),e.page[e.page.length]=this};l.prototype.recalcSize=function(){for(var e=this.header?a:0,t=this.buttonpanel?s:0,n=this.menu.innerHeight()-this.menu.height(),i=this.panel.length;i--;)if("auto"!==this.dialog.height){var r=this.dialog.height-e-t;this.panel[i].body.css("height",r),this.menu.css("height",r)}else{var o=this.panel[i].body.innerHeight()-this.panel[i].body.height(),u=this.dialog.maxHeight-e-t;this.panel[i].body.css("max-height",u-o),this.menu.css("max-height",u-n)}},l.prototype.addButtonPanel=function(){this.buttonpanel=AJS("div").addClass("dialog-button-panel"),this.element.append(this.buttonpanel)},l.prototype.addPanel=function(e,t,n,i){return new o(this,e,t,n,i),this.recalcSize(),this},l.prototype.addHeader=function(e,t){return this.header&&this.header.remove(),this.header=AJS("h2").text(e||"").addClass("dialog-title"),t&&this.header.addClass(t),this.element.prepend(this.header),this.recalcSize(),this},l.prototype.addButton=function(t,n,i){return new e(this,t,n,i),this.recalcSize(),this},l.prototype.addLink=function(e,n,i,r){return new t(this,e,n,i,r),this.recalcSize(),this},l.prototype.gotoPanel=function(e){this.panel[e.id||e].select()},l.prototype.getCurrentPanel=function(){return this.panel[this.curtab]},l.prototype.hide=function(){this.element.hide()},l.prototype.show=function(){this.element.show()},l.prototype.remove=function(){this.element.remove()},AJS.Dialog=function(e,t,n){var i={};+e||(i=Object(e),e=i.width,t=i.height,n=i.id),this.height=t||480,"auto"===this.height&&(this.maxHeight=AJS.$(window).height()-200),this.width=e||640,this.id=n,i=AJS.$.extend({},i,{width:this.width,height:this.height,id:this.id,maxHeight:this.maxHeight}),this.popup=AJS.popup(i),this.popup.element.addClass("aui-dialog"),this.page=[],this.curpage=0,new l(this)},AJS.Dialog.prototype.addHeader=function(e,t){return this.page[this.curpage].addHeader(e,t),this},AJS.Dialog.prototype.addButton=function(e,t,n){return this.page[this.curpage].addButton(e,t,n),this},AJS.Dialog.prototype.addLink=function(e,t,n,i){return this.page[this.curpage].addLink(e,t,n,i),this},AJS.Dialog.prototype.addSubmit=function(e,t){return this.page[this.curpage].addButton(e,t,"button-panel-submit-button"),this},AJS.Dialog.prototype.addCancel=function(e,t){return this.page[this.curpage].addLink(e,t,"button-panel-cancel-link"),this},AJS.Dialog.prototype.addButtonPanel=function(){return this.page[this.curpage].addButtonPanel(),this},AJS.Dialog.prototype.addPanel=function(e,t,n,i){return this.page[this.curpage].addPanel(e,t,n,i),this},AJS.Dialog.prototype.addPage=function(e){return new l(this,e),this.page[this.curpage].hide(),this.curpage=this.page.length-1,this},AJS.Dialog.prototype.nextPage=function(){return this.page[this.curpage++].hide(),this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},AJS.Dialog.prototype.prevPage=function(){return this.page[this.curpage--].hide(),this.curpage<0&&(this.curpage=this.page.length-1),this.page[this.curpage].show(),this},AJS.Dialog.prototype.gotoPage=function(e){return this.page[this.curpage].hide(),this.curpage=e,this.curpage<0?this.curpage=this.page.length-1:this.curpage>=this.page.length&&(this.curpage=0),this.page[this.curpage].show(),this},AJS.Dialog.prototype.getPanel=function(e,t){var n=null==t?this.curpage:e;return null==t&&(t=e),this.page[n].panel[t]},AJS.Dialog.prototype.getPage=function(e){return this.page[e]},AJS.Dialog.prototype.getCurrentPanel=function(){return this.page[this.curpage].getCurrentPanel()},AJS.Dialog.prototype.gotoPanel=function(e,t){if(null!=t){var n=e.id||e;this.gotoPage(n)}this.page[this.curpage].gotoPanel("undefined"==typeof t?e:t)},AJS.Dialog.prototype.show=function(){return this.popup.show(),AJS.trigger("show.dialog",{dialog:this}),this},AJS.Dialog.prototype.hide=function(){return this.popup.hide(),AJS.trigger("hide.dialog",{dialog:this}),this},AJS.Dialog.prototype.remove=function(){this.popup.hide(),this.popup.remove(),AJS.trigger("remove.dialog",{dialog:this})},AJS.Dialog.prototype.disable=function(){return this.popup.disable(),this},AJS.Dialog.prototype.enable=function(){return this.popup.enable(),this},AJS.Dialog.prototype.get=function(e){var t=[],n=this,i='#([^"][^ ]*|"[^"]*")',r=":(\\d+)",o="page|panel|button|header",a="(?:("+o+")(?:"+i+"|"+r+")?|"+i+")",s=new RegExp("(?:^|,)\\s*"+a+"(?:\\s+"+a+")?\\s*(?=,|$)","ig");(e+"").replace(s,function(e,i,r,o,a,s,u,l,c){i=i&&i.toLowerCase();var d=[];if("page"==i&&n.page[o]?(d.push(n.page[o]),i=s,i=i&&i.toLowerCase(),r=u,o=l,a=c):d=n.page,r=r&&(r+"").replace(/"/g,""),u=u&&(u+"").replace(/"/g,""),a=a&&(a+"").replace(/"/g,""),c=c&&(c+"").replace(/"/g,""),i||a)for(var p=d.length;p--;){if(a||"panel"==i&&(r||!r&&null==o))for(var h=d[p].panel.length;h--;)(d[p].panel[h].button.html()==a||d[p].panel[h].button.html()==r||"panel"==i&&!r&&null==o)&&t.push(d[p].panel[h]);
if(a||"button"==i&&(r||!r&&null==o))for(var h=d[p].button.length;h--;)(d[p].button[h].item.html()==a||d[p].button[h].item.html()==r||"button"==i&&!r&&null==o)&&t.push(d[p].button[h]);d[p][i]&&d[p][i][o]&&t.push(d[p][i][o]),"header"==i&&d[p].header&&t.push(d[p].header)}else t=t.concat(d)});for(var u={length:t.length},l=t.length;l--;){u[l]=t[l];for(var c in t[l])c in u||!function(e){u[e]=function(){for(var t=this.length;t--;)"function"==typeof this[t][e]&&this[t][e].apply(this[t],arguments)}}(c)}return u},AJS.Dialog.prototype.updateHeight=function(){for(var e=0,t=AJS.$(window).height()-a-s-2*u,n=0;this.getPanel(n);n++)this.getPanel(n).body.css({height:"auto",display:"block"}).outerHeight()>e&&(e=Math.min(t,this.getPanel(n).body.outerHeight())),n!==this.page[this.curpage].curtab&&this.getPanel(n).body.css({display:"none"});for(n=0;this.getPanel(n);n++)this.getPanel(n).body.css({height:e||this.height});this.page[0].menu.height(e),this.height=e+a+s+1,this.popup.changeSize(void 0,this.height)},AJS.Dialog.prototype.isMaximised=function(){return this.popup.element.outerHeight()>=AJS.$(window).height()-2*u},AJS.Dialog.prototype.getCurPanel=function(){return this.getPanel(this.page[this.curpage].curtab)},AJS.Dialog.prototype.getCurPanelButton=function(){return this.getCurPanel().button}}(),function(e){function t(e){e.preventDefault()}function n(e){if(e.click)e.click();else{var t=document.createEvent("MouseEvents");t.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),e.dispatchEvent(t)}}function i(t,n){return t===n||e.contains(n,t)}function r(t){t instanceof AJS.$||(t=e(t));var n=t.attr("aria-owns"),i=t.attr("aria-haspopup"),r=document.getElementById(n);if(r)return e(r);if(!n)throw new Error("Dropdown 2 trigger required attribute not set: aria-owns");if(!i)throw new Error("Dropdown 2 trigger required attribute not set: aria-haspopup");if(!r)throw new Error("Dropdown 2 trigger aria-owns attr set to nonexistent id: "+n);throw new Error("Dropdown 2 trigger unknown error. I don't know what you did, but there's smoke everywhere. Consult the documentation.")}var o=e(document),a=null,s=function(){function n(t){a||1!==t.which||(a=!0,o.bind("mouseup mouseleave",i),e(this).trigger("aui-button-invoke"))}function i(){o.unbind("mouseup mouseleave",i),setTimeout(function(){a=!1},0)}function r(){a||e(this).trigger("aui-button-invoke")}var a=!1;return"undefined"==typeof document.addEventListener?{click:r,"click selectstart":t,mousedown:function(e){function t(e){switch(e.toElement){case null:case i:case document.body:case document.documentElement:e.returnValue=!1}}var i=this,r=document.activeElement;n.call(this,e),null!==r&&(r.attachEvent("onbeforedeactivate",t),setTimeout(function(){r.detachEvent("onbeforedeactivate",t)},0))}}:{click:r,"click mousedown":t,mousedown:n}}(),u={"aui-button-invoke":function(s,u){function l(t,n){t.each(function(){var t=e(this);t.attr("role",n),t.hasClass("checked")||t.hasClass("aui-dropdown2-checked")?(t.attr("aria-checked","true"),"radio"==n&&t.closest("ul").attr("role","radiogroup")):t.attr("aria-checked","false")})}function c(){var t=E.offset(),n=E.outerWidth();T.css({left:0,top:0});var i=T.outerWidth(),r=e("body").outerWidth(!0),o=Math.max(parseInt(T.css("min-width"),10),n),a=E.data("container")||!1,s="left";N||T.css("min-width",o+"px");var u=t.left,l=t.top+E.outerHeight();if(N){var c=3;u=t.left+O.outerWidth()-c,l=t.top}if(u+i>r&&u+n>=i&&(u=t.left+n-i,N&&(u=t.left-i),s="right"),a){var d=(E.closest(a),E.offset().left+E.outerWidth()),p=d+i;o>=i&&(i=o),p>d&&(u=d-i,s="right")}T.attr({"data-dropdown2-alignment":s,"aria-hidden":"false"}).css({display:"block",left:u+"px",top:l+"px"}),T.appendTo(document.body)}function d(){_(),k("off"),setTimeout(function(){T.css("display","none").css("min-width","").insertAfter(E).attr("aria-hidden","true"),N||E.removeClass("active aui-dropdown2-active"),v().removeClass("active aui-dropdown2-active"),T.removeClass("aui-dropdown2-in-toolbar"),T.removeClass("aui-dropdown2-in-buttons"),H?T.insertBefore(H):T.appendTo(j),T.trigger("aui-dropdown2-hide")},0)}function p(){d(),N&&O.trigger("aui-dropdown2-hide-all")}function h(e){N&&e.target===O[0]&&d()}function f(e){return!e.is(".disabled, .aui-dropdown2-disabled, [aria-disabled=true]")}function g(e){return e.hasClass("aui-dropdown2-sub-trigger")}function m(t,n){if(g(t)){n=e.extend({},n,{$menu:q});var i=r(t);i.is(":visible")?i.trigger("aui-dropdown2-select-first"):t.trigger("aui-button-invoke",n)}}function v(){return T.find("a.active,a.aui-dropdown2-active")}function y(e){return I&&I[0]===e[0]?!1:(I=e,T.hasClass("aui-dropdown2-disable-active-class")||(v().removeClass("active aui-dropdown2-active"),f(e)&&e.addClass("active aui-dropdown2-active")),T.trigger("aui-dropdown2-item-selected"),$(),!0)}function b(){y(T.find("a:not(.disabled):not(.aui-dropdown2-disabled)").first())}function w(e){var t=T.find("> ul > li > a, > .aui-dropdown2-section > ul > li > a").not(".disabled,.aui-dropdown2-disabled");y(A(t,e,!0))}function x(e){e.length>0&&(p(),e.trigger("aui-button-invoke"))}function S(e){x(A(q.find(".aui-dropdown2-trigger").not(".disabled, .aui-dropdown2-disabled, [aria-disabled=true], .aui-dropdown2-sub-trigger"),e,!1))}function A(e,t,n){var i=e.index(e.filter(".active,.aui-dropdown2-active"));return i+=0>i&&0>t?1:0,i+=t,n?i%=e.length:0>i&&(i=e.length),e.eq(i)}function C(){x(e(this))}function _(){a===M&&(o.unbind(M),a=null)}function $(){a!==M&&(o.unbind(a),o.bind(M),a=M)}function k(e){var t="bind",n="delegate";"on"!==e&&(t="unbind",n="undelegate"),N?O[t]("aui-dropdown2-hide aui-dropdown2-item-selected aui-dropdown2-step-out",h):(q[n](".aui-dropdown2-trigger:not(.active):not(.aui-dropdown2-active)","mousemove",C),E[t]("aui-button-invoke",d)),T[t]("aui-dropdown2-hide-all",p),T[n]("a",P),T[t]("aui-dropdown2-hide",$),T[t]("aui-dropdown2-select-first",b)}u=e.extend({selectFirst:!0},u);var T=r(this),E=e(this).addClass("active aui-dropdown2-active"),N=E.hasClass("aui-dropdown2-sub-trigger"),j=T.parent()[0],H=T.next()[0],D=e(this).attr("data-dropdown2-hide-location");if(D){var R=document.getElementById(D);if(!R)throw new Error("The specified data-dropdown2-hide-location id doesn't exist");j=e(R),H=void 0}var q=u.$menu||E.closest(".aui-dropdown2-trigger-group");if(N){var O=E.closest(".aui-dropdown2");T.addClass(O.attr("class")).addClass("aui-dropdown2-sub-menu")}var P={click:function(n){var i=e(this);f(i)&&(i.hasClass("interactive")||i.hasClass("aui-dropdown2-interactive")||p(),g(i)&&(m(i,{selectFirst:!1}),t(n)))},mousemove:function(){var t=e(this),n=y(t);n&&m(t,{selectFirst:!1})}},M={"click focusin mousedown":function(e){var t=e.target;(document!==t||"focusin"!==e.type)&&(i(t,T[0])||i(t,E[0])||p())},keydown:function(e){var i;if(e.shiftKey&&9==e.keyCode)w(-1);else switch(e.keyCode){case 13:i=v(),g(i)?m(i):n(i[0]);break;case 27:d();break;case 37:if(i=v(),g(i)){var o=r(i);if(o.is(":visible"))return void T.trigger("aui-dropdown2-step-out")}N?d():S(-1);break;case 38:w(-1);break;case 39:i=v(),g(i)?m(i):S(1);break;case 40:w(1);break;case 9:w(1);break;default:return}t(e)}};E.attr("aria-controls",E.attr("aria-owns")),T.find(".disabled,.aui-dropdown2-disabled").attr("aria-disabled","true"),T.find("li.hidden > a,li.aui-dropdown2-hidden > a").addClass("disabled aui-dropdown2-disabled").attr("aria-disabled","true"),l(T.find(".aui-dropdown2-checkbox"),"checkbox"),l(T.find(".aui-dropdown2-radio"),"radio"),c(),E.hasClass("toolbar-trigger")&&T.addClass("aui-dropdown2-in-toolbar"),E.parent().hasClass("aui-buttons")&&T.addClass("aui-dropdown2-in-buttons"),E.parents().hasClass("aui-header")&&T.addClass("aui-dropdown2-in-header"),T.trigger("aui-dropdown2-show",u),u.selectFirst&&b(),k("on");var I=null},mousedown:function(t){1===t.which&&e(this).bind(l)}},l={mouseleave:function(){o.bind(c)},"mouseup mouseleave":function(){e(this).unbind(l)}},c={mouseup:function(t){var i=e(t.target).closest(".aui-dropdown2 a, .aui-dropdown2-trigger")[0];i&&setTimeout(function(){n(i)},0)},"mouseup mouseleave":function(){e(this).unbind(c)}};o.delegate(".aui-dropdown2-trigger",s),o.delegate(".aui-dropdown2-trigger:not(.active):not(.aui-dropdown2-active):not([aria-disabled=true]),.aui-dropdown2-sub-trigger:not([aria-disabled=true])",u),o.delegate(".aui-dropdown2-checkbox:not(.disabled):not(.aui-dropdown2-disabled)","click",function(){var t=e(this);t.hasClass("checked")||t.hasClass("aui-dropdown2-checked")?(t.removeClass("checked aui-dropdown2-checked").attr("aria-checked","false"),t.trigger("aui-dropdown2-item-uncheck")):(t.addClass("checked aui-dropdown2-checked").attr("aria-checked","true"),t.trigger("aui-dropdown2-item-check"))}),o.delegate(".aui-dropdown2-radio:not(.checked):not(.aui-dropdown2-checked):not(.disabled):not(.aui-dropdown2-disabled)","click",function(){var t=e(this),n=t.closest("ul").find(".checked,.aui-dropdown2-checked");n.removeClass("checked aui-dropdown2-checked").attr("aria-checked","false").trigger("aui-dropdown2-item-uncheck"),t.addClass("checked aui-dropdown2-checked").attr("aria-checked","true").trigger("aui-dropdown2-item-check")}),o.delegate(".aui-dropdown2 a.disabled,.aui-dropdown2 a.aui-dropdown2-disabled","click",function(e){t(e)})}(AJS.$),AJS.inlineHelp=function(){AJS.$(".icon-inline-help").click(function(){var e=AJS.$(this).siblings(".field-help");e.hasClass("hidden")?e.removeClass("hidden"):e.addClass("hidden")})},function(e){function t(t){var n=e(t),i=e.extend({left:0,top:0},n.offset());return{left:i.left,top:i.top,width:n.outerWidth(),height:n.outerHeight()}}function n(e,t,n,i){var r=AJS.$.isFunction(i.offsetX)?i.offsetX(e,t,n,i):i.offsetX,o=AJS.$.isFunction(i.offsetY)?i.offsetY(e,t,n,i):i.offsetY,a=AJS.$.isFunction(i.arrowOffsetX)?i.arrowOffsetX(e,t,n,i):i.arrowOffsetX,s=AJS.$.isFunction(i.arrowOffsetY)?i.arrowOffsetY(e,t,n,i):i.arrowOffsetY,u="body"!==i.container.toLowerCase(),l=AJS.$(i.container),c=u?AJS.$(i.container).parent():AJS.$(window),d=u?l.offset():{left:0,top:0},p=u?c.offset():{left:0,top:0},h=t.target,f=h.offset(),g=h[0].getBBox&&h[0].getBBox();return{screenPadding:10,arrowMargin:5,window:{top:p.top,left:p.left,scrollTop:c.scrollTop(),scrollLeft:c.scrollLeft(),width:c.width(),height:c.height()},scrollContainer:{width:l.width(),height:l.height()},trigger:{top:f.top-d.top,left:f.left-d.left,width:g?g.width:h.outerWidth(),height:g?g.height:h.outerHeight()},dialog:{width:e.width(),height:e.height(),offset:{top:o,left:r}},arrow:{height:e.find(".arrow").outerHeight(),offset:{top:s,left:a}}}}function i(e,t,i,r){var o=n(e,t,i,r),a=o.screenPadding,s=o.window,u=o.trigger,l=o.dialog,c=o.arrow,d=o.scrollContainer,p={top:u.top-s.scrollTop,left:u.left-s.scrollLeft},h=Math.floor(u.height/2),f=Math.floor(l.height/2),g=Math.floor(c.height/2),m=p.left-l.offset.left-a,v=d.width-p.left-u.width-l.offset.left-a,y=m>=l.width,b=v>=l.width,w=!b&&y?"e":"w",x=p.top+h-g,S=s.height-x-c.height;a=Math.min(a,x-o.arrowMargin),a=Math.min(a,S-o.arrowMargin);var A,C,_=p.top+h,$=Math.max(_-a,0),k=Math.max(s.height-_-a,0),T=f-l.offset.top>$,E=f+l.offset.top>k;return T?(A={top:s.scrollTop+a,left:"w"===w?u.left+u.width+l.offset.left:u.left-l.width-l.offset.left},C={top:u.top+h-(A.top+g)}):E?(A={top:s.scrollTop+s.height-l.height-a,left:"w"===w?u.left+u.width+l.offset.left:u.left-l.width-l.offset.left},C={top:u.top+h-(A.top+g)}):(A={top:u.top+h-f+l.offset.top,left:"w"===w?u.left+u.width+l.offset.left:u.left-l.width-l.offset.left},C={top:f-g+c.offset.top}),{gravity:w,popupCss:A,arrowCss:C}}function r(e,n,i,r){var o=AJS.$.isFunction(r.offsetX)?r.offsetX(e,n,i,r):r.offsetX,a=AJS.$.isFunction(r.offsetY)?r.offsetY(e,n,i,r):r.offsetY,s=AJS.$.isFunction(r.arrowOffsetX)?r.arrowOffsetX(e,n,i,r):r.arrowOffsetX,u=(AJS.$.isFunction(r.arrowOffsetY)?r.arrowOffsetY(e,n,i,r):r.arrowOffsetY,t(window)),l=t(n.target),c=t(e),d=t(e.find(".aui-inline-dialog-arrow")),p=l.left+l.width/2,h=(window.pageYOffset||document.documentElement.scrollTop)+u.height,f=10;c.top=l.top+l.height+~~a,c.left=l.left+~~o;var g=u.width-(c.left+c.width+f);d.left=p-c.left+~~s,d.top=-(d.height/2);var m=l.top>c.height,v=c.top+c.height<h,y=!v&&m||m&&"s"===r.gravity;if(y&&(c.top=l.top-c.height-d.height/2,d.top=c.height),r.isRelativeToMouse)0>g?(c.right=f,c.left="auto",d.left=i.x-(u.width-c.width)):(c.left=i.x-20,d.left=i.x-c.left);else if(0>g){c.right=f,c.left="auto";var b=u.width-c.right,w=b-c.width;d.right="auto",d.left=p-w-d.width/2}else c.width<=l.width/2&&(d.left=c.width/2,c.left=p-c.width/2);return{gravity:y?"s":"n",displayAbove:y,popupCss:{left:c.left,top:c.top,right:c.right},arrowCss:{left:d.left,top:d.top,right:d.right}}}AJS.InlineDialog=function(t,n,i,r){if(r&&r.getArrowAttributes&&AJS.log("DEPRECATED: getArrowAttributes - See https://ecosystem.atlassian.net/browse/AUI-1362"),r&&r.getArrowPath&&(AJS.log("DEPRECATED: getArrowPath - See https://ecosystem.atlassian.net/browse/AUI-1362"),void 0!==r.gravity&&AJS.log("DEPRECATED: getArrowPath does not support gravity - See https://ecosystem.atlassian.net/browse/AUI-2197")),r&&void 0!==r.onTop&&(AJS.log("DEPRECATED: onTop has been replaced with gravity - See https://ecosystem.atlassian.net/browse/AUI-2197"),r.onTop&&void 0===r.gravity&&(r.gravity="s")),"undefined"==typeof n&&(n=String(Math.random()).replace(".",""),e("#inline-dialog-"+n+", #arrow-"+n+", #inline-dialog-shim-"+n).length))throw"GENERATED_IDENTIFIER_NOT_UNIQUE";var o=e.extend(!1,AJS.InlineDialog.opts,r);"w"===o.gravity&&(o.offsetX=void 0===r.offsetX?10:r.offsetX,o.offsetY=void 0===r.offsetY?0:r.offsetY);var a,s,u,l,c,d=function(){return window.Raphael&&r&&(r.getArrowPath||r.getArrowAttributes)},p=!1,h=!1,f=!1,g=e('<div id="inline-dialog-'+n+'" class="aui-inline-dialog"><div class="aui-inline-dialog-contents contents"></div><div id="arrow-'+n+'" class="aui-inline-dialog-arrow arrow"></div></div>'),m=e("#arrow-"+n,g),v=g.find(".contents");d()||g.find(".aui-inline-dialog-arrow").addClass("aui-css-arrow"),o.displayShadow||v.addClass("aui-inline-dialog-no-shadow"),o.autoWidth?v.addClass("aui-inline-dialog-auto-width"):v.width(o.width),v.mouseover(function(){clearTimeout(s),g.unbind("mouseover")}).mouseout(function(){w()});var y=function(){return a||(a={popup:g,hide:function(){w(0)},id:n,show:function(){b()},persistent:o.persistent?!0:!1,reset:function(){function t(t,i){if(t.css(i.popupCss),d()){"s"===i.gravity&&(i.arrowCss.top-=e.browser.msie?10:9),t.arrowCanvas||(t.arrowCanvas=Raphael("arrow-"+n,16,16));var r=o.getArrowPath,a=e.isFunction(r)?r(i):r;t.arrowCanvas.path(a).attr(o.getArrowAttributes())}else m.removeClass("aui-bottom-arrow aui-left-arrow aui-right-arrow"),"s"!==i.gravity||m.hasClass("aui-bottom-arrow")?"n"===i.gravity||("w"===i.gravity?m.addClass("aui-left-arrow"):"e"===i.gravity&&m.addClass("aui-right-arrow")):m.addClass("aui-bottom-arrow");m.css(i.arrowCss)}var i=AJS.$(window).height(),r=Math.round(.75*i);g.children(".aui-inline-dialog-contents").css("max-height",r);var a=o.calculatePositions(g,c,l,o);if(void 0!==a.displayAbove&&(AJS.log("DEPRECATED: displayAbove has been replaced with gravity - See https://ecosystem.atlassian.net/browse/AUI-2197"),a.gravity=a.displayAbove?"s":"n"),t(g,a),g.fadeIn(o.fadeTime,function(){}),e.browser.msie&&~~e.browser.version<10){var s=e("#inline-dialog-shim-"+n);s.length||e(g).prepend(e('<iframe class = "inline-dialog-shim" id="inline-dialog-shim-'+n+'" frameBorder="0" src="javascript:false;"></iframe>')),s.css({width:v.outerWidth(),height:v.outerHeight()})}}}),a},b=function(){g.is(":visible")||(u=setTimeout(function(){f&&h&&(o.addActiveClass&&e(t).addClass("active"),p=!0,o.persistent||k(),AJS.InlineDialog.current=y(),e(document).trigger("showLayer",["inlineDialog",y()]),y().reset())},o.showDelay))},w=function(n){"undefined"==typeof n&&o.persistent||(h=!1,p&&o.preHideCallback.call(g[0].popup)&&(n=null==n?o.hideDelay:n,clearTimeout(s),clearTimeout(u),null!=n&&(s=setTimeout(function(){T(),o.addActiveClass&&e(t).removeClass("active"),g.fadeOut(o.fadeTime,function(){o.hideCallback.call(g[0].popup)}),g.arrowCanvas&&(g.arrowCanvas.remove(),g.arrowCanvas=null),p=!1,h=!1,e(document).trigger("hideLayer",["inlineDialog",y()]),AJS.InlineDialog.current=null,o.cacheContent||(f=!1,S=!1)},n))))},x=function(t,r){var a=e(r);o.upfrontCallback.call({popup:g,hide:function(){w(0)},id:n,show:function(){b()}}),g.each(function(){"undefined"!=typeof this.popup&&this.popup.hide()}),o.closeOthers&&e(".aui-inline-dialog").each(function(){!this.popup.persistent&&this.popup.hide()}),c={target:a},l=t?{x:t.pageX,y:t.pageY}:{x:a.offset().left,y:a.offset().top},p||clearTimeout(u),h=!0;var d=function(){S=!1,f=!0,o.initCallback.call({popup:g,hide:function(){w(0)},id:n,show:function(){b()}}),b()};return S||(S=!0,e.isFunction(i)?i(v,r,d):e.get(i,function(e,t,i){v.html(o.responseHandler(e,t,i)),f=!0,o.initCallback.call({popup:g,hide:function(){w(0)},id:n,show:function(){b()}}),b()})),clearTimeout(s),p||b(),!1};g[0].popup=y();var S=!1,A=!1,C=function(){A||(e(o.container).append(g),A=!0)},_=e(t);o.onHover?o.useLiveEvents?_.selector?e(document).on("mousemove",_.selector,function(e){C(),x(e,this)}).on("mouseout",_.selector,function(){w()}):AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled."):_.mousemove(function(e){C(),x(e,this)}).mouseout(function(){w()}):o.noBind||(o.useLiveEvents?_.selector?e(document).on("click",_.selector,function(e){return C(),$()?g.hide():x(e,this),!1}).on("mouseout",_.selector,function(){w()}):AJS.log("Warning: inline dialog trigger elements must have a jQuery selector when the useLiveEvents option is enabled."):_.click(function(e){return C(),$()?g.hide():x(e,this),!1}).mouseout(function(){w()}));var $=function(){return p&&o.closeOnTriggerClick},k=function(){j(),R()},T=function(){H(),q()},E=!1,N=n+".inline-dialog-check",j=function(){E||(e("body").bind("click."+N,function(t){var i=e(t.target);0===i.closest("#inline-dialog-"+n+" .contents").length&&w(0)}),E=!0)},H=function(){E&&e("body").unbind("click."+N),E=!1},D=function(e){27===e.keyCode&&w(0)},R=function(){e(document).on("keydown",D)},q=function(){e(document).off("keydown",D)};return g.show=function(e,n){e&&e.stopPropagation(),C(),!o.noBind||t&&t.length?x(e,t):x(e,void 0===n?e.target:n)},g.hide=function(){w(0)},g.refresh=function(){p&&y().reset()},g.getOptions=function(){return o},g},AJS.InlineDialog.opts={onTop:!1,responseHandler:function(e){return e},closeOthers:!0,isRelativeToMouse:!1,addActiveClass:!0,onHover:!1,useLiveEvents:!1,noBind:!1,fadeTime:100,persistent:!1,hideDelay:1e4,showDelay:0,width:300,offsetX:0,offsetY:10,arrowOffsetX:0,arrowOffsetY:0,container:"body",cacheContent:!0,displayShadow:!0,autoWidth:!1,gravity:"n",closeOnTriggerClick:!1,preHideCallback:function(){return!0},hideCallback:function(){},initCallback:function(){},upfrontCallback:function(){},calculatePositions:function(e,t,n,o){o=o||{};var a="w"===o.gravity?i:r;return a(e,t,n,o)},getArrowPath:function(e){return"s"===e.gravity?"M0,8L8,16,16,8":"M0,8L8,0,16,8"},getArrowAttributes:function(){return{fill:"#fff",stroke:"#ccc"}}}}(AJS.$),AJS.template=function(e){var t=/\{([^\}]+)\}/g,n=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=/([^\\])'/g,r=function(e,t,i,r){var o=i;return t.replace(n,function(e,t,n,i,a){t=t||i,o&&(t+":html"in o?(o=o[t+":html"],r=!0):t in o&&(o=o[t]),a&&"function"==typeof o&&(o=o()))}),(null==o||o==i)&&(o=e),o=String(o),r||(o=u.escape(o)),o},o=function(e){return this.template=this.template.replace(t,function(t,n){return r(t,n,e,!0)}),this},a=function(e){return this.template=this.template.replace(t,function(t,n){return r(t,n,e)}),this},s=function(){return this.template},u=function(e){function t(){return t.template}return t.template=String(e),t.toString=t.valueOf=s,t.fill=a,t.fillHtml=o,t},l={},c=[];return u.load=function(t){return t=String(t),l.hasOwnProperty(t)||(c.length>=1e3&&delete l[c.shift()],c.push(t),l[t]=e("script[title='"+t.replace(i,"$1\\'")+"']")[0].text),this(l[t])},u.escape=AJS.escapeHtml,u}(AJS.$),function(){var e=500,t=5e3,n=100;AJS.messages={setup:function(){AJS.messages.createMessage("generic"),AJS.messages.createMessage("error"),AJS.messages.createMessage("warning"),AJS.messages.createMessage("info"),AJS.messages.createMessage("success"),AJS.messages.createMessage("hint"),AJS.messages.makeCloseable(),AJS.messages.makeFadeout()},makeCloseable:function(e){AJS.$(e||"div.aui-message.closeable").each(function(){var e=AJS.$(this),t=AJS.$('<span class="aui-icon icon-close" role="button" tabindex="0"></span>').click(function(){e.closeMessage()}).keypress(function(t){(t.which===AJS.keyCode.ENTER||t.which===AJS.keyCode.SPACE)&&(e.closeMessage(),t.preventDefault())});e.append(t)})},makeFadeout:function(i,r,o){r="undefined"!=typeof r?r:t,o="undefined"!=typeof o?o:e,AJS.$(i||"div.aui-message.fadeout").each(function(){function e(){a.stop(!0,!1).delay(r).fadeOut(o,function(){a.closeMessage()})}function t(){a.stop(!0,!1).fadeTo(n,1)}function i(){return!s&&!u}var a=AJS.$(this),s=!1,u=!1;a.focusin(function(){s=!0,t()}).focusout(function(){s=!1,i()&&e()}).hover(function(){u=!0,t()},function(){u=!1,i()&&e()}),e()})},template:'<div class="aui-message aui-message-{type} {type} {closeable} {shadowed} {fadeout}"><p class="title"><strong>{title}</strong></p>{body}<!-- .aui-message --></div>',createMessage:function(e){AJS.messages[e]=function(t,n){var i,r,o=this.template;return n||(n=t,t="#aui-message-bar"),n.closeable=n.closeable!==!1,n.shadowed=n.shadowed!==!1,i=AJS.$(AJS.template(o).fill({type:e,closeable:n.closeable?"closeable":"",shadowed:n.shadowed?"shadowed":"",fadeout:n.fadeout?"fadeout":"",title:n.title||"","body:html":n.body||""}).toString()),n.id&&(/[#\'\"\.\s]/g.test(n.id)?AJS.log("AJS.Messages error: ID rejected, must not include spaces, hashes, dots or quotes."):i.attr("id",n.id)),r=n.insert||"append","prepend"===r?i.prependTo(t):i.appendTo(t),n.closeable&&AJS.messages.makeCloseable(i),n.fadeout&&AJS.messages.makeFadeout(i,n.delay,n.duration),i}}},AJS.$.fn.closeMessage=function(){var e=AJS.$(this);e.hasClass("aui-message","closeable")&&(e.stop(!0),e.trigger("messageClose",[this]).remove(),AJS.$(document).trigger("aui-message-close",[this]))},AJS.$(function(){AJS.messages.setup()})}(),function(e){function t(){var t=e(this);AJS._addID(t),t.attr("role","tab");var n=t.attr("href");e(n).attr("aria-labelledby",t.attr("id")),t.parent().hasClass(c)?t.attr(p,"true"):t.attr(p,"false")}function n(t,n){var i=e(t),r=i.parent(),o=i.find(".tabs-menu").first(),a=o.find("li:not(.aui-tabs-responsive-trigger-item)"),s=o.find(".aui-tabs-responsive-trigger").parent(),l=s.find("a"),c=l.attr("aria-owns"),d=e(document).find("#"+c).attr("aria-checked",!1),p=d.length>0,h=v.totalTabsWidth(a,d),f=h>r.outerWidth();if(!p&&f&&(s=v.createResponsiveDropdownTrigger(o,n),d=v.createResponsiveDropdown(i,n)),l.attr("aria-owns","aui-tabs-responsive-dropdown-"+n),l.attr("id","aui-tabs-responsive-trigger-"+n),l.attr("href","aui-tabs-responsive-trigger-"+n),d.attr("id","aui-tabs-responsive-dropdown-"+n),f){var g=v.processVisibleTabs(a.toArray(),r,s),m=v.totalVisibleTabWidth(g),y=r.outerWidth()-m-s.outerWidth(!0),b=y>0;if(b){var w=d.find("li");v.processInvisibleTabs(w.toArray(),y,s)}d.on("click","a",u)}p&&!f&&(d.find("li").each(function(){v.moveTabOutOfDropdown(e(this),s)}),v.removeResponsiveDropdown(d,s))}function i(t){if(!t.hasClass("aui-tabs-responsive-trigger")){var n=e(t.attr("href").match(l)[0]);n.addClass(d).attr(h,"false").siblings(".tabs-pane").removeClass(d).attr(h,"true");var i=t.parents(".aui-tabs").find(".aui-tabs-responsive-trigger-item a"),r=i.attr("aria-owns"),o=e(document).find("#"+r);o.find("li a").attr("aria-checked",!1).removeClass("checked aui-dropdown2-checked"),o.find("li").removeClass("active-tab")}if(t.parent("li.menu-item").addClass(c).siblings(".menu-item").removeClass(c),t.hasClass("aui-tabs-responsive-item")){var a=n.parent(".aui-tabs").find("li.menu-item:not(.aui-tabs-responsive-trigger-item)");a.removeClass(c),a.find("a").removeClass("checked").removeAttr("aria-checked")}t.closest(".tabs-menu").find("a").attr(p,"false"),t.attr(p,"true"),t.trigger("tabSelect",{tab:t,pane:n})}function r(e){return void 0!==e.attr(f)&&"false"!==e.attr(f)}function o(e){var t=e.attr("id"),n=e.attr(f);return g+(t?t:"")+(n&&"true"!==n?"-"+n:"")}function a(e){for(var t=0,n=e.length;n>t;t++){var a=e.eq(t);if(r(a)&&window.localStorage){var s=a.attr("id");if(s){var u=window.localStorage.getItem(o(a));if(u){var l=a.find("#"+u);l.length&&i(l)}}else AJS.warn("A tab group must specify an id attribute if it specifies data-aui-persist")}}}function s(e){var t=e.closest(".aui-tabs"),n=t.attr("id");if(n){var i=e.attr("id");i&&window.localStorage.setItem(o(t),i)}else AJS.warn("A tab group must specify an id attribute if it specifies data-aui-persist")}function u(t){AJS.tabs.change(e(this),t),t&&t.preventDefault()}var l=/#.*/,c="active-tab",d="active-pane",p="aria-selected",h="aria-hidden",f="data-aui-persist",g="_internal-aui-tabs-",m=".aui-tabs.horizontal-tabs[data-aui-responsive]:not([data-aui-responsive='false'])",v={totalTabsWidth:function(e,t){var n=this.totalVisibleTabWidth(e),i=0;return t.find("li").each(function(e,t){i+=parseInt(t.getAttribute("data-aui-tab-width"))}),n+i},totalVisibleTabWidth:function(t){var n=0;return t.each(function(t,i){n+=e(i).outerWidth()}),n},removeResponsiveDropdown:function(e,t){e.remove(),t.remove()},createResponsiveDropdownTrigger:function(e,t){var n='<li class="menu-item aui-tabs-responsive-trigger-item"><a class="aui-dropdown2-trigger aui-tabs-responsive-trigger" id="aui-tabs-responsive-trigger-'+t+'" aria-haspopup="true" aria-owns="aui-tabs-responsive-dropdown-'+t+'" href="aui-tabs-responsive-dropdown-'+t+'">...</a></li>';e.append(n);var i=e.find(".aui-tabs-responsive-trigger-item");return i},createResponsiveDropdown:function(e,t){var n='<div class="aui-dropdown2 aui-style-default aui-tabs-responsive-dropdown" id="aui-tabs-responsive-dropdown-'+t+'"><ul></ul></div>';e.append(n);var i=e.find("#aui-tabs-responsive-dropdown-"+t);return i},findNewVisibleTabs:function(t,n,i){function r(e,t,n){return n>=e+t}for(var o=0,a=0;r(o,i,n)&&a<t.length;a++){var s=e(t[a]),u=s.outerWidth(!0);o+=u}return t.slice(0,a-1)},processVisibleTabs:function(t,n,i){for(var r=i.find("a").attr("aria-owns"),o=e("#"+r),a=this.findNewVisibleTabs(t,n.outerWidth(),i.parent().outerWidth(!0)),s=a.length-1,u=t.length-1;u>=s;u--){var l=e(t[u]);this.moveTabToResponsiveDropdown(l,o,i)}return e(a)},moveTabToResponsiveDropdown:function(e,t,n){var i=e.find("a");e.attr("data-aui-tab-width",e.outerWidth(!0)),i.addClass("aui-dropdown2-radio aui-tabs-responsive-item"),e.hasClass("active-tab")&&(i.addClass("aui-dropdown2-checked"),n.addClass("active-tab")),t.find("ul").prepend(e)},processInvisibleTabs:function(t,n,i){function r(e){return e>0}for(var o=0;r(n)&&o<t.length;o++){var a=e(t[o]),s=parseInt(a.attr("data-aui-tab-width"),10),u=n>s;u&&this.moveTabOutOfDropdown(a,i),n-=s}},moveTabOutOfDropdown:function(e,t){var n=e.find("a").hasClass("aui-dropdown2-checked");n&&(e.addClass("active-tab"),t.removeClass("active-tab")),e.children("a").removeClass("aui-dropdown2-radio aui-tabs-responsive-item aui-dropdown2-checked"),t.before(e)}};AJS.tabs={setup:function(){function i(e){e.forEach(function(e){n(e,l)})}var r=e(".aui-tabs:not(.aui-tabs-disabled)"),o=e(m).toArray();i(o);var s=AJS.debounce(i,200);e(window).resize(function(){s(o)}),r.attr("role","application"),r.find(".tabs-pane").each(function(){var t=e(this);t.attr("role","tabpanel"),t.hasClass(d)?t.attr(h,"false"):t.attr(h,"true")});for(var l=0,c=r.length;c>l;l++){var p=r.eq(l);if(!p.data("aui-tab-events-bound")){var f=p.children("ul.tabs-menu");f.attr("role","tablist"),f.children("li").attr("role","presentation"),f.find("> .menu-item a").each(t),f.delegate("a","click",u),p.data("aui-tab-events-bound",!0)}}a(r),e(".aui-tabs.vertical-tabs").find("a").each(function(){var t=e(this);t.attr("title")||AJS.isClipped(t)&&t.attr("title",t.text())})},change:function(e){i(e);var t=e.closest(".aui-tabs");r(t)&&window.localStorage&&s(e)}},e(AJS.tabs.setup)}(AJS.$),function(){var _after=1,_afterThrow=2,_afterFinally=3,_before=4,_around=5,_intro=6,_regexEnabled=!0,_arguments="arguments",_undef="undefined",getType=function(){for(var e=Object.prototype.toString,t={},n={1:"element",3:"textnode",9:"document",11:"fragment"},i="Arguments Array Boolean Date Document Element Error Fragment Function NodeList Null Number Object RegExp String TextNode Undefined Window".split(" "),r=i.length;r--;){var o=i[r],a=window[o];if(a)try{t[e.call(new a)]=o.toLowerCase()}catch(s){}}return function(i){return null==i&&(void 0===i?_undef:"null")||i.nodeType&&n[i.nodeType]||"number"==typeof i.length&&(i.callee&&_arguments||i.alert&&"window"||i.item&&"nodelist")||t[e.call(i)]}}(),isFunc=function(e){return"function"==getType(e)},weaveOne=function(source,method,advice){var old=source[method];if(advice.type!=_intro&&!isFunc(old)){var oldObject=old;old=function(){for(var code=arguments.length>0?_arguments+"[0]":"",i=1;i<arguments.length;i++)code+=","+_arguments+"["+i+"]";return eval("oldObject("+code+");")}}var aspect;return advice.type==_after||advice.type==_afterThrow||advice.type==_afterFinally?aspect=function(){var e,t=null;try{e=old.apply(this,arguments)}catch(n){t=n}if(advice.type==_after){if(null!=t)throw t;e=advice.value.apply(this,[e,method])}else advice.type==_afterThrow&&null!=t?e=advice.value.apply(this,[t,method]):advice.type==_afterFinally&&(e=advice.value.apply(this,[e,t,method]));return e}:advice.type==_before?aspect=function(){return advice.value.apply(this,[arguments,method]),old.apply(this,arguments)}:advice.type==_intro?aspect=function(){return advice.value.apply(this,arguments)}:advice.type==_around&&(aspect=function(){var e={object:this,args:Array.prototype.slice.call(arguments)};return advice.value.apply(e.object,[{arguments:e.args,method:method,proceed:function(){return old.apply(e.object,e.args)}}])}),aspect.unweave=function(){source[method]=old,pointcut=source=aspect=old=null},source[method]=aspect,aspect},search=function(e,t,n){var i=[];for(var r in e){var o=null;try{o=e[r]}catch(a){}null!=o&&r.match(t.method)&&isFunc(o)&&(i[i.length]={source:e,method:r,advice:n})}return i},weave=function(e,t){var n=typeof e.target.prototype!=_undef?e.target.prototype:e.target,i=[];if(t.type!=_intro&&typeof n[e.method]==_undef){var r=search(e.target,e,t);0==r.length&&(r=search(n,e,t));for(var o in r)i[i.length]=weaveOne(r[o].source,r[o].method,r[o].advice)}else i[0]=weaveOne(n,e.method,t);return _regexEnabled?i:i[0]};jQuery.aop={after:function(e,t){return weave(e,{type:_after,value:t})},afterThrow:function(e,t){return weave(e,{type:_afterThrow,value:t})},afterFinally:function(e,t){return weave(e,{type:_afterFinally,value:t})},before:function(e,t){return weave(e,{type:_before,value:t})},around:function(e,t){return weave(e,{type:_around,value:t})},introduction:function(e,t){return weave(e,{type:_intro,value:t})},setup:function(e){_regexEnabled=e.regexMatch}}}(),AJS.dropDown=function(e,t){var n=null,i=[],r=!1,o=AJS.$(document),a={item:"li:has(a)",activeClass:"active",alignment:"right",displayHandler:function(e){return e.name},escapeHandler:function(){return this.hide("escape"),!1},hideHandler:function(){},moveHandler:function(){},useDisabled:!1};if(AJS.$.extend(a,t),a.alignment={left:"left",right:"right"}[a.alignment.toLowerCase()]||"left",e&&e.jquery)n=e;else if("string"==typeof e)n=AJS.$(e);else{if(!e||e.constructor!=Array)throw new Error("AJS.dropDown function was called with illegal parameter. Should be AJS.$ object, AJS.$ selector or array.");n=AJS("div").addClass("aui-dropdown").toggleClass("hidden",!!a.isHiddenByDefault);for(var s=0,u=e.length;u>s;s++){for(var l=AJS("ol"),c=0,d=e[s].length;d>c;c++){var p=AJS("li"),h=e[s][c];h.href?(p.append(AJS("a").html("<span>"+a.displayHandler(h)+"</span>").attr({href:h.href}).addClass(h.className)),AJS.$.data(AJS.$("a > span",p)[0],"properties",h)):p.html(h.html).addClass(h.className),h.icon&&p.prepend(AJS("img").attr("src",h.icon)),h.insideSpanIcon&&p.children("a").prepend(AJS("span").attr("class","icon")),AJS.$.data(p[0],"properties",h),l.append(p)
}s==u-1&&l.addClass("last"),n.append(l)}AJS.$("body").append(n)}var f=function(){m(1)},g=function(){m(-1)},m=function(e){var t=!r,n=AJS.dropDown.current.$[0],i=AJS.dropDown.current.links,o=n.focused;if(r=!0,0!==i.length){if(n.focused="number"==typeof o?o:-1,!AJS.dropDown.current)return AJS.log("move - not current, aborting"),!0;n.focused+=e,n.focused<0?n.focused=i.length-1:n.focused>=i.length&&(n.focused=0),a.moveHandler(AJS.$(i[n.focused]),0>e?"up":"down"),t&&i.length?(AJS.$(i[n.focused]).addClass(a.activeClass),r=!1):i.length||(r=!1)}},v=function(e){if(!AJS.dropDown.current)return!0;var t=e.which,n=AJS.dropDown.current.$[0],i=AJS.dropDown.current.links;switch(AJS.dropDown.current.cleanActive(),t){case 40:f();break;case 38:g();break;case 27:return a.escapeHandler.call(AJS.dropDown.current,e);case 13:return n.focused>=0?a.selectionHandler?a.selectionHandler.call(AJS.dropDown.current,e,AJS.$(i[n.focused])):"a"!=AJS.$(i[n.focused]).attr("nodeName")?AJS.$("a",i[n.focused]).trigger("focus"):AJS.$(i[n.focused]).trigger("focus"):!0;default:return i.length&&AJS.$(i[n.focused]).addClass(a.activeClass),!0}return e.stopPropagation(),e.preventDefault(),!1},y=function(e){e&&e.which&&3==e.which||e&&e.button&&2==e.button||AJS.dropDown.current&&AJS.dropDown.current.hide("click")},b=function(e){return function(){AJS.dropDown.current&&(AJS.dropDown.current.cleanFocus(),this.originalClass=this.className,AJS.$(this).addClass(a.activeClass),AJS.dropDown.current.$[0].focused=e)}},w=function(e){return e.button||e.metaKey||e.ctrlKey||e.shiftKey?!0:void(AJS.dropDown.current&&a.selectionHandler&&a.selectionHandler.call(AJS.dropDown.current,e,AJS.$(this)))},x=function(e){var t=!1;return e.data("events")&&AJS.$.each(e.data("events"),function(e,n){AJS.$.each(n,function(e,n){return w===n?(t=!0,!1):void 0})}),t};return n.each(function(){var e=this,t=AJS.$(this),n={},r={reset:function(){n=AJS.$.extend(n,{$:t,links:AJS.$(a.item||"li:has(a)",e),cleanActive:function(){e.focused+1&&n.links.length&&AJS.$(n.links[e.focused]).removeClass(a.activeClass)},cleanFocus:function(){n.cleanActive(),e.focused=-1},moveDown:f,moveUp:g,moveFocus:v,getFocusIndex:function(){return"number"==typeof e.focused?e.focused:-1}}),n.links.each(function(e){var t=AJS.$(this);x(t)||(t.hover(b(e),n.cleanFocus),t.click(w))})},appear:function(e){e?(t.removeClass("hidden"),t.addClass("aui-dropdown-"+a.alignment)):t.addClass("hidden")},fade:function(e){e?t.fadeIn("fast"):t.fadeOut("fast")},scroll:function(e){e?t.slideDown("fast"):t.slideUp("fast")}};n.reset=r.reset,n.reset(),n.addControlProcess=function(e,t){AJS.$.aop.around({target:this,method:e},t)},n.addCallback=function(e,t){return AJS.$.aop.after({target:this,method:e},t)},n.show=function(t){a.useDisabled&&this.$.closest(".aui-dd-parent").hasClass("disabled")||(this.alignment=a.alignment,y(),AJS.dropDown.current=this,this.method=t||this.method||"appear",this.timer=setTimeout(function(){o.click(y)},0),o.keydown(v),a.firstSelected&&this.links[0]&&b(0).call(this.links[0]),AJS.$(e.offsetParent).css({zIndex:2e3}),r[this.method](!0),AJS.$(document).trigger("showLayer",["dropdown",AJS.dropDown.current]))},n.hide=function(e){return this.method=this.method||"appear",AJS.$(t.get(0).offsetParent).css({zIndex:""}),this.cleanFocus(),r[this.method](!1),o.unbind("click",y).unbind("keydown",v),AJS.$(document).trigger("hideLayer",["dropdown",AJS.dropDown.current]),AJS.dropDown.current=null,e},n.addCallback("reset",function(){a.firstSelected&&this.links[0]&&b(0).call(this.links[0])}),AJS.dropDown.iframes||(AJS.dropDown.iframes=[]),AJS.dropDown.createShims=function(){return AJS.$("iframe").each(function(){var e=this;e.shim||(e.shim=AJS.$("<div />").addClass("shim hidden").appendTo("body"),AJS.dropDown.iframes.push(e))}),arguments.callee}(),n.addCallback("show",function(){AJS.$(AJS.dropDown.iframes).each(function(){var e=AJS.$(this);if(e.is(":visible")){var t=e.offset();t.height=e.height(),t.width=e.width(),this.shim.css({left:t.left+"px",top:t.top+"px",height:t.height+"px",width:t.width+"px"}).removeClass("hidden")}})}),n.addCallback("hide",function(){AJS.$(AJS.dropDown.iframes).each(function(){this.shim.addClass("hidden")}),a.hideHandler()}),i.push(n)}),i},AJS.dropDown.getAdditionalPropertyValue=function(e,t){var n=e[0];n&&"string"==typeof n.tagName&&"li"==n.tagName.toLowerCase()||AJS.log("AJS.dropDown.getAdditionalPropertyValue : item passed in should be an LI element wrapped by jQuery");var i=AJS.$.data(n,"properties");return i?i[t]:null},AJS.dropDown.removeAllAdditionalProperties=function(){},AJS.dropDown.Standard=function(e){var t,n=[],i={selector:".aui-dd-parent",dropDown:".aui-dropdown",trigger:".aui-dd-trigger"};AJS.$.extend(i,e);var r=function(e,t,n,r){AJS.$.extend(r,{trigger:e}),t.addClass("dd-allocated"),n.addClass("hidden"),0==i.isHiddenByDefault&&r.show(),r.addCallback("show",function(){t.addClass("active")}),r.addCallback("hide",function(){t.removeClass("active")})},o=function(e,t,n,i){i!=AJS.dropDown.current&&(n.css({top:t.outerHeight()}),i.show(),e.stopImmediatePropagation()),e.preventDefault()};if(i.useLiveEvents){var a=[],s=[];AJS.$(i.trigger).live("click",function(e){var t,n,u,l,c=AJS.$(this);if((l=AJS.$.inArray(this,a))>=0){var d=s[l];t=d.parent,n=d.dropdown,u=d.ddcontrol}else{if(t=c.closest(i.selector),n=t.find(i.dropDown),0===n.length)return;if(u=AJS.dropDown(n,i)[0],!u)return;a.push(this),d={parent:t,dropdown:n,ddcontrol:u},r(c,t,n,u),s.push(d)}o(e,c,n,u)})}else t=this instanceof AJS.$?this:AJS.$(i.selector),t=t.not(".dd-allocated").filter(":has("+i.dropDown+")").filter(":has("+i.trigger+")"),t.each(function(){var e=AJS.$(this),t=AJS.$(i.dropDown,this),a=AJS.$(i.trigger,this),s=AJS.dropDown(t,i)[0];AJS.$.extend(s,{trigger:a}),r(a,e,t,s),a.click(function(e){o(e,a,t,s)}),n.push(s)});return n},AJS.dropDown.Ajax=function(e){var t,n={cache:!0};return AJS.$.extend(n,e||{}),t=AJS.dropDown.Standard.call(this,n),AJS.$(t).each(function(){var e=this;AJS.$.extend(e,{getAjaxOptions:function(t){var i=function(t){n.formatResults&&(t=n.formatResults(t)),n.cache&&e.cache.set(e.getAjaxOptions(),t),e.refreshSuccess(t)};return n.ajaxOptions?AJS.$.isFunction(n.ajaxOptions)?AJS.$.extend(n.ajaxOptions.call(e),{success:i}):AJS.$.extend(n.ajaxOptions,{success:i}):AJS.$.extend(t,{success:i})},refreshSuccess:function(e){this.$.html(e)},cache:function(){var e={};return{get:function(t){var n=t.data||"";return e[(t.url+n).replace(/[\?\&]/gi,"")]},set:function(t,n){var i=t.data||"";e[(t.url+i).replace(/[\?\&]/gi,"")]=n},reset:function(){e={}}}}(),show:function(t){return function(){n.cache&&e.cache.get(e.getAjaxOptions())?(e.refreshSuccess(e.cache.get(e.getAjaxOptions())),t.call(e)):(AJS.$(AJS.$.ajax(e.getAjaxOptions())).throbber({target:e.$,end:function(){e.reset()}}),t.call(e),e.iframeShim&&e.iframeShim.hide())}}(e.show),resetCache:function(){e.cache.reset()}}),e.addCallback("refreshSuccess",function(){e.reset()})}),t},AJS.$.fn.dropDown=function(e,t){return e=(e||"Standard").replace(/^([a-z])/,function(e){return e.toUpperCase()}),AJS.dropDown[e].call(this,t)},function(e){function t(e){this.num=0,this.timer=e>0?e:!1}function n(n){if(e.isPlainObject(n.data)||e.isArray(n.data)||"string"==typeof n.data){var r=n.handler,o={timer:700};!function(t){"string"==typeof t?o.combo=[t]:e.isArray(t)?o.combo=t:e.extend(o,t),o.combo=e.map(o.combo,function(e){return e.toLowerCase()})}(n.data),n.index=new t(o.timer),n.handler=function(t){if(this===t.target||!/textarea|select|input/i.test(t.target.nodeName)){var a="keypress"!==t.type?e.hotkeys.specialKeys[t.which]:null,s=String.fromCharCode(t.which).toLowerCase(),u="",l={};t.altKey&&"alt"!==a&&(u+="alt+"),t.ctrlKey&&"ctrl"!==a&&(u+="ctrl+"),t.metaKey&&!t.ctrlKey&&"meta"!==a&&(u+="meta+"),t.shiftKey&&"shift"!==a&&(u+="shift+"),t.metaKey&&"["===s&&(s=null),a&&(l[u+a]=!0),s&&(l[u+s]=!0),/shift+/.test(u)&&(l[u.replace("shift+","")+e.hotkeys.shiftNums[a||s]]=!0);var c=n.index,d=o.combo;if(i(d[c.val()],l)){if(c.val()===d.length-1)return c.reset(),r.apply(this,arguments);c.inc()}else c.reset(),i(d[0],l)&&c.inc()}}}}function i(e,t){for(var n=e.split(" "),i=0,r=n.length;r>i;i++)if(t[n[i]])return!0;return!1}e.hotkeys={version:"0.8",specialKeys:{8:"backspace",9:"tab",13:"return",16:"shift",17:"ctrl",18:"alt",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",91:"meta",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",188:",",190:".",191:"/",224:"meta",219:"[",221:"]"},keypressKeys:["<",">","?"],shiftNums:{"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}},e.each(e.hotkeys.keypressKeys,function(t,n){e.hotkeys.shiftNums[n]=n}),t.prototype.val=function(){return this.num},t.prototype.inc=function(){this.timer&&(clearTimeout(this.timeout),this.timeout=setTimeout(e.proxy(t.prototype.reset,this),this.timer)),this.num++},t.prototype.reset=function(){this.timer&&clearTimeout(this.timeout),this.num=0},e.each(["keydown","keyup","keypress"],function(){e.event.special[this]={add:n}})}(jQuery),function(e,t){var n=-1!==navigator.platform.indexOf("Mac"),i=/^(backspace|tab|r(ight|eturn)|s(hift|pace|croll)|c(trl|apslock)|alt|pa(use|ge(up|down))|e(sc|nd)|home|left|up|d(el|own)|insert|f\d\d?|numlock|meta)/i;e.whenIType=function(r){function o(e){!AJS.popup.current&&g&&g.fire(e)}function a(e){e.preventDefault()}function s(e){var n=e&&e.split?t.trim(e).split(" "):[e];n.forEach(function(e){l(e)})}function u(e){for(var t=e.length;t--;)if(e[t].length>1&&"space"!==e[t])return!0;return!1}function l(e){var n=e instanceof Array?e:c(e.toString()),i=u(n)?"keydown":"keypress";f.push(n),t(document).bind(i,n,o),t(document).bind(i+" keyup",n,a)}function c(e){for(var t=[],n="";e.length;){var r=e.match(/^(ctrl|meta|shift|alt)\+/i),o=e.match(i);r?(n+=r[0],e=e.substring(r[0].length)):o?(t.push(n+o[0]),e=e.substring(o[0].length),n=""):(t.push(n+e[0]),e=e.substring(1),n="")}return t}function d(e){for(var i=t(e),r=i.attr("title")||"",o=f.slice(),a=i.data("kbShortcutAppended")||"",s=!a,u=s?r:r.substring(0,r.length-a.length);o.length;)a=h(o.shift().slice(),a,s),s=!1;n&&(a=a.replace(/Meta/gi,"⌘").replace(/Shift/gi,"⇧")),i.attr("title",u+a),i.data("kbShortcutAppended",a)}function p(e){var n=t(e),i=n.data("kbShortcutAppended");if(i){var r=n.attr("title");n.attr("title",r.replace(i,"")),n.removeData("kbShortcutAppended")}}function h(e,t,n){return n?t+=" ("+AJS.I18n.getText("aui.keyboard.shortcut.type.x",e.shift()):(t=t.replace(/\)$/,""),t+=AJS.I18n.getText("aui.keyboard.shortcut.or.x",e.shift())),e.forEach(function(e){t+=" "+AJS.I18n.getText("aui.keyboard.shortcut.then.x",e)}),t+=")"}var f=[],g=t.Callbacks();return s(r),e.whenIType.makeShortcut({executor:g,bindKeys:s,addShortcutsToTitle:d,removeShortcutsFromTitle:p,keypressHandler:o,defaultPreventionHandler:a})},e.whenIType.makeShortcut=function(e){function n(e){return function(n,r){r=r||{};var o=r.focusedClass||"focused",a=r.hasOwnProperty("wrapAround")?r.wrapAround:!0,s=r.hasOwnProperty("escToCancel")?r.escToCancel:!0;return i.add(function(){var i=t(n),r=i.filter("."+o),u=0===r.length?void 0:{transition:!0};s&&t(document).one("keydown",function(e){e.keyCode===AJS.keyCode.ESCAPE&&r&&r.removeClass(o)}),r.length&&r.removeClass(o),r=e(r,i,a),r&&r.length>0&&(r.addClass(o),r.moveTo(u),r.is("a")?r.focus():r.find("a:first").focus())}),this}}var i=e.executor,r=e.bindKeys,o=e.addShortcutsToTitle,a=e.removeShortcutsFromTitle,s=e.keypressHandler,u=e.defaultPreventionHandler,l=[];return{moveToNextItem:n(function(e,n,i){var r;return i&&0===e.length?n.eq(0):(r=t.inArray(e.get(0),n),r<n.length-1?(r+=1,n.eq(r)):i?n.eq(0):e)}),moveToPrevItem:n(function(e,n,i){var r;return i&&0===e.length?n.filter(":last"):(r=t.inArray(e.get(0),n),r>0?(r-=1,n.eq(r)):i?n.filter(":last"):e)}),click:function(e){return l.push(e),o(e),i.add(function(){var n=t(e);n.length>0&&n.click()}),this},goTo:function(e){return i.add(function(){window.location.href=e}),this},followLink:function(e){return l.push(e),o(e),i.add(function(){var n=t(e)[0];n&&{a:!0,link:!0}[n.nodeName.toLowerCase()]&&(window.location.href=n.href)}),this},execute:function(e){var t=this;return i.add(function(){e.apply(t,arguments)}),this},evaluate:function(e){e.call(this)},moveToAndClick:function(e){return l.push(e),o(e),i.add(function(){var n=t(e);n.length>0&&(n.click(),n.moveTo())}),this},moveToAndFocus:function(e){return l.push(e),o(e),i.add(function(t){var n=AJS.$(e);n.length>0&&(n.focus(),n.moveTo&&n.moveTo(),n.is(":input")&&t.preventDefault())}),this},or:function(e){return r(e),this},unbind:function(){t(document).unbind("keydown keypress",s).unbind("keydown keypress keyup",u);for(var e=0,n=l.length;n>e;e++)a(l[e]);l=[]}}},e.whenIType.fromJSON=function(e,i){var r=[];return e&&t.each(e,function(e,o){var a,s=o.op,u=o.param;if("execute"===s||"evaluate"===s)a=[new Function(u)];else if(/^\[[^\]\[]*,[^\]\[]*\]$/.test(u)){try{a=JSON.parse(u)}catch(l){AJS.error("When using a parameter array, array must be in strict JSON format: "+u)}t.isArray(a)||AJS.error("Badly formatted shortcut parameter. String or JSON Array of parameters required: "+u)}else a=[u];t.each(o.keys,function(){var e=this;i&&n&&(e=e.replace(/ctrl/i,"meta"));var t=AJS.whenIType(e);t[s].apply(t,a),r.push(t)})}),r},t(document).bind("iframeAppended",function(e,n){t(n).load(function(){var e=t(n).contents();e.bind("keyup keydown keypress",function(e){t.browser.safari&&"keypress"===e.type||t(e.target).is(":input")||t.event.trigger(e,arguments,document,!0)})})})}(AJS,AJS.$),function(e){AJS.responsiveheader={},AJS.responsiveheader.setup=function(){function t(t,n){function i(e){var t;if(r(),!(h>f)){c.show(),t=h-m;for(var n=0;t>=0;n++)t-=p[n].itemWidth;return n-=1,s(n,e),a(n,d,e),n}u(e)}function r(){var t=0!==l.length?l.offset().left:e(window).width(),n=g.offset().left+g.outerWidth(!0)+y;h=t-n}function o(t){var n=e("<li>"+aui.dropdown2.trigger({menu:{id:"aui-responsive-header-dropdown-content-"+t},text:AJS.I18n.getText("aui.words.more"),extraAttributes:{href:"#"},id:"aui-responsive-header-dropdown-trigger-"+t})+"</li>");n.append(aui.dropdown2.contents({id:"aui-responsive-header-dropdown-content-"+t,extraClasses:"aui-style-default",content:aui.dropdown2.section({content:"<ul id='aui-responsive-header-dropdown-list-"+t+"'></ul>"})})),0===y?n.appendTo(v(".aui-nav")):n.insertBefore(v(".aui-nav > li > .aui-button").first().parent()),c=n,m=c.outerWidth(!0)}function a(t,n,i){if(!(0>t||0>n||t===n)){var r,o,a=e("#aui-responsive-header-dropdown-trigger-"+i),s=a.parent();a.hasClass("active")&&a.trigger("aui-button-invoke");for(var u=v(".aui-nav > li > a:not(.aui-button):not(#aui-responsive-header-dropdown-trigger-"+i+")").length;t>n;)r=p[n],r&&r.itemElement&&(o=r.itemElement,0===u?o.prependTo(v(".aui-nav")):o.insertBefore(s),o.children("a").removeClass("aui-dropdown2-sub-trigger active"),n+=1,u+=1)}}function s(t,n){if(!(0>t))for(var i=e("#aui-responsive-header-dropdown-list-"+n),r=t;r<p.length;r++){p[r].itemElement.appendTo(i);var o=p[r].itemElement.children("a");o.hasClass("aui-dropdown2-trigger")&&o.addClass("aui-dropdown2-sub-trigger")}}function u(e){c.hide(),a(p.length,d,e)}var l=t.find(".aui-header-secondary .aui-nav").first();e(".aui-header").attr("data-aui-responsive","true");var c,d,p=[],h=0,f=0,g=t.find("#logo"),m=0,v=function(){var e=t.find(".aui-header-primary").first();return function(t){return e.find(t)}}(),y=0;v(".aui-button").parent().each(function(t,n){y+=e(n).outerWidth(!0)}),v(".aui-nav > li > a:not(.aui-button)").each(function(t,n){var i=e(n).parent(),r=i.outerWidth(!0);p.push({itemElement:i,itemWidth:r}),f+=r}),d=p.length,e(window).resize(function(){d=i(n)}),o(n);var b=g.find("img");0!==b.length&&(b.attr("data-aui-responsive-header-index",n),b.load(function(){d=i(n)})),d=i(n),v(".aui-nav").css("width","auto")}var n=e(".aui-header");n.length&&n.each(function(n,i){t(e(i),n)})}}(AJS.$),AJS.$(AJS.responsiveheader.setup),function(e){"function"==typeof define&&define.amd?define("fancy-file-input",["jquery"],e):e(jQuery)}(function(e){function t(n,i){var r=e(n).data("FancyFileInput");return r?r:(i=e.extend({},t.defaults,i),this.el=n,this.$el=e(n),this.$label=this.createLabel(i.buttonText),this._addLabelText(),this.$clearButton=e("<button>",{text:this.$label.attr("data-ffi-clearButtonText")||i.clearButtonText,"class":"ffi-clear",type:"button",tabindex:"-1"}),this.multipleFileTextPattern=this.$label.attr("data-ffi-multipleFileTextPattern")||i.multipleFileTextPattern,this._eventNamespace=".ffi",this.CLASSES={disabled:"is-disabled",focused:"is-focused",active:"is-active",valid:"is-valid",invalid:"is-invalid"},this[this.isDisabled()?"disable":"enable"](),void(this.isFocused=!1))}var n=/^.*[\\\/]/,i=/\{0\}/gi,r=function(){var e=3,t=document.createElement("div"),n=t.getElementsByTagName("i");do t.innerHTML="<!--[if gt IE "+ ++e+"]><i></i><![endif]-->";while(n[0]);return e>4?e:document.documentMode}();return e.fn.fancyFileInput=function(n){return this.each(function(){var i=new t(this,n);e(this).data("FancyFileInput",i)})},t.defaults={buttonText:"Browse…",clearButtonText:"Clear",multipleFileTextPattern:"{0} files"},t.prototype._addLabelText=function(){var t=e('label[for="'+this.el.id+'"]');t.length&&this.$el.attr("aria-label",t.text())},t.prototype.createLabel=function(t){var n=this.$el.parent(".ffi[data-ffi-button-text]");return n.length||(n=this.$el.wrap(e("<label>",{"class":"ffi","data-ffi-button-text":t})).parent()),n},t.prototype.isDisabled=function(){return this.$el.is(":disabled")},t.prototype.formatMultipleFileText=function(e){return this.multipleFileTextPattern.replace(i,e)},t.prototype.bindEvents=function(){this.$el.on("invalid"+this._eventNamespace,e.proxy(this.checkValidity,this)).on("change"+this._eventNamespace,e.proxy(this.change,this)).on("keydown"+this._eventNamespace,e.proxy(this.keydown,this)).on("mousedown"+this._eventNamespace,e.proxy(this.mousedown,this)).on("mouseup"+this._eventNamespace,e.proxy(this.mouseup,this)).on("focus"+this._eventNamespace,e.proxy(this.focus,this)).on("blur"+this._eventNamespace,e.proxy(this.blur,this)),this.$clearButton.on("click"+this._eventNamespace,e.proxy(this.clear,this))},t.prototype.unbindEvents=function(){this.$el.off(this._eventNamespace),this.$clearButton.off(this._eventNamespace)},t.prototype.fireEvent=function(e){this.$el.trigger(e+this._eventNamespace)},t.prototype.enable=function(){this.bindEvents(),this.$el.prop("disabled",!1),this.$label.removeClass(this.CLASSES.disabled)},t.prototype.disable=function(){this.unbindEvents(),this.$el.prop("disabled",!0),this.$label.addClass(this.CLASSES.disabled)},t.prototype.clear=function(){return this.el.value="",this.cloneAndReplaceField(),this.change(),!1},t.prototype.cloneAndReplaceField=function(){var e=this.$el.clone();this.$el.replaceWith(e),this.unbindEvents(),this.$el=e,this.el=e[0],this.bindEvents()},t.prototype.focus=function(){var e=this;this.$label.addClass(this.CLASSES.focused),r&&!this.isFocused&&(this.isFocused=!0,setTimeout(function(){e.$el.blur(),e.$el.focus()},0))},t.prototype.blur=function(){r&&this.isFocused||(this.$label.removeClass(this.CLASSES.focused),this.isFocused=!1)},t.prototype.mousedown=function(){this.$label.addClass(this.CLASSES.active)},t.prototype.mouseup=function(){this.$label.removeClass(this.CLASSES.active)},t.prototype.keydown=function(e){var t=e.which,n=8,i=9,o=46;if((t===n||t===o)&&(this.clear(),e.preventDefault()),r&&t===i){var a=this;this.isFocused=!1,this.$el.prop("disabled",!0),setTimeout(function(){a.$el.prop("disabled",!1).blur()},0)}},t.prototype.checkValidity=function(){if(this.el.required){var e=this.$el.is(":invalid");this.$label.toggleClass(this.CLASSES.invalid,e).toggleClass(this.CLASSES.valid,!e)}},t.prototype.change=function(){var e,t="";this.checkValidity(),e=this.el.multiple&&this.el.files.length>1?this.formatMultipleFileText(this.el.files.length):this.el.value,e.length?(t=e.replace(n,""),this.$clearButton.appendTo(this.$label)):this.$clearButton.detach(),this.$el.focus(),this.setFieldText(t),this.fireEvent("value-changed")},t.prototype.setFieldText=function(e){var t="data-ffi-value";e.length?(this.$label.attr(t,e),this.fireEvent("value-added")):(this.$label.removeAttr(t),this.fireEvent("value-cleared"))},t}),function(e){for(var t=0,n=["webkit","moz"],i=e.requestAnimationFrame,r=e.cancelAnimationFrame,o=n.length;--o>=0&&!i;)i=e[n[o]+"RequestAnimationFrame"],r=e[n[o]+"CancelAnimationFrame"];i&&r||(i=function(e){var n=Date.now(),i=Math.max(t+16,n);return setTimeout(function(){e(t=i)},i-n)},r=clearTimeout),e.requestAnimationFrame=i,e.cancelAnimationFrame=r}(window),window.Modernizr=function(e,t,n){function i(e){h.cssText=e}function r(e,t){return typeof e===t}var o,a,s,u="2.8.0",l={},c=t.documentElement,d="modernizr",p=t.createElement(d),h=p.style,f=({}.toString," -webkit- -moz- -o- -ms- ".split(" ")),g={},m=[],v=m.slice,y=function(e,n,i,r){var o,a,s,u,l=t.createElement("div"),p=t.body,h=p||t.createElement("body");if(parseInt(i,10))for(;i--;)s=t.createElement("div"),s.id=r?r[i]:d+(i+1),l.appendChild(s);return o=["&#173;",'<style id="s',d,'">',e,"</style>"].join(""),l.id=d,(p?l:h).innerHTML+=o,h.appendChild(l),p||(h.style.background="",h.style.overflow="hidden",u=c.style.overflow,c.style.overflow="hidden",c.appendChild(h)),a=n(l,e),p?l.parentNode.removeChild(l):(h.parentNode.removeChild(h),c.style.overflow=u),!!a},b={}.hasOwnProperty;s=r(b,"undefined")||r(b.call,"undefined")?function(e,t){return t in e&&r(e.constructor.prototype[t],"undefined")}:function(e,t){return b.call(e,t)},Function.prototype.bind||(Function.prototype.bind=function(e){var t=this;if("function"!=typeof t)throw new TypeError;var n=v.call(arguments,1),i=function(){if(this instanceof i){var r=function(){};r.prototype=t.prototype;var o=new r,a=t.apply(o,n.concat(v.call(arguments)));return Object(a)===a?a:o}return t.apply(e,n.concat(v.call(arguments)))};return i}),g.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=!0:y(["@media (",f.join("touch-enabled),("),d,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=9===e.offsetTop}),n};for(var w in g)s(g,w)&&(a=w.toLowerCase(),l[a]=g[w](),m.push((l[a]?"":"no-")+a));return l.addTest=function(e,t){if("object"==typeof e)for(var i in e)s(e,i)&&l.addTest(i,e[i]);else{if(e=e.toLowerCase(),l[e]!==n)return l;t="function"==typeof t?t():t,"undefined"!=typeof enableClasses&&enableClasses&&(c.className+=" "+(t?"":"no-")+e),l[e]=t}return l},i(""),p=o=null,l._version=u,l._prefixes=f,l.testStyles=y,l}(this,this.document),function(e){function t(t){this.$el=e(t).closest(".aui-nav"),this.$treeParent=this.$el.parent("li[aria-expanded]"),this.$subtreeToggleIcon=this.$treeParent.children(".aui-nav-subtree-toggle").children("span.aui-icon")}t.prototype.isNested=function(){return 1===this.$treeParent.length},t.prototype.isCollapsed=function(){return"false"===this.$treeParent.attr("aria-expanded")},t.prototype.expand=function(){return this.$treeParent.attr("aria-expanded","true"),this.$subtreeToggleIcon.removeClass("aui-iconfont-collapsed").addClass("aui-iconfont-expanded"),this},t.prototype.collapse=function(){return this.$treeParent.attr("aria-expanded","false"),this.$subtreeToggleIcon.removeClass("aui-iconfont-expanded").addClass("aui-iconfont-collapsed"),this},t.prototype.toggle=function(){return this.isCollapsed()?this.expand():this.collapse(),this},AJS.navigation=AJS._internal.widget("navigation",t),e(function(e){e(document).on("click",".aui-nav li[aria-expanded]",function(t){var n=e(t.target),i=n.closest("li[aria-expanded]")[0]!==this;if(!i){var r=n.closest(".aui-nav-subtree-toggle",this).length>0;r&&t.preventDefault();var o=AJS.navigation(e(this).children(".aui-nav"));o.toggle()}})})}(AJS.$),function(e){function t(e){return e.offset().top}function n(t){this.$body=e("body"),this.$el=e(t),this.$wrapper=this.$el.children(".aui-sidebar-wrapper"),this.submenus=new i,this.$body.addClass("aui-page-sidebar"),this._previousScrollTop=null,this._previousViewportHeight=null,this._previousViewportWidth=null,this._previousOffsetTop=null}function i(){this.inlineDialog=AJS.InlineDialog(e(),"sidebar-submenu",this.inlineDialogShowHandler.bind(this),{noBind:!0,addActiveClass:!1,hideCallback:this.inlineDialogHideHandler.bind(this),gravity:"w",hideDelay:300,offsetY:function(e,t){var n=t.target.height()/2,i=e.height()/2;return i-n-this.submenuHeadingHeight()}.bind(this),arrowOffsetY:function(e,t){var n=t.target.height()/2,i=e.height()/2;return-i+this.submenuHeadingHeight()+n}.bind(this)}),this.$trigger=null,this.$placeholder=null,this.$placeholderSubmenu=null,this.postHideCallback=null}function r(e){e.tipsy(c).tipsy("show");var t=e.data("tipsy")&&e.data("tipsy").$tip;t&&t.css({opacity:""}).addClass("tooltip-shown")}function o(e){var t=e.data("tipsy")&&e.data("tipsy").$tip;t&&(t.on("transitionend",function(){e.tipsy("hide")}),t.removeClass("tooltip-shown"))}var a="undefined"!=typeof document.documentElement.style.transition||"undefined"!=typeof document.documentElement.style.webkitTransition,s=1240,u="_aui-internal-sidebar-";n.prototype.on=function(){var t=arguments[0],n=Array.prototype.slice.call(arguments,1),i=e.map(t.split(" "),function(e){return u+e}).join(" ");return this.$el.on.apply(this.$el,[i].concat(n)),this},n.prototype.setHeight=function(e,n,i){e=e||window.pageYOffset,n=n||document.documentElement.clientHeight,i=i||t(this.$el);var r=Math.max(0,i-e);return this.$wrapper.height(n-r),this},n.prototype.setPosition=function(e){return e=e||window.pageYOffset,this.$wrapper.toggleClass("aui-is-docked",e>t(this.$el)),this},n.prototype.setCollapsedState=function(t){var n={collapsed:{},expanded:{}};n.collapsed.narrow={narrow:e.noop,wide:function(e){e._expand(t)}},n.collapsed.wide={narrow:e.noop,wide:e.noop},n.expanded.narrow={narrow:e.noop,wide:function(e){e.$body.removeClass("aui-sidebar-collapsed"),e.$el.removeClass("aui-sidebar-fly-out")}},n.expanded.wide={narrow:function(e){e.collapse()},wide:e.noop};var i=this.isCollapsed()?"collapsed":"expanded",r=this.isViewportNarrow(this._previousViewportWidth)?"narrow":"wide",o=this.isViewportNarrow(t)?"narrow":"wide";return n[i][r][o](this),this},n.prototype.collapse=function(){return this.$el.trigger(e.Event(u+"collapse-start")),this.$body.addClass("aui-sidebar-collapsed"),this.$el.attr("aria-expanded","false"),this.$el.removeClass("aui-sidebar-fly-out"),this.isAnimated()||this.$el.trigger(e.Event(u+"collapse-end")),this},n.prototype._expand=function(t){this.$el.trigger(e.Event(u+"expand-start"));var n=this.isViewportNarrow(t);return this.$el.attr("aria-expanded","true"),this.$body.toggleClass("aui-sidebar-collapsed",n),this.$el.toggleClass("aui-sidebar-fly-out",n),this.isAnimated()||this.$el.trigger(e.Event(u+"expand-end")),this},n.prototype.expand=function(){return this._expand(this._previousViewportWidth),this},n.prototype.isAnimated=function(){return a&&this.$el.hasClass("aui-is-animated")},n.prototype.isCollapsed=function(){return"false"===this.$el.attr("aria-expanded")},n.prototype.isViewportNarrow=function(e){return e=void 0===e?this._previousViewportWidth:e,s>e},n.prototype.reflow=function(){var e=window.pageYOffset,n=document.documentElement.clientHeight,i=window.innerWidth,r=t(this.$el);(e!==this._previousScrollTop||n!==this._previousViewportHeight||r!==this._previousOffsetTop)&&(this.$body.hasClass("aui-page-sidebar-touch")||(this.setHeight(e,n,r),this.setPosition(e)));var o="false"!==this.$el.attr("data-aui-responsive");if(o){var a=null===this._previousViewportWidth;if(a){if(!this.isCollapsed()&&this.isViewportNarrow(i)){var s=this.isAnimated();s&&this.$el.removeClass("aui-is-animated"),this.collapse(),s&&(this.$el[0].offsetHeight,this.$el.addClass("aui-is-animated"))}}else i!==this._previousViewportWidth&&this.setCollapsedState(i)}else{var u=!this.isCollapsed()&&this.isViewportNarrow(i);this.$el.toggleClass("aui-sidebar-fly-out",u)}return this._previousScrollTop=e,this._previousViewportHeight=n,this._previousViewportWidth=i,this._previousOffsetTop=r,this},n.prototype.toggle=function(){return this.isCollapsed()?this.submenus.isShowing()?this.submenus.hide(this.expand.bind(this)):(this.expand(),e(".aui-sidebar-section-tooltip").remove()):this.collapse(),this},n.prototype.collapsedTriggersSelector=[".aui-sidebar-group:not(.aui-sidebar-group-tier-one)",".aui-sidebar-group.aui-sidebar-group-tier-one > .aui-nav > li > a",".aui-sidebar-footer > .aui-sidebar-settings-button"].join(", "),n.prototype.toggleSelector=".aui-sidebar-footer > .aui-sidebar-toggle",i.prototype.submenu=function(e){return e.is("a")?e.next(".aui-nav"):e.children(".aui-nav")},i.prototype.hasSubmenu=function(e){return 0!==this.submenu(e).length},i.prototype.submenuHeadingHeight=function(){return 34},i.prototype.isShowing=function(){return null!==this.$trigger},i.prototype.show=function(e,t){var n=this.isShowing();return this.inlineDialog.show(e,t),n&&this.inlineDialog.refresh(),this},i.prototype.hide=function(e){return void 0!==e&&(this.postHideCallback=e),this.inlineDialog.hide(),this};var l='<div class="aui-sidebar-submenu"><div class="aui-navgroup aui-navgroup-vertical"><div class="aui-navgroup-inner"><div class="aui-nav-heading"><strong></strong></div></div></div></div>';i.prototype.inlineDialogShowHandler=function(t,n,i){this.isShowing()&&(this.restoreSubmenu(),this.$trigger.removeClass("active")),this.$trigger=e(n).is(".aui-sidebar-group")?e(n):e(n).closest("a"),this.$trigger.addClass("active");var r=this.$trigger.is("a")?this.$trigger.text():this.$trigger.children(".aui-nav-heading").text();t.html(l);var o=t.find(".aui-navgroup-inner");o.children(".aui-nav-heading").attr("title",r).children("strong").text(r),this.moveSubmenuToInlineDialog(this.submenu(this.$trigger)),i()},i.prototype.inlineDialogHideHandler=function(){this.restoreSubmenu(),this.$trigger.removeClass("active"),this.$trigger=null,null!==this.postHideCallback&&(this.postHideCallback(),this.postHideCallback=null)},i.prototype.moveSubmenuToInlineDialog=function(t){return this.$placeholder=e("<!-- placholder -->"),this.$placeholderSubmenu=t,t.replaceWith(this.$placeholder),this.inlineDialog.find(".aui-navgroup-inner").append(t),this},i.prototype.restoreSubmenu=function(){return this.$placeholder.replaceWith(this.$placeholderSubmenu),delete this.$placeholder,delete this.$placeholderSubmenu,this};var c={trigger:"manual",gravity:"w",className:"aui-sidebar-section-tooltip",title:function(){var t=e(this);return t.is("a")?t.attr("title")||t.find(".aui-nav-item-label").text()||t.data("tooltip"):t.children(".aui-nav").attr("title")||t.children(".aui-nav-heading").text()}};AJS.sidebar=AJS._internal.widget("sidebar",n),e(function(e){var t=e(".aui-sidebar");if(t.length){Modernizr.touch&&e("body").addClass("aui-page-sidebar-touch");var i=new n(t),a=null;e(window).on("scroll resize",function(){null===a&&(a=requestAnimationFrame(function(){i.reflow(),a=null}))}),i.reflow(),i.isAnimated()&&i.$el.on("transitionend webkitTransitionEnd",function(){i.$el.trigger(e.Event(u+(i.isCollapsed()?"collapse-end":"expand-end")))}),i.$el.on("click",".aui-sidebar-toggle",function(e){e.preventDefault(),i.toggle()}),i.$el.on("click",".aui-sidebar-body",function(t){e(t.target).is(".aui-sidebar-body")&&(t.preventDefault(),i.toggle())}),e(".aui-page-panel").click(function(){!i.isCollapsed()&&i.isViewportNarrow()&&i.collapse()}),AJS.whenIType("[").execute(function(){i.toggle()}),i.$el.on("touchend",function(e){i.isCollapsed()&&(i.expand(),e.preventDefault())}),i.$el.on("mouseenter focus",i.collapsedTriggersSelector,function(t){if(i.isCollapsed()){var n=e(this);i.submenus.hasSubmenu(n)?(t.preventDefault(),i.submenus.show(t,this)):n.hasClass("active")&&i.submenus.isShowing()?t.stopImmediatePropagation():(i.submenus.hide(),r(n))
}}),i.$el.on("click blur mouseleave",i.collapsedTriggersSelector,function(){i.isCollapsed()&&o(e(this))}),i.$el.on("click",i.collapsedTriggersSelector,function(e){i.submenus.isShowing()&&e.stopImmediatePropagation()}),i.$el.on("mouseenter focus",i.toggleSelector,function(){var t=e(this);i.isCollapsed()?t.data("tooltip",AJS.I18n.getText("aui.sidebar.expand.tooltip")):t.data("tooltip",AJS.I18n.getText("aui.sidebar.collapse.tooltip")),r(t)}),i.$el.on("click blur mouseleave",i.toggleSelector,function(){o(e(this))}),i.$el.find(".aui-sidebar-body").on("mouseenter mouseover mouseleave",function(t){i.$el.toggleClass("aui-is-hover",("mouseover"===t.type||"mouseenter"===t.type)&&!e(t.srcElement||t.target).parentsUntil(i.$el).filter(".aui-page-header, .aui-navgroup").length),"mouseover"!==t.type||e(t.srcElement).hasClass("active")||i.submenus.hide()})}})}(AJS.$),root.AJS=AJS}.apply(root,arguments)})}(this),function(){function e(n,i){if(_[n])throw new Error('A component with the ID of "'+n+'" already exists.');C||(C=new A(function(t){t.forEach(function(t){e.init(t.addedNodes),o(t.removedNodes)})}),C.observe(document,{childList:!0,subtree:!0})),i||(i={}),"function"==typeof i&&(i={insert:i}),w(i,e.defaults);var r=x(n,i);i.ready&&S.sheet.insertRule(n+":not(."+i.classname+"),["+n+"]:not(."+i.classname+"),."+n+":not(."+i.classname+"){display:none}",S.sheet.cssRules.length);for(var a=r.existing(),s=0;s<a.length;s++)t(n,i,a[s]);return _[n]=i,r}function t(e,t,r){n(e,t,r,function(n){if(!n)return i(e,t,r);if(n!==r&&r.parentNode){var o=document.createComment("placeholder");if(r.parentNode.insertBefore(o,r),r.parentNode.removeChild(r),"string"==typeof n){var a=document.createElement("div");a.innerHTML=n,n=a.children}m(n,function(e){o.parentNode.insertBefore(e,o)}),o.parentNode.removeChild(o)}})}function n(e,t,n,i){var r=/^[^(]+\([^,)]+,/,o=t.ready;return i=i||function(){},d(n,e+".ready-called")?i():(p(n,e+".ready-called",!0),w(n,t.prototype),a(e,t,n),u(e,n,t.events),c(n,e),void(o&&r.test(o)?o(n,i):o?i(o(n)):i()))}function i(e,t,n){var i=t.insert;d(n,e+".insert-called")||n.parentNode&&(p(n,e+".insert-called",!0),s(e,t,n),f(n,t.classname),i&&i(n))}function r(e,t,n){d(n,e+".remove-called")||(p(n,e+".remove-called",!0),t.remove&&t.remove(n))}function o(e){m(e,function(e){o(e.children);for(var t in v(e))t in _&&r(t,_[t],e)})}function a(e,t,n){if(t.template){var i=n.innerHTML;"function"==typeof t.template?t.template(n):"string"==typeof t.template&&(n.innerHTML=t.template);var r=n.querySelectorAll("content");if(r&&r.length){var o=document.createElement("div");o.innerHTML=i;for(var a=0;a<r.length;a++){var s=r[a],u=s.getAttribute("select");if(u)for(var l=0;l<o.children.length;l++){var c=o.children[l];b(c,u)&&s.parentNode.insertBefore(c,s)}else for(var d=0;d<o.childNodes.length;d++)s.parentNode.insertBefore(o.childNodes[d],s);s.parentNode.removeChild(s)}}}}function s(e,t,n){function i(e,i,r,o){var a;t.attributes&&t.attributes[i]&&"function"==typeof t.attributes[i][e]?a=t.attributes[i][e]:t.attributes&&"function"==typeof t.attributes[i]?a=t.attributes[i]:"function"==typeof t.attributes&&(a=t.attributes),a&&a(n,{type:e,name:i,newValue:r,oldValue:o})}if(t.attributes&&!d(n,e+".attributes-called")){p(n,e+".attributes-called",!0);var r=new A(function(e){e.forEach(function(e){var t,r=e.attributeName,o=n.attributes[r];o&&null===e.oldValue?t="insert":o&&null!==e.oldValue?t="update":o||(t="remove"),i(t,r,o?o.nodeValue:void 0,e.oldValue)})});r.observe(n,{attributes:!0,attributeOldValue:!0});for(var o=0;o<n.attributes.length;o++){var a=n.attributes[o];i("insert",a.nodeName,a.nodeValue)}}}function u(e,t,n){function i(e,n){return function(i){(!n||b(i.target,n))&&e(t,i)}}if("object"==typeof n)for(var r in n)if(n.hasOwnProperty(r)){var o=l(r);t.addEventListener(o.name,i(n[r],o.delegate))}}function l(e){var t=e.split(" ",2);return{name:t[0],delegate:t[1]}}function c(e,t){var n=d(e,t+".when-callbacks");n&&(n.forEach(function(t){t(e)}),h(e,t+".when-callbacks"))}function d(e,t){return e.__SKATE_DATA?e.__SKATE_DATA[t]:void 0}function p(e,t,n){e.__SKATE_DATA||(e.__SKATE_DATA={}),e.__SKATE_DATA[t]=n}function h(e,t){e.__SKATE_DATA&&e.__SKATE_DATA[t]&&delete e.__SKATE_DATA[t]}function f(e,t){e.classList?e.classList.add(t):e.className+=e.className?" "+t:t}function g(e){return e.classList||e.getAttribute("class")&&e.getAttribute("class").split(/\s+/)||[]}function m(e,t){if(e){if(e.nodeType){if(1!==e.nodeType)return;e=[e]}if(e.length)for(var n=0;n<e.length;n++)e[n]&&1===e[n].nodeType&&t(e[n],n)}}function v(t){var n={},i=t.tagName.toLowerCase();y(i,e.types.TAG)&&(n[i]=i);for(var r=0;r<t.attributes.length;r++){var o=t.attributes[r].nodeName;y(o,e.types.ATTR)&&(n[o]=o)}for(var a=g(t),s=0;s<a.length;s++){var u=a[s];y(u,e.types.CLASS)&&(n[u]=u)}return n}function y(e,t){return e in _&&_[e].type.indexOf(t)>-1}function b(e,t){return(e.matches||e.msMatchesSelector||e.webkitMatchesSelector||e.mozMatchesSelector||e.oMatchesSelector).call(e,t)}function w(e,t){for(var n in t)void 0===e[n]&&(e[n]=t[n]);return e}function x(t,i){function r(){if(!o)throw new Error('Cannot construct "'+t+'" as a custom element.');var e=document.createElement(t);return i.prototype=r.prototype,n(t,i,e),e}var o=i.type.indexOf(e.types.TAG)>-1,a=i.type.indexOf(e.types.ATTR)>-1,s=i.type.indexOf(e.types.CLASS)>-1,u=function(){var e=[];return o&&e.push(t),a&&e.push("["+t+"]"),s&&e.push("."+t),e.join(", ")}();return r.existing=function(e){return(e||document).querySelectorAll(u)},r.selector=function(){return u},r.prototype=i.prototype,r}var S=document.createElement("style"),A=window.MutationObserver||window.WebkitMutationObserver||window.MozMutationObserver;A||(A=function(e){this.callback=e,this.elements=[]},A.prototype={observe:function(e,t){function n(n){return t.childList&&(t.subtree||n.target.parentNode===e)}function i(t){return t.target===e}function r(e,t){return w(t,{addedNodes:null,attributeName:null,attributeNamespace:null,nextSibling:e.target.nextSibling,oldValue:null,previousSibling:e.target.previousSibling,removedNodes:null,target:e.target,type:"childList"})}var o=this,a={},s={target:e,options:t,insertHandler:function(e){n(e)&&o.callback([r(e,{addedNodes:[e.target]})])},removeHandler:function(e){n(e)&&o.callback([r(e,{removedNodes:[e.target]})])},attributeHandler:function(e){i(e)&&(o.callback([r(e,{attributeName:e.attrName,oldValue:t.attributeOldValue?a[e.attrName]||e.prevValue||null:null,type:"attributes"})]),t.attributeOldValue&&(a[e.attrName]=e.newValue))}};return this.elements.push(s),t.childList&&(e.addEventListener("DOMSubtreeModified",s.insertHandler),e.addEventListener("DOMNodeRemoved",s.removeHandler)),t.attributes&&e.addEventListener("DOMAttrModified",s.attributeHandler),this},disconnect:function(){for(var e in this.elements){var t=this.elements[e];t.target.removeEventListener("DOMSubtreeModified",t.insertHandler),t.target.removeEventListener("DOMNodeRemoved",t.removeHandler),t.target.removeEventListener("DOMAttrModified",t.attributeHandler)}return this.elements=[],this}});var C,_={};e.types={ANY:"act",ATTR:"a",CLASS:"c",NOATTR:"ct",NOCLASS:"at",NOTAG:"ac",TAG:"t"},e.defaults={attributes:!1,classname:"__skate",events:!1,prototype:{},template:"",type:e.types.ANY},e.destroy=function(){return C&&(C.disconnect(),C=void 0),_={},e},e.init=function(n){return m(n,function(n){for(var i in v(n))t(i,_[i],n);e.init(n.children)}),e},e.unregister=function(e){delete _[e]},e.watch=function(e){return new A(e)},e.when=function(e){return{is:function(t){return{then:function(n){if(d(e,t+".ready-called"))n(e);else{var i=d(e,t+".when-callbacks");i||(i=[]),i.push(n),p(e,t+".when-callbacks",i)}return this}}}}},document.getElementsByTagName("head")[0].appendChild(S),window.skate=e,"function"==typeof define&&define.amd?define("skate",[],function(){return e}):"object"==typeof exports&&(module.exports=e)}(),function(e){define("aui-experimental",["aui-stable","skate"],function(){return function(){!function(e){function t(e,t){return"function"==typeof e?e.call(t):e}function n(e){for(;e=e.parentNode;)if(e==document)return!0;return!1}function i(){var e=o++;return"tipsyuid"+e}function r(t,n){this.$element=e(t),this.options=n,this.enabled=!0,this.fixTitle()}var o=0;r.prototype={show:function(){function n(){s.hoverTooltip=!0}function r(){if("in"!=s.hoverState&&(s.hoverTooltip=!1,"manual"!=s.options.trigger)){var e="hover"==s.options.trigger?"mouseleave.tipsy":"blur.tipsy";s.$element.trigger(e)}}var o=this.getTitle();if(o&&this.enabled){var a=this.tip();a.find(".tipsy-inner")[this.options.html?"html":"text"](o),a[0].className="tipsy",a.remove().css({top:0,left:0,visibility:"hidden",display:"block"}).prependTo(document.body);var s=this;this.options.hoverable&&a.hover(n,r),this.options.className&&a.addClass(t(this.options.className,this.$element[0]));var u,l=e.extend({},this.$element.offset(),{width:this.$element[0].offsetWidth,height:this.$element[0].offsetHeight}),c=a[0].offsetWidth,d=a[0].offsetHeight,p=t(this.options.gravity,this.$element[0]);switch(p.charAt(0)){case"n":u={top:l.top+l.height+this.options.offset,left:l.left+l.width/2-c/2};break;case"s":u={top:l.top-d-this.options.offset,left:l.left+l.width/2-c/2};break;case"e":u={top:l.top+l.height/2-d/2,left:l.left-c-this.options.offset};break;case"w":u={top:l.top+l.height/2-d/2,left:l.left+l.width+this.options.offset}}if(2==p.length&&(u.left="w"==p.charAt(1)?l.left+l.width/2-15:l.left+l.width/2-c+15),a.css(u).addClass("tipsy-"+p),a.find(".tipsy-arrow")[0].className="tipsy-arrow tipsy-arrow-"+p.charAt(0),this.options.fade?a.stop().css({opacity:0,display:"block",visibility:"visible"}).animate({opacity:this.options.opacity}):a.css({visibility:"visible",opacity:this.options.opacity}),this.options.aria){var h=i();a.attr("id",h),this.$element.attr("aria-describedby",h)}}},hide:function(){this.options.fade?this.tip().stop().fadeOut(function(){e(this).remove()}):this.tip().remove(),this.options.aria&&this.$element.removeAttr("aria-describedby")},fixTitle:function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("original-title"))&&e.attr("original-title",e.attr("title")||"").removeAttr("title")},getTitle:function(){var e,t=this.$element,n=this.options;this.fixTitle();var e,n=this.options;return"string"==typeof n.title?e=t.attr("title"==n.title?"original-title":n.title):"function"==typeof n.title&&(e=n.title.call(t[0])),e=(""+e).replace(/(^\s*|\s*$)/,""),e||n.fallback},tip:function(){return this.$tip||(this.$tip=e('<div class="tipsy"></div>').html('<div class="tipsy-arrow"></div><div class="tipsy-inner"></div>').attr("role","tooltip"),this.$tip.data("tipsy-pointee",this.$element[0])),this.$tip},validate:function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},enable:function(){this.enabled=!0},disable:function(){this.enabled=!1},toggleEnabled:function(){this.enabled=!this.enabled}},e.fn.tipsy=function(t){function n(n){var i=e.data(n,"tipsy");return i||(i=new r(n,e.fn.tipsy.elementOptions(n,t)),e.data(n,"tipsy",i)),i}function i(){var e=n(this);e.hoverState="in",0==t.delayIn?e.show():(e.fixTitle(),setTimeout(function(){"in"==e.hoverState&&e.show()},t.delayIn))}function o(){var e=n(this);e.hoverState="out",0==t.delayOut?e.hide():setTimeout(function(){"out"!=e.hoverState||e.hoverTooltip||e.hide()},t.delayOut)}if(t===!0)return this.data("tipsy");if("string"==typeof t){var a=this.data("tipsy");return a&&a[t](),this}if(t=e.extend({},e.fn.tipsy.defaults,t),t.hoverable&&(t.delayOut=t.delayOut||20),t.live||this.each(function(){n(this)}),"manual"!=t.trigger){var s="hover"==t.trigger?"mouseenter.tipsy":"focus.tipsy",u="hover"==t.trigger?"mouseleave.tipsy":"blur.tipsy";t.live?e(this.context).on(s,this.selector,i).on(u,this.selector,o):this.bind(s,i).bind(u,o)}return this},e.fn.tipsy.defaults={aria:!1,className:null,delayIn:0,delayOut:0,fade:!1,fallback:"",gravity:"n",html:!1,live:!1,hoverable:!1,offset:0,opacity:.8,title:"title",trigger:"hover"},e.fn.tipsy.revalidate=function(){e(".tipsy").each(function(){var t=e.data(this,"tipsy-pointee");t&&n(t)||e(this).remove()})},e.fn.tipsy.elementOptions=function(t,n){return e.metadata?e.extend({},n,e(t).metadata()):n},e.fn.tipsy.autoNS=function(){return e(this).offset().top>e(document).scrollTop()+e(window).height()/2?"s":"n"},e.fn.tipsy.autoWE=function(){return e(this).offset().left>e(document).scrollLeft()+e(window).width()/2?"e":"w"},e.fn.tipsy.autoBounds=function(t,n){return function(){var i={ns:n[0],ew:n.length>1?n[1]:!1},r=e(document).scrollTop()+t,o=e(document).scrollLeft()+t,a=e(this);return a.offset().top<r&&(i.ns="n"),a.offset().left<o&&(i.ew="w"),e(window).width()+e(document).scrollLeft()-a.offset().left<t&&(i.ew="e"),e(window).height()+e(document).scrollTop()-a.offset().top<t&&(i.ns="s"),i.ns+(i.ew?i.ew:"")}}}(jQuery),function(e){var t=e(document),n=function(n){var i={};return i.$trigger=e(n.currentTarget),i.$content=t.find("#"+i.$trigger.attr("aria-controls")),i.triggerIsParent=0!==i.$content.parent().filter(i.$trigger).length,i.$shortContent=i.triggerIsParent?i.$trigger.find(".aui-expander-short-content"):null,i.height=i.$content.css("min-height"),i.isCollapsible=i.$trigger.data("collapsible")!==!1,i.replaceText=i.$trigger.attr("data-replace-text"),i.replaceSelector=i.$trigger.data("replace-selector"),i},i=function(e){if(e.replaceText){var t=e.replaceSelector?e.$trigger.find(e.replaceSelector):e.$trigger;e.$trigger.attr("data-replace-text",t.text()),t.text(e.replaceText)}},r={"aui-expander-invoke":function(n){var i=e(n.currentTarget),r=t.find("#"+i.attr("aria-controls")),o=i.data("collapsible")!==!1;i.trigger("true"==r.attr("aria-expanded")&&o?"aui-expander-collapse":"aui-expander-expand")},"aui-expander-expand":function(e){var t=n(e);t.$content.attr("aria-expanded","true"),t.$content.outerHeight()>0&&t.$content.attr("aria-hidden","false"),i(t),t.triggerIsParent&&t.$shortContent.hide(),t.$trigger.trigger("aui-expander-expanded")},"aui-expander-collapse":function(e){{var t=n(e);parseInt(t.$content.css("line-height"),10),t.$content.children().first().height()}0===t.$content.outerHeight()&&t.$content.attr("aria-hidden","true"),i(t),t.$content.attr("aria-expanded","false"),t.triggerIsParent&&t.$shortContent.show(),t.$trigger.trigger("aui-expander-collapsed")},"click.aui-expander":function(t){var n=e(t.currentTarget);n.trigger("aui-expander-invoke",t.currentTarget)}};t.on(r,".aui-expander-trigger")}(jQuery),function(){function e(e,t,n){window.setTimeout(function(){e.css("width",100*n+"%"),t.attr("data-value",n)},0)}AJS.progressBars={update:function(t,n){var i=AJS.$(t).first(),r=i.children(".aui-progress-indicator-value"),o=r.attr("data-value")||0,a="aui-progress-indicator-after-update",s="aui-progress-indicator-before-update",u="transitionend webkitTransitionEnd",l=!i.attr("data-value");if(l&&r.detach().css("width",0).appendTo(i),"number"==typeof n&&1>=n&&n>=0){i.trigger(s,[o,n]);var c=document.body||document.documentElement,d=c.style;"string"==typeof d.transition||"string"==typeof d.WebkitTransition?(r.one(u,function(){i.trigger(a,[o,n])}),e(r,i,n)):(e(r,i,n),i.trigger(a,[o,n]))}return i},setIndeterminate:function(e){var t=AJS.$(e).first(),n=t.children(".aui-progress-indicator-value");t.removeAttr("data-value"),n.css("width","100%")}}}(),function(e){e.fn.tooltip=function(t){var n=e.extend({},e.fn.tooltip.defaults,t),i=this.tipsy(n);if(n.hideOnClick&&("hover"==n.trigger||!n.trigger&&"hover"==this.tipsy.defaults.trigger)){var r=function(){e(this).tipsy("hide")};n.live?e(this.context).on("click.tipsy",this.selector,r):this.bind("click.tipsy",r)}return i},e.fn.tooltip.defaults={opacity:1,offset:1,delayIn:500,hoverable:!0,hideOnClick:!0}}(AJS.$),function(e){function t(e,t){if(!t)return void console.warn("Attempting to notify a field without options");var i=t.type,r=t.message;r?_(e,r):f(e),n(e),h(e,i),o(e,i);var a=g(e)&&m(e)||!g(e);a&&x(e)}function n(e){v(e)||(a(e),u(e),y(e))}function i(e){var t=r(e),n={error:W,info:V};return n[t]}function r(e){return e.data(I)}function o(e,t){e.data(I,t)}function a(e){e.addClass(L),s(e)}function s(e){var t=b();e.after(t),C(e)?e.addClass("aui-field-has-invisible-icon"):t.addClass("aui-form-notification-icon-outside-field")}function u(e){$(e).tipsy({gravity:A(e),title:function(){return l(e)},trigger:"manual",offset:C(e)?Y:Z,opacity:X,className:function(){return U+" "+i(e)},html:!0})}function l(e){var t=c(e);if(0===t.length)return"";if(1===t.length)return t[0];var n=t.map(function(e){return"<li>"+e+"</li>"});return"<ul>"+n.join("")+"</ul>"}function c(e){var t=e.data(O);return t?JSON.parse(t):[]}function d(e,t){var n=JSON.stringify(t);e.data(O,n)}function p(e){e.on("focusin",function(){x(e)}),e.on("focusout",function(){S(e)})}function h(e,t){var n={error:{icon:K,iconClass:J},wait:{icon:G},info:{icon:Q,iconClass:F},none:{icon:"",iconClass:""}};n[t]||console.warn("Setting field icon for unknown type: "+t);var i=n[t].icon,r=n[t].iconClass||"";N(e,i),k(e,r)}function f(e){S(e),e.data(O,"")}function g(e){return e.is(":aui-focusable")}function m(e){return e.is(document.activeElement)}function v(e){return e.hasClass(L)}function y(e){w(e)&&p(e)}function b(){return e('<span class="aui-icon aui-icon-small '+z+'"/>')}function w(e){return e.is(":aui-focusable")}function x(e){$(e).tipsy("show")}function S(e){$(e).tipsy("hide")}function A(e){var t=e.data(P)||"side",n={side:"w",top:"se",bottom:"ne"},i=n[t];if(!i)throw i="w",new Error('Invalid notification position: "'+t+'". Valid options are "side", "bottom, "top"');return i}function C(e){var t=-1!==["text","password"].indexOf(e.attr("type"));return t}function _(e,t){if(t){var n=c(e),i=n.concat([t]);d(e,i)}}function $(e){return R(e)}function k(e,t){var n=R(e);T(n),E(n,t)}function T(e){var t=B.join(" ");e.removeClass(t)}function E(e,t){e.addClass(t)}function N(e,t){j(e,t),t?H(e):D(e)}function j(e,t){var n=e.data(M);e.data(M,t);var i=R(e);n&&i.removeClass(n),i.addClass(t)}function H(e){C(e)?(e.removeClass("aui-field-has-invisible-icon"),e.addClass("aui-field-has-icon")):R(e).removeClass("hidden")}function D(e){C(e)?(e.addClass("aui-field-has-invisible-icon"),e.removeClass("aui-field-has-icon")):R(e).addClass("hidden")}function R(e){return e.next("."+z)}var q="aui-form-notification",O=q+"-message",P=q+"-position",M=q+"-active-icon",I=q+"-type",L=q+"-initialised",J=q+"-icon-error",F=q+"-icon-info",B=[J,F],z="aui-icon-notification",U=q+"-tooltip",W=U+"-error",V=U+"-info",K="aui-iconfont-error",G="aui-icon-wait",Q="aui-iconfont-info",X=1,Y=7,Z=3;AJS._notifyField=t}(AJS.$),function(e,t){function n(e,t){var n;if("string"==typeof e)n=e;else{var r=i(e);if(r)return console.warn('Validators cannot be registered with the argument "'+r+'", as it is a reserved argument.'),!1;n="[data-aui-validate-"+e.join("],[data-aui-validate-")+"]"}var o={validatorFunction:t,validatorTrigger:n};return M.push(o),o}function i(t){var n=!1;return t.some(function(t){var i=-1!==e.inArray(t,E);return i&&(n=t),i}),n}function r(e){return e.hasClass(O)}function o(e){a(e),s(e),v(e,R)}function a(e){var t=y(e);t.addClass(O)}function s(e){u(e),l(e)}function u(e){var t,n=function(){e.trigger("aui-stop-typing")};e.on("keyup",function(){clearTimeout(t),t=setTimeout(n,1500)})}function l(e){var t=d(e,"when"),n=d(e,"watchfield"),i=n?e.add("#"+n):e;i.on(t,c(e))}function c(e){return function(){var t=d(e,"novalidate");t||p(e)}}function d(e,t){var n={when:"change"},i=e.data(T+t);return i||(i=n[t]),i}function p(t){var n=h(t);v(t,D);var i=f(t,n);e.when.apply(e,i).done(function(){v(t,H)})}function h(e){var t=[];return M.forEach(function(n,i){var r=n.validatorTrigger,o=e.is(r);o&&t.push(i)}),t}function f(t,n){var i=[];return n.forEach(function(n){var r=M[n].validatorFunction,o=new e.Deferred,a=g(t,o);r(a),i.push(o)}),i}function g(e,t){return{validate:function(){t.resolve()},invalidate:function(n){v(e,j,n),t.reject()},args:m(e),$el:e}}function m(e){return function(t){return e.data("aui-validate-"+t)}}function v(t,n,i){if(t.attr("data-"+N,n),n!==R){t.trigger(e.Event(P));var r=y(t),o={};o[D]="wait",o[j]="error",o[H]="none";var a=o[n];AJS._notifyField(r,{type:a,message:i})}}function y(t){var n=d(t,"displayfield"),i=void 0===n;return i?t:e("#"+n)}function b(e){return e.attr("data-"+N)}function w(e){c(e)()}function x(e,t){t.preventDefault();var n=S(e)===D;n?e.one(P,function(){e.trigger("submit")}):e.trigger("submit")}function S(e){var t=e.find("."+O),n=A(t),i=C(n);return i}function A(t){var n=e.map(t,function(t){return b(e(t))});return n}function C(e){var t=-1!==e.indexOf(j),n=-1!==e.indexOf(R),i=-1!==e.indexOf(D),r=-1!==e.indexOf(H);return t?j:n?R:i?D:r?H:void 0}function _(t){var n=k(t,R);n.each(function(t,n){AJS.validator.validate(e(n))})}function $(e){var t=k(e,j).first();t.focus()}function k(e,t){var n="[data-"+N+"="+t+"]";return e.find(n)}var T="aui-validate-",E=["displayfield","watchfield","when","novalidate","state"],N="aui-validate-state",j="invalid",H="valid",D="validating",R="unvalidated",q="data-aui-field",O="aui-validation-field",P="_aui-internal-field-state-changed",M=[];e(document).on("submit",function(t){var n=t.target,i=e(n),r=S(i);if(r===R)_(i),x(i,t);else if(r===D)x(i,t);else if(r===j)t.preventDefault(),$(i);else if(r===H){var o=e.Event("aui-valid-submit");i.trigger(o);var a=o.isDefaultPrevented();a&&t.preventDefault()}}),AJS.validator={register:n,validate:w},t(q,{ready:function(t){var n=e(t);r(n)||o(n)},type:t.types.ATTR})}(AJS.$,window.skate||require("skate")),function(e){function t(e){return"password"===e.attr("type")}function n(e,t){var n=e.match(t);if(!n)return!1;var i=e===n[0];return i}function i(e,t,n){var i,o=void 0!==AJS.I18n.keys;i=o?AJS.I18n.keys["aui.validation.message."+e]:r[e];var a=n;n||(a=[t(e)]);var s,u=t(e+"-msg");return s=u?[u].concat(a):[i].concat(a),AJS.format.apply(null,s)}AJS.validator.register(["maxlength","minlength"],function(e){var t=i("minlength",e.args),n=i("maxlength",e.args);e.$el.val().length<e.args("minlength")?e.invalidate(t):e.$el.val().length>e.args("maxlength")?e.invalidate(n):e.validate()}),AJS.validator.register(["matchingfield"],function(n){var r=n.$el.val(),o=e("#"+n.args("matchingfield")),a=o.val(),s=i("matchingfield",n.args,[r,a]),u=t(n.$el)||t(o);u&&(s=i("matchingfield-novalue",n.args)),r&&a&&a!==r?n.invalidate(s):n.validate()}),AJS.validator.register(["doesnotcontain"],function(e){var t=i("doesnotcontain",e.args);-1===e.$el.val().indexOf(e.args("doesnotcontain"))?e.validate():e.invalidate(t)}),AJS.validator.register(["pattern"],function(e){var t=i("pattern",e.args);n(e.$el.val(),new RegExp(e.args("pattern"),"i"))?e.validate():e.invalidate(t)}),AJS.validator.register(["required"],function(e){var t=i("required",e.args);e.$el.val()?e.validate():e.invalidate(t)}),AJS.validator.register(["min","max"],function(e){var t=i("validnumber",e.args),n=i("min",e.args),r=i("max",e.args),o=parseInt(e.$el.val());return isNaN(o)?void e.invalidate(t):void(e.args("min")&&o<parseInt(e.args("min"))?e.invalidate(n):e.args("max")&&o>parseInt(e.args("max"))?e.invalidate(r):e.validate())}),AJS.validator.register(["dateformat"],function(e){var t=e.args("dateformat"),r=i("dateformat",e.args),o={Y:"[0-9]{4}",y:"[0-9]{2}",m:"(11|12|0{0,1}[0-9])",M:"[Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec]",D:"[Mon|Tue|Wed|Thu|Fri|Sat|Sun]",d:"([0-2]{0,1}[0-9]{1})|(30|31)"},a=t.split(""),s="";a.forEach(function(e){var t=o.hasOwnProperty(e);s+=t?o[e]:e});var u=new RegExp(s+"$","i"),l=n(e.$el.val(),u);l?e.validate():e.invalidate(r)}),AJS.validator.register(["minchecked","maxchecked"],function(e){var t=e.$el.find(":checked").length,n=!e.args("minchecked")||t>=e.args("minchecked"),r=!e.args("maxchecked")||t<=e.args("maxchecked"),o=i("minchecked",e.args),a=i("maxchecked",e.args);n&&r?e.validate():n?r||e.invalidate(a):e.invalidate(o)});var r={minlength:AJS.I18n.getText("aui.validation.message.minlength"),maxlength:AJS.I18n.getText("aui.validation.message.maxlength"),matchingfield:AJS.I18n.getText("aui.validation.message.matchingfield"),"matchingfield-novalue":AJS.I18n.getText("aui.validation.message.matchingfield-novalue"),doesnotcontain:AJS.I18n.getText("aui.validation.message.doesnotcontain"),pattern:AJS.I18n.getText("aui.validation.message.pattern"),required:AJS.I18n.getText("aui.validation.message.required"),validnumber:AJS.I18n.getText("aui.validation.message.validnumber"),min:AJS.I18n.getText("aui.validation.message.min"),max:AJS.I18n.getText("aui.validation.message.max"),dateformat:AJS.I18n.getText("aui.validation.message.dateformat"),minchecked:AJS.I18n.getText("aui.validation.message.minchecked"),maxchecked:AJS.I18n.getText("aui.validation.message.maxchecked")}}(AJS.$),function(e){"undefined"==typeof e.fn.each2&&e.extend(e.fn,{each2:function(t){for(var n=e([0]),i=-1,r=this.length;++i<r&&(n.context=n[0]=this[i])&&t.call(n[0],i,n)!==!1;);return this}})}(jQuery),function(e,t){function n(e){var t,n,i,r;if(!e||e.length<1)return e;for(t="",n=0,i=e.length;i>n;n++)r=e.charAt(n),t+=I[r]||r;return t}function i(e,t){for(var n=0,i=t.length;i>n;n+=1)if(o(e,t[n]))return n;return-1}function r(){var t=e(M);t.appendTo("body");var n={width:t.width()-t[0].clientWidth,height:t.height()-t[0].clientHeight};return t.remove(),n}function o(e,n){return e===n?!0:e===t||n===t?!1:null===e||null===n?!1:e.constructor===String?e+""==n+"":n.constructor===String?n+""==e+"":!1}function a(t,n){var i,r,o;if(null===t||t.length<1)return[];for(i=t.split(n),r=0,o=i.length;o>r;r+=1)i[r]=e.trim(i[r]);return i}function s(e){return e.outerWidth(!1)-e.width()}function u(n){var i="keyup-change-value";n.on("keydown",function(){e.data(n,i)===t&&e.data(n,i,n.val())}),n.on("keyup",function(){var r=e.data(n,i);r!==t&&n.val()!==r&&(e.removeData(n,i),n.trigger("keyup-change"))})}function l(n){n.on("mousemove",function(n){var i=P;(i===t||i.x!==n.pageX||i.y!==n.pageY)&&e(n.target).trigger("mousemove-filtered",n)})}function c(e,n,i){i=i||t;var r;return function(){var t=arguments;window.clearTimeout(r),r=window.setTimeout(function(){n.apply(i,t)},e)}}function d(e){var t,n=!1;return function(){return n===!1&&(t=e(),n=!0),t}}function p(e,t){var n=c(e,function(e){t.trigger("scroll-debounced",e)});t.on("scroll",function(e){i(e.target,t.get())>=0&&n(e)})}function h(e){e[0]!==document.activeElement&&window.setTimeout(function(){var t,n=e[0],i=e.val().length;e.focus(),e.is(":visible")&&n===document.activeElement&&(n.setSelectionRange?n.setSelectionRange(i,i):n.createTextRange&&(t=n.createTextRange(),t.collapse(!1),t.select()))},0)}function f(t){t=e(t)[0];var n=0,i=0;if("selectionStart"in t)n=t.selectionStart,i=t.selectionEnd-n;else if("selection"in document){t.focus();var r=document.selection.createRange();i=document.selection.createRange().text.length,r.moveStart("character",-t.value.length),n=r.text.length-i}return{offset:n,length:i}}function g(e){e.preventDefault(),e.stopPropagation()}function m(e){e.preventDefault(),e.stopImmediatePropagation()}function v(t){if(!R){var n=t[0].currentStyle||window.getComputedStyle(t[0],null);R=e(document.createElement("div")).css({position:"absolute",left:"-10000px",top:"-10000px",display:"none",fontSize:n.fontSize,fontFamily:n.fontFamily,fontStyle:n.fontStyle,fontWeight:n.fontWeight,letterSpacing:n.letterSpacing,textTransform:n.textTransform,whiteSpace:"nowrap"}),R.attr("class","select2-sizer"),e("body").append(R)}return R.text(t.val()),R.width()}function y(t,n,i){var r,o,a=[];r=t.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0===this.indexOf("select2-")&&a.push(this)})),r=n.attr("class"),r&&(r=""+r,e(r.split(" ")).each2(function(){0!==this.indexOf("select2-")&&(o=i(this),o&&a.push(o))})),t.attr("class",a.join(" "))}function b(e,t,i,r){var o=n(e.toUpperCase()).indexOf(n(t.toUpperCase())),a=t.length;return 0>o?void i.push(r(e)):(i.push(r(e.substring(0,o))),i.push("<span class='select2-match'>"),i.push(r(e.substring(o,o+a))),i.push("</span>"),void i.push(r(e.substring(o+a,e.length))))}function w(e){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return String(e).replace(/[&<>"'\/\\]/g,function(e){return t[e]})}function x(n){var i,r=null,o=n.quietMillis||100,a=n.url,s=this;return function(u){window.clearTimeout(i),i=window.setTimeout(function(){var i=n.data,o=a,l=n.transport||e.fn.select2.ajaxDefaults.transport,c={type:n.type||"GET",cache:n.cache||!1,jsonpCallback:n.jsonpCallback||t,dataType:n.dataType||"json"},d=e.extend({},e.fn.select2.ajaxDefaults.params,c);i=i?i.call(s,u.term,u.page,u.context):null,o="function"==typeof o?o.call(s,u.term,u.page,u.context):o,r&&r.abort(),n.params&&(e.isFunction(n.params)?e.extend(d,n.params.call(s)):e.extend(d,n.params)),e.extend(d,{url:o,dataType:n.dataType,data:i,success:function(e){var t=n.results(e,u.page);u.callback(t)}}),r=l.call(s,d)},o)}}function S(t){var n,i,r=t,o=function(e){return""+e.text};e.isArray(r)&&(i=r,r={results:i}),e.isFunction(r)===!1&&(i=r,r=function(){return i});var a=r();return a.text&&(o=a.text,e.isFunction(o)||(n=a.text,o=function(e){return e[n]})),function(t){var n,i=t.term,a={results:[]};return""===i?void t.callback(r()):(n=function(r,a){var s,u;if(r=r[0],r.children){s={};for(u in r)r.hasOwnProperty(u)&&(s[u]=r[u]);s.children=[],e(r.children).each2(function(e,t){n(t,s.children)}),(s.children.length||t.matcher(i,o(s),r))&&a.push(s)}else t.matcher(i,o(r),r)&&a.push(r)},e(r().results).each2(function(e,t){n(t,a.results)}),void t.callback(a))}}function A(n){var i=e.isFunction(n);return function(r){var o=r.term,a={results:[]};e(i?n():n).each(function(){var e=this.text!==t,n=e?this.text:this;(""===o||r.matcher(o,n))&&a.results.push(e?this:{id:this,text:this})}),r.callback(a)}}function C(t,n){if(e.isFunction(t))return!0;if(!t)return!1;throw new Error(n+" must be a function or a falsy value")}function _(t){return e.isFunction(t)?t():t}function $(t){var n=0;return e.each(t,function(e,t){t.children?n+=$(t.children):n++}),n}function k(e,n,i,r){var a,s,u,l,c,d=e,p=!1;if(!r.createSearchChoice||!r.tokenSeparators||r.tokenSeparators.length<1)return t;for(;;){for(s=-1,u=0,l=r.tokenSeparators.length;l>u&&(c=r.tokenSeparators[u],s=e.indexOf(c),!(s>=0));u++);if(0>s)break;if(a=e.substring(0,s),e=e.substring(s+c.length),a.length>0&&(a=r.createSearchChoice.call(this,a,n),a!==t&&null!==a&&r.id(a)!==t&&null!==r.id(a))){for(p=!1,u=0,l=n.length;l>u;u++)if(o(r.id(a),r.id(n[u]))){p=!0;break}p||i(a)}}return d!==e?e:void 0}function T(t,n){var i=function(){};return i.prototype=new t,i.prototype.constructor=i,i.prototype.parent=t.prototype,i.prototype=e.extend(i.prototype,n),i}if(window.Select2===t){var E,N,j,H,D,R,q,O,P={x:0,y:0},E={TAB:9,ENTER:13,ESC:27,SPACE:32,LEFT:37,UP:38,RIGHT:39,DOWN:40,SHIFT:16,CTRL:17,ALT:18,PAGE_UP:33,PAGE_DOWN:34,HOME:36,END:35,BACKSPACE:8,DELETE:46,isArrow:function(e){switch(e=e.which?e.which:e){case E.LEFT:case E.RIGHT:case E.UP:case E.DOWN:return!0}return!1},isControl:function(e){var t=e.which;switch(t){case E.SHIFT:case E.CTRL:case E.ALT:return!0}return e.metaKey?!0:!1},isFunctionKey:function(e){return e=e.which?e.which:e,e>=112&&123>=e}},M="<div class='select2-measure-scrollbar'></div>",I={"Ⓐ":"A",Ａ:"A",À:"A",Á:"A",Â:"A",Ầ:"A",Ấ:"A",Ẫ:"A",Ẩ:"A",Ã:"A",Ā:"A",Ă:"A",Ằ:"A",Ắ:"A",Ẵ:"A",Ẳ:"A",Ȧ:"A",Ǡ:"A",Ä:"A",Ǟ:"A",Ả:"A",Å:"A",Ǻ:"A",Ǎ:"A",Ȁ:"A",Ȃ:"A",Ạ:"A",Ậ:"A",Ặ:"A",Ḁ:"A",Ą:"A",Ⱥ:"A",Ɐ:"A",Ꜳ:"AA",Æ:"AE",Ǽ:"AE",Ǣ:"AE",Ꜵ:"AO",Ꜷ:"AU",Ꜹ:"AV",Ꜻ:"AV",Ꜽ:"AY","Ⓑ":"B",Ｂ:"B",Ḃ:"B",Ḅ:"B",Ḇ:"B",Ƀ:"B",Ƃ:"B",Ɓ:"B","Ⓒ":"C",Ｃ:"C",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",Ç:"C",Ḉ:"C",Ƈ:"C",Ȼ:"C",Ꜿ:"C","Ⓓ":"D",Ｄ:"D",Ḋ:"D",Ď:"D",Ḍ:"D",Ḑ:"D",Ḓ:"D",Ḏ:"D",Đ:"D",Ƌ:"D",Ɗ:"D",Ɖ:"D",Ꝺ:"D",Ǳ:"DZ",Ǆ:"DZ",ǲ:"Dz",ǅ:"Dz","Ⓔ":"E",Ｅ:"E",È:"E",É:"E",Ê:"E",Ề:"E",Ế:"E",Ễ:"E",Ể:"E",Ẽ:"E",Ē:"E",Ḕ:"E",Ḗ:"E",Ĕ:"E",Ė:"E",Ë:"E",Ẻ:"E",Ě:"E",Ȅ:"E",Ȇ:"E",Ẹ:"E",Ệ:"E",Ȩ:"E",Ḝ:"E",Ę:"E",Ḙ:"E",Ḛ:"E",Ɛ:"E",Ǝ:"E","Ⓕ":"F",Ｆ:"F",Ḟ:"F",Ƒ:"F",Ꝼ:"F","Ⓖ":"G",Ｇ:"G",Ǵ:"G",Ĝ:"G",Ḡ:"G",Ğ:"G",Ġ:"G",Ǧ:"G",Ģ:"G",Ǥ:"G",Ɠ:"G","Ꞡ":"G",Ᵹ:"G",Ꝿ:"G","Ⓗ":"H",Ｈ:"H",Ĥ:"H",Ḣ:"H",Ḧ:"H",Ȟ:"H",Ḥ:"H",Ḩ:"H",Ḫ:"H",Ħ:"H",Ⱨ:"H",Ⱶ:"H","Ɥ":"H","Ⓘ":"I",Ｉ:"I",Ì:"I",Í:"I",Î:"I",Ĩ:"I",Ī:"I",Ĭ:"I",İ:"I",Ï:"I",Ḯ:"I",Ỉ:"I",Ǐ:"I",Ȉ:"I",Ȋ:"I",Ị:"I",Į:"I",Ḭ:"I",Ɨ:"I","Ⓙ":"J",Ｊ:"J",Ĵ:"J",Ɉ:"J","Ⓚ":"K",Ｋ:"K",Ḱ:"K",Ǩ:"K",Ḳ:"K",Ķ:"K",Ḵ:"K",Ƙ:"K",Ⱪ:"K",Ꝁ:"K",Ꝃ:"K",Ꝅ:"K","Ꞣ":"K","Ⓛ":"L",Ｌ:"L",Ŀ:"L",Ĺ:"L",Ľ:"L",Ḷ:"L",Ḹ:"L",Ļ:"L",Ḽ:"L",Ḻ:"L",Ł:"L",Ƚ:"L",Ɫ:"L",Ⱡ:"L",Ꝉ:"L",Ꝇ:"L",Ꞁ:"L",Ǉ:"LJ",ǈ:"Lj","Ⓜ":"M",Ｍ:"M",Ḿ:"M",Ṁ:"M",Ṃ:"M",Ɱ:"M",Ɯ:"M","Ⓝ":"N",Ｎ:"N",Ǹ:"N",Ń:"N",Ñ:"N",Ṅ:"N",Ň:"N",Ṇ:"N",Ņ:"N",Ṋ:"N",Ṉ:"N",Ƞ:"N",Ɲ:"N","Ꞑ":"N","Ꞥ":"N",Ǌ:"NJ",ǋ:"Nj","Ⓞ":"O",Ｏ:"O",Ò:"O",Ó:"O",Ô:"O",Ồ:"O",Ố:"O",Ỗ:"O",Ổ:"O",Õ:"O",Ṍ:"O",Ȭ:"O",Ṏ:"O",Ō:"O",Ṑ:"O",Ṓ:"O",Ŏ:"O",Ȯ:"O",Ȱ:"O",Ö:"O",Ȫ:"O",Ỏ:"O",Ő:"O",Ǒ:"O",Ȍ:"O",Ȏ:"O",Ơ:"O",Ờ:"O",Ớ:"O",Ỡ:"O",Ở:"O",Ợ:"O",Ọ:"O",Ộ:"O",Ǫ:"O",Ǭ:"O",Ø:"O",Ǿ:"O",Ɔ:"O",Ɵ:"O",Ꝋ:"O",Ꝍ:"O",Ƣ:"OI",Ꝏ:"OO",Ȣ:"OU","Ⓟ":"P",Ｐ:"P",Ṕ:"P",Ṗ:"P",Ƥ:"P",Ᵽ:"P",Ꝑ:"P",Ꝓ:"P",Ꝕ:"P","Ⓠ":"Q",Ｑ:"Q",Ꝗ:"Q",Ꝙ:"Q",Ɋ:"Q","Ⓡ":"R",Ｒ:"R",Ŕ:"R",Ṙ:"R",Ř:"R",Ȑ:"R",Ȓ:"R",Ṛ:"R",Ṝ:"R",Ŗ:"R",Ṟ:"R",Ɍ:"R",Ɽ:"R",Ꝛ:"R","Ꞧ":"R",Ꞃ:"R","Ⓢ":"S",Ｓ:"S",ẞ:"S",Ś:"S",Ṥ:"S",Ŝ:"S",Ṡ:"S",Š:"S",Ṧ:"S",Ṣ:"S",Ṩ:"S",Ș:"S",Ş:"S","Ȿ":"S","Ꞩ":"S",Ꞅ:"S","Ⓣ":"T",Ｔ:"T",Ṫ:"T",Ť:"T",Ṭ:"T",Ț:"T",Ţ:"T",Ṱ:"T",Ṯ:"T",Ŧ:"T",Ƭ:"T",Ʈ:"T",Ⱦ:"T",Ꞇ:"T",Ꜩ:"TZ","Ⓤ":"U",Ｕ:"U",Ù:"U",Ú:"U",Û:"U",Ũ:"U",Ṹ:"U",Ū:"U",Ṻ:"U",Ŭ:"U",Ü:"U",Ǜ:"U",Ǘ:"U",Ǖ:"U",Ǚ:"U",Ủ:"U",Ů:"U",Ű:"U",Ǔ:"U",Ȕ:"U",Ȗ:"U",Ư:"U",Ừ:"U",Ứ:"U",Ữ:"U",Ử:"U",Ự:"U",Ụ:"U",Ṳ:"U",Ų:"U",Ṷ:"U",Ṵ:"U",Ʉ:"U","Ⓥ":"V",Ｖ:"V",Ṽ:"V",Ṿ:"V",Ʋ:"V",Ꝟ:"V",Ʌ:"V",Ꝡ:"VY","Ⓦ":"W",Ｗ:"W",Ẁ:"W",Ẃ:"W",Ŵ:"W",Ẇ:"W",Ẅ:"W",Ẉ:"W",Ⱳ:"W","Ⓧ":"X",Ｘ:"X",Ẋ:"X",Ẍ:"X","Ⓨ":"Y",Ｙ:"Y",Ỳ:"Y",Ý:"Y",Ŷ:"Y",Ỹ:"Y",Ȳ:"Y",Ẏ:"Y",Ÿ:"Y",Ỷ:"Y",Ỵ:"Y",Ƴ:"Y",Ɏ:"Y",Ỿ:"Y","Ⓩ":"Z",Ｚ:"Z",Ź:"Z",Ẑ:"Z",Ż:"Z",Ž:"Z",Ẓ:"Z",Ẕ:"Z",Ƶ:"Z",Ȥ:"Z","Ɀ":"Z",Ⱬ:"Z",Ꝣ:"Z","ⓐ":"a",ａ:"a",ẚ:"a",à:"a",á:"a",â:"a",ầ:"a",ấ:"a",ẫ:"a",ẩ:"a",ã:"a",ā:"a",ă:"a",ằ:"a",ắ:"a",ẵ:"a",ẳ:"a",ȧ:"a",ǡ:"a",ä:"a",ǟ:"a",ả:"a",å:"a",ǻ:"a",ǎ:"a",ȁ:"a",ȃ:"a",ạ:"a",ậ:"a",ặ:"a",ḁ:"a",ą:"a",ⱥ:"a",ɐ:"a",ꜳ:"aa",æ:"ae",ǽ:"ae",ǣ:"ae",ꜵ:"ao",ꜷ:"au",ꜹ:"av",ꜻ:"av",ꜽ:"ay","ⓑ":"b",ｂ:"b",ḃ:"b",ḅ:"b",ḇ:"b",ƀ:"b",ƃ:"b",ɓ:"b","ⓒ":"c",ｃ:"c",ć:"c",ĉ:"c",ċ:"c",č:"c",ç:"c",ḉ:"c",ƈ:"c",ȼ:"c",ꜿ:"c",ↄ:"c","ⓓ":"d",ｄ:"d",ḋ:"d",ď:"d",ḍ:"d",ḑ:"d",ḓ:"d",ḏ:"d",đ:"d",ƌ:"d",ɖ:"d",ɗ:"d",ꝺ:"d",ǳ:"dz",ǆ:"dz","ⓔ":"e",ｅ:"e",è:"e",é:"e",ê:"e",ề:"e",ế:"e",ễ:"e",ể:"e",ẽ:"e",ē:"e",ḕ:"e",ḗ:"e",ĕ:"e",ė:"e",ë:"e",ẻ:"e",ě:"e",ȅ:"e",ȇ:"e",ẹ:"e",ệ:"e",ȩ:"e",ḝ:"e",ę:"e",ḙ:"e",ḛ:"e",ɇ:"e",ɛ:"e",ǝ:"e","ⓕ":"f",ｆ:"f",ḟ:"f",ƒ:"f",ꝼ:"f","ⓖ":"g",ｇ:"g",ǵ:"g",ĝ:"g",ḡ:"g",ğ:"g",ġ:"g",ǧ:"g",ģ:"g",ǥ:"g",ɠ:"g","ꞡ":"g",ᵹ:"g",ꝿ:"g","ⓗ":"h",ｈ:"h",ĥ:"h",ḣ:"h",ḧ:"h",ȟ:"h",ḥ:"h",ḩ:"h",ḫ:"h",ẖ:"h",ħ:"h",ⱨ:"h",ⱶ:"h",ɥ:"h",ƕ:"hv","ⓘ":"i",ｉ:"i",ì:"i",í:"i",î:"i",ĩ:"i",ī:"i",ĭ:"i",ï:"i",ḯ:"i",ỉ:"i",ǐ:"i",ȉ:"i",ȋ:"i",ị:"i",į:"i",ḭ:"i",ɨ:"i",ı:"i","ⓙ":"j",ｊ:"j",ĵ:"j",ǰ:"j",ɉ:"j","ⓚ":"k",ｋ:"k",ḱ:"k",ǩ:"k",ḳ:"k",ķ:"k",ḵ:"k",ƙ:"k",ⱪ:"k",ꝁ:"k",ꝃ:"k",ꝅ:"k","ꞣ":"k","ⓛ":"l",ｌ:"l",ŀ:"l",ĺ:"l",ľ:"l",ḷ:"l",ḹ:"l",ļ:"l",ḽ:"l",ḻ:"l",ſ:"l",ł:"l",ƚ:"l",ɫ:"l",ⱡ:"l",ꝉ:"l",ꞁ:"l",ꝇ:"l",ǉ:"lj","ⓜ":"m",ｍ:"m",ḿ:"m",ṁ:"m",ṃ:"m",ɱ:"m",ɯ:"m","ⓝ":"n",ｎ:"n",ǹ:"n",ń:"n",ñ:"n",ṅ:"n",ň:"n",ṇ:"n",ņ:"n",ṋ:"n",ṉ:"n",ƞ:"n",ɲ:"n",ŉ:"n","ꞑ":"n","ꞥ":"n",ǌ:"nj","ⓞ":"o",ｏ:"o",ò:"o",ó:"o",ô:"o",ồ:"o",ố:"o",ỗ:"o",ổ:"o",õ:"o",ṍ:"o",ȭ:"o",ṏ:"o",ō:"o",ṑ:"o",ṓ:"o",ŏ:"o",ȯ:"o",ȱ:"o",ö:"o",ȫ:"o",ỏ:"o",ő:"o",ǒ:"o",ȍ:"o",ȏ:"o",ơ:"o",ờ:"o",ớ:"o",ỡ:"o",ở:"o",ợ:"o",ọ:"o",ộ:"o",ǫ:"o",ǭ:"o",ø:"o",ǿ:"o",ɔ:"o",ꝋ:"o",ꝍ:"o",ɵ:"o",ƣ:"oi",ȣ:"ou",ꝏ:"oo","ⓟ":"p",ｐ:"p",ṕ:"p",ṗ:"p",ƥ:"p",ᵽ:"p",ꝑ:"p",ꝓ:"p",ꝕ:"p","ⓠ":"q",ｑ:"q",ɋ:"q",ꝗ:"q",ꝙ:"q","ⓡ":"r",ｒ:"r",ŕ:"r",ṙ:"r",ř:"r",ȑ:"r",ȓ:"r",ṛ:"r",ṝ:"r",ŗ:"r",ṟ:"r",ɍ:"r",ɽ:"r",ꝛ:"r","ꞧ":"r",ꞃ:"r","ⓢ":"s",ｓ:"s",ß:"s",ś:"s",ṥ:"s",ŝ:"s",ṡ:"s",š:"s",ṧ:"s",ṣ:"s",ṩ:"s",ș:"s",ş:"s",ȿ:"s","ꞩ":"s",ꞅ:"s",ẛ:"s","ⓣ":"t",ｔ:"t",ṫ:"t",ẗ:"t",ť:"t",ṭ:"t",ț:"t",ţ:"t",ṱ:"t",ṯ:"t",ŧ:"t",ƭ:"t",ʈ:"t",ⱦ:"t",ꞇ:"t",ꜩ:"tz","ⓤ":"u",ｕ:"u",ù:"u",ú:"u",û:"u",ũ:"u",ṹ:"u",ū:"u",ṻ:"u",ŭ:"u",ü:"u",ǜ:"u",ǘ:"u",ǖ:"u",ǚ:"u",ủ:"u",ů:"u",ű:"u",ǔ:"u",ȕ:"u",ȗ:"u",ư:"u",ừ:"u",ứ:"u",ữ:"u",ử:"u",ự:"u",ụ:"u",ṳ:"u",ų:"u",ṷ:"u",ṵ:"u",ʉ:"u","ⓥ":"v",ｖ:"v",ṽ:"v",ṿ:"v",ʋ:"v",ꝟ:"v",ʌ:"v",ꝡ:"vy","ⓦ":"w",ｗ:"w",ẁ:"w",ẃ:"w",ŵ:"w",ẇ:"w",ẅ:"w",ẘ:"w",ẉ:"w",ⱳ:"w","ⓧ":"x",ｘ:"x",ẋ:"x",ẍ:"x","ⓨ":"y",ｙ:"y",ỳ:"y",ý:"y",ŷ:"y",ỹ:"y",ȳ:"y",ẏ:"y",ÿ:"y",ỷ:"y",ẙ:"y",ỵ:"y",ƴ:"y",ɏ:"y",ỿ:"y","ⓩ":"z",ｚ:"z",ź:"z",ẑ:"z",ż:"z",ž:"z",ẓ:"z",ẕ:"z",ƶ:"z",ȥ:"z",ɀ:"z",ⱬ:"z",ꝣ:"z"};
q=e(document),D=function(){var e=1;return function(){return e++}}(),q.on("mousemove",function(e){P.x=e.pageX,P.y=e.pageY}),N=T(Object,{bind:function(e){var t=this;return function(){e.apply(t,arguments)}},init:function(n){var i,o,a=".select2-results";this.opts=n=this.prepareOpts(n),this.id=n.id,n.element.data("select2")!==t&&null!==n.element.data("select2")&&n.element.data("select2").destroy(),this.container=this.createContainer(),this.containerId="s2id_"+(n.element.attr("id")||"autogen"+D()),this.containerSelector="#"+this.containerId.replace(/([;&,\.\+\*\~':"\!\^#$%@\[\]\(\)=>\|])/g,"\\$1"),this.container.attr("id",this.containerId),this.body=d(function(){return n.element.closest("body")}),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.attr("style",n.element.attr("style")),this.container.css(_(n.containerCss)),this.container.addClass(_(n.containerCssClass)),this.elementTabIndex=this.opts.element.attr("tabindex"),this.opts.element.data("select2",this).attr("tabindex","-1").before(this.container).on("click.select2",g),this.container.data("select2",this),this.dropdown=this.container.find(".select2-drop"),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(_(n.dropdownCssClass)),this.dropdown.data("select2",this),this.dropdown.on("click",g),this.results=i=this.container.find(a),this.search=o=this.container.find("input.select2-input"),this.queryCount=0,this.resultsPage=0,this.context=null,this.initContainer(),this.container.on("click",g),l(this.results),this.dropdown.on("mousemove-filtered touchstart touchmove touchend",a,this.bind(this.highlightUnderEvent)),p(80,this.results),this.dropdown.on("scroll-debounced",a,this.bind(this.loadMoreIfNeeded)),e(this.container).on("change",".select2-input",function(e){e.stopPropagation()}),e(this.dropdown).on("change",".select2-input",function(e){e.stopPropagation()}),e.fn.mousewheel&&i.mousewheel(function(e,t,n,r){var o=i.scrollTop();r>0&&0>=o-r?(i.scrollTop(0),g(e)):0>r&&i.get(0).scrollHeight-i.scrollTop()+r<=i.height()&&(i.scrollTop(i.get(0).scrollHeight-i.height()),g(e))}),u(o),o.on("keyup-change input paste",this.bind(this.updateResults)),o.on("focus",function(){o.addClass("select2-focused")}),o.on("blur",function(){o.removeClass("select2-focused")}),this.dropdown.on("mouseup",a,this.bind(function(t){e(t.target).closest(".select2-result-selectable").length>0&&(this.highlightUnderEvent(t),this.selectHighlighted(t))})),this.dropdown.on("click mouseup mousedown",function(e){e.stopPropagation()}),e.isFunction(this.opts.initSelection)&&(this.initSelection(),this.monitorSource()),null!==n.maximumInputLength&&this.search.attr("maxlength",n.maximumInputLength);var s=n.element.prop("disabled");s===t&&(s=!1),this.enable(!s);var c=n.element.prop("readonly");c===t&&(c=!1),this.readonly(c),O=O||r(),this.autofocus=n.element.prop("autofocus"),n.element.prop("autofocus",!1),this.autofocus&&this.focus(),this.nextSearchTerm=t},destroy:function(){var e=this.opts.element,n=e.data("select2");this.close(),this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),n!==t&&(n.container.remove(),n.dropdown.remove(),e.removeClass("select2-offscreen").removeData("select2").off(".select2").prop("autofocus",this.autofocus||!1),this.elementTabIndex?e.attr({tabindex:this.elementTabIndex}):e.removeAttr("tabindex"),e.show())},optionToData:function(e){return e.is("option")?{id:e.prop("value"),text:e.text(),element:e.get(),css:e.attr("class"),disabled:e.prop("disabled"),locked:o(e.attr("locked"),"locked")||o(e.data("locked"),!0)}:e.is("optgroup")?{text:e.attr("label"),children:[],element:e.get(),css:e.attr("class")}:void 0},prepareOpts:function(n){var i,r,s,u,l=this;if(i=n.element,"select"===i.get(0).tagName.toLowerCase()&&(this.select=r=n.element),r&&e.each(["id","multiple","ajax","query","createSearchChoice","initSelection","data","tags"],function(){if(this in n)throw new Error("Option '"+this+"' is not allowed for Select2 when attached to a <select> element.")}),n=e.extend({},{populateResults:function(i,r,o){var a,s=this.opts.id;(a=function(i,r,u){var c,d,p,h,f,g,m,v,y,b;for(i=n.sortResults(i,r,o),c=0,d=i.length;d>c;c+=1)p=i[c],f=p.disabled===!0,h=!f&&s(p)!==t,g=p.children&&p.children.length>0,m=e("<li></li>"),m.addClass("select2-results-dept-"+u),m.addClass("select2-result"),m.addClass(h?"select2-result-selectable":"select2-result-unselectable"),f&&m.addClass("select2-disabled"),g&&m.addClass("select2-result-with-children"),m.addClass(l.opts.formatResultCssClass(p)),v=e(document.createElement("div")),v.addClass("select2-result-label"),b=n.formatResult(p,v,o,l.opts.escapeMarkup),b!==t&&v.html(b),m.append(v),g&&(y=e("<ul></ul>"),y.addClass("select2-result-sub"),a(p.children,y,u+1),m.append(y)),m.data("select2-data",p),r.append(m)})(r,i,0)}},e.fn.select2.defaults,n),"function"!=typeof n.id&&(s=n.id,n.id=function(e){return e[s]}),e.isArray(n.element.data("select2Tags"))){if("tags"in n)throw"tags specified as both an attribute 'data-select2-tags' and in options of Select2 "+n.element.attr("id");n.tags=n.element.data("select2Tags")}if(r?(n.query=this.bind(function(e){var n,r,o,a={results:[],more:!1},s=e.term;o=function(t,n){var i;t.is("option")?e.matcher(s,t.text(),t)&&n.push(l.optionToData(t)):t.is("optgroup")&&(i=l.optionToData(t),t.children().each2(function(e,t){o(t,i.children)}),i.children.length>0&&n.push(i))},n=i.children(),this.getPlaceholder()!==t&&n.length>0&&(r=this.getPlaceholderOption(),r&&(n=n.not(r))),n.each2(function(e,t){o(t,a.results)}),e.callback(a)}),n.id=function(e){return e.id},n.formatResultCssClass=function(e){return e.css}):"query"in n||("ajax"in n?(u=n.element.data("ajax-url"),u&&u.length>0&&(n.ajax.url=u),n.query=x.call(n.element,n.ajax)):"data"in n?n.query=S(n.data):"tags"in n&&(n.query=A(n.tags),n.createSearchChoice===t&&(n.createSearchChoice=function(t){return{id:e.trim(t),text:e.trim(t)}}),n.initSelection===t&&(n.initSelection=function(t,i){var r=[];e(a(t.val(),n.separator)).each(function(){var t={id:this,text:this},i=n.tags;e.isFunction(i)&&(i=i()),e(i).each(function(){return o(this.id,t.id)?(t=this,!1):void 0}),r.push(t)}),i(r)}))),"function"!=typeof n.query)throw"query function not defined for Select2 "+n.element.attr("id");return n},monitorSource:function(){var e,n,i=this.opts.element;i.on("change.select2",this.bind(function(){this.opts.element.data("select2-change-triggered")!==!0&&this.initSelection()})),e=this.bind(function(){var e=i.prop("disabled");e===t&&(e=!1),this.enable(!e);var n=i.prop("readonly");n===t&&(n=!1),this.readonly(n),y(this.container,this.opts.element,this.opts.adaptContainerCssClass),this.container.addClass(_(this.opts.containerCssClass)),y(this.dropdown,this.opts.element,this.opts.adaptDropdownCssClass),this.dropdown.addClass(_(this.opts.dropdownCssClass))}),i.on("propertychange.select2",e),this.mutationCallback===t&&(this.mutationCallback=function(t){t.forEach(e)}),n=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,n!==t&&(this.propertyObserver&&(delete this.propertyObserver,this.propertyObserver=null),this.propertyObserver=new n(this.mutationCallback),this.propertyObserver.observe(i.get(0),{attributes:!0,subtree:!1}))},triggerSelect:function(t){var n=e.Event("select2-selecting",{val:this.id(t),object:t});return this.opts.element.trigger(n),!n.isDefaultPrevented()},triggerChange:function(t){t=t||{},t=e.extend({},t,{type:"change",val:this.val()}),this.opts.element.data("select2-change-triggered",!0),this.opts.element.trigger(t),this.opts.element.data("select2-change-triggered",!1),this.opts.element.click(),this.opts.blurOnChange&&this.opts.element.blur()},isInterfaceEnabled:function(){return this.enabledInterface===!0},enableInterface:function(){var e=this._enabled&&!this._readonly,t=!e;return e===this.enabledInterface?!1:(this.container.toggleClass("select2-container-disabled",t),this.close(),this.enabledInterface=e,!0)},enable:function(e){e===t&&(e=!0),this._enabled!==e&&(this._enabled=e,this.opts.element.prop("disabled",!e),this.enableInterface())},disable:function(){this.enable(!1)},readonly:function(e){return e===t&&(e=!1),this._readonly===e?!1:(this._readonly=e,this.opts.element.prop("readonly",e),this.enableInterface(),!0)},opened:function(){return this.container.hasClass("select2-dropdown-open")},positionDropdown:function(){var t,n,i,r,o,a=this.dropdown,s=this.container.offset(),u=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=a.outerHeight(!1),d=e(window),p=d.width(),h=d.height(),f=d.scrollLeft()+p,g=d.scrollTop()+h,m=s.top+u,v=s.left,y=g>=m+c,b=s.top-c>=this.body().scrollTop(),w=a.outerWidth(!1),x=f>=v+w,S=a.hasClass("select2-drop-above");S?(n=!0,!b&&y&&(i=!0,n=!1)):(n=!1,!y&&b&&(i=!0,n=!0)),i&&(a.hide(),s=this.container.offset(),u=this.container.outerHeight(!1),l=this.container.outerWidth(!1),c=a.outerHeight(!1),f=d.scrollLeft()+p,g=d.scrollTop()+h,m=s.top+u,v=s.left,w=a.outerWidth(!1),x=f>=v+w,a.show()),this.opts.dropdownAutoWidth?(o=e(".select2-results",a)[0],a.addClass("select2-drop-auto-width"),a.css("width",""),w=a.outerWidth(!1)+(o.scrollHeight===o.clientHeight?0:O.width),w>l?l=w:w=l,x=f>=v+w):this.container.removeClass("select2-drop-auto-width"),"static"!==this.body().css("position")&&(t=this.body().offset(),m-=t.top,v-=t.left),x||(v=s.left+l-w),r={left:v,width:l},n?(r.bottom=h-s.top,r.top="auto",this.container.addClass("select2-drop-above"),a.addClass("select2-drop-above")):(r.top=m,r.bottom="auto",this.container.removeClass("select2-drop-above"),a.removeClass("select2-drop-above")),r=e.extend(r,_(this.opts.dropdownCss)),a.css(r)},shouldOpen:function(){var t;return this.opened()?!1:this._enabled===!1||this._readonly===!0?!1:(t=e.Event("select2-opening"),this.opts.element.trigger(t),!t.isDefaultPrevented())},clearDropdownAlignmentPreference:function(){this.container.removeClass("select2-drop-above"),this.dropdown.removeClass("select2-drop-above")},open:function(){return this.shouldOpen()?(this.opening(),!0):!1},opening:function(){var t,n=this.containerId,i="scroll."+n,r="resize."+n,o="orientationchange."+n;this.container.addClass("select2-dropdown-open").addClass("select2-container-active"),this.clearDropdownAlignmentPreference(),this.dropdown[0]!==this.body().children().last()[0]&&this.dropdown.detach().appendTo(this.body()),t=e("#select2-drop-mask"),0==t.length&&(t=e(document.createElement("div")),t.attr("id","select2-drop-mask").attr("class","select2-drop-mask"),t.hide(),t.appendTo(this.body()),t.on("mousedown touchstart click",function(t){var n,i=e("#select2-drop");i.length>0&&(n=i.data("select2"),n.opts.selectOnBlur&&n.selectHighlighted({noFocus:!0}),n.close({focus:!0}),t.preventDefault(),t.stopPropagation())})),this.dropdown.prev()[0]!==t[0]&&this.dropdown.before(t),e("#select2-drop").removeAttr("id"),this.dropdown.attr("id","select2-drop"),t.show(),this.positionDropdown(),this.dropdown.show(),this.positionDropdown(),this.dropdown.addClass("select2-drop-active");var a=this;this.container.parents().add(window).each(function(){e(this).on(r+" "+i+" "+o,function(){a.positionDropdown()})})},close:function(){if(this.opened()){var t=this.containerId,n="scroll."+t,i="resize."+t,r="orientationchange."+t;this.container.parents().add(window).each(function(){e(this).off(n).off(i).off(r)}),this.clearDropdownAlignmentPreference(),e("#select2-drop-mask").hide(),this.dropdown.removeAttr("id"),this.dropdown.hide(),this.container.removeClass("select2-dropdown-open").removeClass("select2-container-active"),this.results.empty(),this.clearSearch(),this.search.removeClass("select2-active"),this.opts.element.trigger(e.Event("select2-close"))}},externalSearch:function(e){this.open(),this.search.val(e),this.updateResults(!1)},clearSearch:function(){},getMaximumSelectionSize:function(){return _(this.opts.maximumSelectionSize)},ensureHighlightVisible:function(){var t,n,i,r,o,a,s,u=this.results;if(n=this.highlight(),!(0>n)){if(0==n)return void u.scrollTop(0);t=this.findHighlightableChoices().find(".select2-result-label"),i=e(t[n]),r=i.offset().top+i.outerHeight(!0),n===t.length-1&&(s=u.find("li.select2-more-results"),s.length>0&&(r=s.offset().top+s.outerHeight(!0))),o=u.offset().top+u.outerHeight(!0),r>o&&u.scrollTop(u.scrollTop()+(r-o)),a=i.offset().top-u.offset().top,0>a&&"none"!=i.css("display")&&u.scrollTop(u.scrollTop()+a)}},findHighlightableChoices:function(){return this.results.find(".select2-result-selectable:not(.select2-disabled, .select2-selected)")},moveHighlight:function(t){for(var n=this.findHighlightableChoices(),i=this.highlight();i>-1&&i<n.length;){i+=t;var r=e(n[i]);if(r.hasClass("select2-result-selectable")&&!r.hasClass("select2-disabled")&&!r.hasClass("select2-selected")){this.highlight(i);break}}},highlight:function(t){var n,r,o=this.findHighlightableChoices();return 0===arguments.length?i(o.filter(".select2-highlighted")[0],o.get()):(t>=o.length&&(t=o.length-1),0>t&&(t=0),this.removeHighlight(),n=e(o[t]),n.addClass("select2-highlighted"),this.ensureHighlightVisible(),r=n.data("select2-data"),void(r&&this.opts.element.trigger({type:"select2-highlight",val:this.id(r),choice:r})))},removeHighlight:function(){this.results.find(".select2-highlighted").removeClass("select2-highlighted")},countSelectableResults:function(){return this.findHighlightableChoices().length},highlightUnderEvent:function(t){var n=e(t.target).closest(".select2-result-selectable");if(n.length>0&&!n.is(".select2-highlighted")){var i=this.findHighlightableChoices();this.highlight(i.index(n))}else 0==n.length&&this.removeHighlight()},loadMoreIfNeeded:function(){var e,t=this.results,n=t.find("li.select2-more-results"),i=this.resultsPage+1,r=this,o=this.search.val(),a=this.context;0!==n.length&&(e=n.offset().top-t.offset().top-t.height(),e<=this.opts.loadMorePadding&&(n.addClass("select2-active"),this.opts.query({element:this.opts.element,term:o,page:i,context:a,matcher:this.opts.matcher,callback:this.bind(function(e){r.opened()&&(r.opts.populateResults.call(this,t,e.results,{term:o,page:i,context:a}),r.postprocessResults(e,!1,!1),e.more===!0?(n.detach().appendTo(t).text(r.opts.formatLoadMore(i+1)),window.setTimeout(function(){r.loadMoreIfNeeded()},10)):n.remove(),r.positionDropdown(),r.resultsPage=i,r.context=e.context,this.opts.element.trigger({type:"select2-loaded",items:e}))})})))},tokenize:function(){},updateResults:function(n){function i(){l.removeClass("select2-active"),p.positionDropdown()}function r(e){c.html(e),i()}var a,s,u,l=this.search,c=this.results,d=this.opts,p=this,h=l.val(),f=e.data(this.container,"select2-last-term");if((n===!0||!f||!o(h,f))&&(e.data(this.container,"select2-last-term",h),n===!0||this.showSearchInput!==!1&&this.opened())){u=++this.queryCount;var g=this.getMaximumSelectionSize();if(g>=1&&(a=this.data(),e.isArray(a)&&a.length>=g&&C(d.formatSelectionTooBig,"formatSelectionTooBig")))return void r("<li class='select2-selection-limit'>"+d.formatSelectionTooBig(g)+"</li>");if(l.val().length<d.minimumInputLength)return r(C(d.formatInputTooShort,"formatInputTooShort")?"<li class='select2-no-results'>"+d.formatInputTooShort(l.val(),d.minimumInputLength)+"</li>":""),void(n&&this.showSearch&&this.showSearch(!0));if(d.maximumInputLength&&l.val().length>d.maximumInputLength)return void r(C(d.formatInputTooLong,"formatInputTooLong")?"<li class='select2-no-results'>"+d.formatInputTooLong(l.val(),d.maximumInputLength)+"</li>":"");d.formatSearching&&0===this.findHighlightableChoices().length&&r("<li class='select2-searching'>"+d.formatSearching()+"</li>"),l.addClass("select2-active"),this.removeHighlight(),s=this.tokenize(),s!=t&&null!=s&&l.val(s),this.resultsPage=1,d.query({element:d.element,term:l.val(),page:this.resultsPage,context:null,matcher:d.matcher,callback:this.bind(function(a){var s;if(u==this.queryCount){if(!this.opened())return void this.search.removeClass("select2-active");if(this.context=a.context===t?null:a.context,this.opts.createSearchChoice&&""!==l.val()&&(s=this.opts.createSearchChoice.call(p,l.val(),a.results),s!==t&&null!==s&&p.id(s)!==t&&null!==p.id(s)&&0===e(a.results).filter(function(){return o(p.id(this),p.id(s))}).length&&a.results.unshift(s)),0===a.results.length&&C(d.formatNoMatches,"formatNoMatches"))return void r("<li class='select2-no-results'>"+d.formatNoMatches(l.val())+"</li>");c.empty(),p.opts.populateResults.call(this,c,a.results,{term:l.val(),page:this.resultsPage,context:null}),a.more===!0&&C(d.formatLoadMore,"formatLoadMore")&&(c.append("<li class='select2-more-results'>"+p.opts.escapeMarkup(d.formatLoadMore(this.resultsPage))+"</li>"),window.setTimeout(function(){p.loadMoreIfNeeded()},10)),this.postprocessResults(a,n),i(),this.opts.element.trigger({type:"select2-loaded",items:a})}})})}},cancel:function(){this.close()},blur:function(){this.opts.selectOnBlur&&this.selectHighlighted({noFocus:!0}),this.close(),this.container.removeClass("select2-container-active"),this.search[0]===document.activeElement&&this.search.blur(),this.clearSearch(),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus")},focusSearch:function(){h(this.search)},selectHighlighted:function(e){var t=this.highlight(),n=this.results.find(".select2-highlighted"),i=n.closest(".select2-result").data("select2-data");i?(this.highlight(t),this.onSelect(i,e)):e&&e.noFocus&&this.close()},getPlaceholder:function(){var e;return this.opts.element.attr("placeholder")||this.opts.element.attr("data-placeholder")||this.opts.element.data("placeholder")||this.opts.placeholder||((e=this.getPlaceholderOption())!==t?e.text():t)},getPlaceholderOption:function(){if(this.select){var e=this.select.children("option").first();if(this.opts.placeholderOption!==t)return"first"===this.opts.placeholderOption&&e||"function"==typeof this.opts.placeholderOption&&this.opts.placeholderOption(this.select);if(""===e.text()&&""===e.val())return e}},initContainerWidth:function(){function n(){var n,i,r,o,a,s;if("off"===this.opts.width)return null;if("element"===this.opts.width)return 0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px";if("copy"===this.opts.width||"resolve"===this.opts.width){if(n=this.opts.element.attr("style"),n!==t)for(i=n.split(";"),o=0,a=i.length;a>o;o+=1)if(s=i[o].replace(/\s/g,""),r=s.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),null!==r&&r.length>=1)return r[1];return"resolve"===this.opts.width?(n=this.opts.element.css("width"),n.indexOf("%")>0?n:0===this.opts.element.outerWidth(!1)?"auto":this.opts.element.outerWidth(!1)+"px"):null}return e.isFunction(this.opts.width)?this.opts.width():this.opts.width}var i=n.call(this);null!==i&&this.container.css("width",i)}}),j=T(N,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container"}).html(["<a href='javascript:void(0)' onclick='return false;' class='select2-choice' tabindex='-1'>","   <span class='select2-chosen'>&nbsp;</span><abbr class='select2-search-choice-close'></abbr>","   <span class='select2-arrow'><b></b></span>","</a>","<input class='select2-focusser select2-offscreen' type='text'/>","<div class='select2-drop select2-display-none'>","   <div class='select2-search'>","       <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'/>","   </div>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.focusser.prop("disabled",!this.isInterfaceEnabled())},opening:function(){var n,i,r;this.opts.minimumResultsForSearch>=0&&this.showSearch(!0),this.parent.opening.apply(this,arguments),this.showSearchInput!==!1&&this.search.val(this.focusser.val()),this.search.focus(),n=this.search.get(0),n.createTextRange?(i=n.createTextRange(),i.collapse(!1),i.select()):n.setSelectionRange&&(r=this.search.val().length,n.setSelectionRange(r,r)),""===this.search.val()&&this.nextSearchTerm!=t&&(this.search.val(this.nextSearchTerm),this.search.select()),this.focusser.prop("disabled",!0).val(""),this.updateResults(!0),this.opts.element.trigger(e.Event("select2-open"))},close:function(e){this.opened()&&(this.parent.close.apply(this,arguments),e=e||{focus:!0},this.focusser.removeAttr("disabled"),e.focus&&this.focusser.focus())},focus:function(){this.opened()?this.close():(this.focusser.removeAttr("disabled"),this.focusser.focus())},isFocused:function(){return this.container.hasClass("select2-container-active")},cancel:function(){this.parent.cancel.apply(this,arguments),this.focusser.removeAttr("disabled"),this.focusser.focus()},destroy:function(){e("label[for='"+this.focusser.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=this.container,i=this.dropdown;this.showSearch(this.opts.minimumResultsForSearch<0?!1:!0),this.selection=t=n.find(".select2-choice"),this.focusser=n.find(".select2-focusser"),this.focusser.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.focusser.attr("id")),this.focusser.attr("tabindex",this.elementTabIndex),this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){if(e.which===E.PAGE_UP||e.which===E.PAGE_DOWN)return void g(e);switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),void g(e);case E.ENTER:return this.selectHighlighted(),void g(e);case E.TAB:return void this.selectHighlighted({noFocus:!0});case E.ESC:return this.cancel(e),void g(e)}}})),this.search.on("blur",this.bind(function(){document.activeElement===this.body().get(0)&&window.setTimeout(this.bind(function(){this.search.focus()}),0)})),this.focusser.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()&&e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.ESC){if(this.opts.openOnEnter===!1&&e.which===E.ENTER)return void g(e);if(e.which==E.DOWN||e.which==E.UP||e.which==E.ENTER&&this.opts.openOnEnter){if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return;return this.open(),void g(e)}return e.which==E.DELETE||e.which==E.BACKSPACE?(this.opts.allowClear&&this.clear(),void g(e)):void 0}})),u(this.focusser),this.focusser.on("keyup-change input",this.bind(function(e){if(this.opts.minimumResultsForSearch>=0){if(e.stopPropagation(),this.opened())return;this.open()}})),t.on("mousedown","abbr",this.bind(function(e){this.isInterfaceEnabled()&&(this.clear(),m(e),this.close(),this.selection.focus())})),t.on("mousedown",this.bind(function(t){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.opened()?this.close():this.isInterfaceEnabled()&&this.open(),g(t)})),i.on("mousedown",this.bind(function(){this.search.focus()})),t.on("focus",this.bind(function(e){g(e)})),this.focusser.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})).on("blur",this.bind(function(){this.opened()||(this.container.removeClass("select2-container-active"),this.opts.element.trigger(e.Event("select2-blur")))})),this.search.on("focus",this.bind(function(){this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active")})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.setPlaceholder()},clear:function(t){var n=this.selection.data("select2-data");if(n){var i=e.Event("select2-clearing");if(this.opts.element.trigger(i),i.isDefaultPrevented())return;var r=this.getPlaceholderOption();this.opts.element.val(r?r.val():""),this.selection.find(".select2-chosen").empty(),this.selection.removeData("select2-data"),this.setPlaceholder(),t!==!1&&(this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},initSelection:function(){if(this.isPlaceholderOptionSelected())this.updateSelection(null),this.close(),this.setPlaceholder();else{var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.setPlaceholder())})}},isPlaceholderOptionSelected:function(){var e;return this.getPlaceholder()?(e=this.getPlaceholderOption())!==t&&e.prop("selected")||""===this.opts.element.val()||this.opts.element.val()===t||null===this.opts.element.val():!1},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=e.find("option").filter(function(){return this.selected});t(n.optionToData(i))}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=n.val(),a=null;t.query({matcher:function(e,n,i){var s=o(r,t.id(i));return s&&(a=i),s},callback:e.isFunction(i)?function(){i(a)}:e.noop})}),t},getPlaceholder:function(){return this.select&&this.getPlaceholderOption()===t?t:this.parent.getPlaceholder.apply(this,arguments)},setPlaceholder:function(){var e=this.getPlaceholder();if(this.isPlaceholderOptionSelected()&&e!==t){if(this.select&&this.getPlaceholderOption()===t)return;this.selection.find(".select2-chosen").html(this.opts.escapeMarkup(e)),this.selection.addClass("select2-default"),this.container.removeClass("select2-allowclear")}},postprocessResults:function(e,t,n){var i=0,r=this;if(this.findHighlightableChoices().each2(function(e,t){return o(r.id(t.data("select2-data")),r.opts.element.val())?(i=e,!1):void 0}),n!==!1&&this.highlight(t===!0&&i>=0?i:0),t===!0){var a=this.opts.minimumResultsForSearch;a>=0&&this.showSearch($(e.results)>=a)}},showSearch:function(t){this.showSearchInput!==t&&(this.showSearchInput=t,this.dropdown.find(".select2-search").toggleClass("select2-search-hidden",!t),this.dropdown.find(".select2-search").toggleClass("select2-offscreen",!t),e(this.dropdown,this.container).toggleClass("select2-with-searchbox",t))},onSelect:function(e,t){if(this.triggerSelect(e)){var n=this.opts.element.val(),i=this.data();this.opts.element.val(this.id(e)),this.updateSelection(e),this.opts.element.trigger({type:"select2-selected",val:this.id(e),choice:e}),this.nextSearchTerm=this.opts.nextSearchTerm(e,this.search.val()),this.close(),t&&t.noFocus||this.focusser.focus(),o(n,this.id(e))||this.triggerChange({added:e,removed:i})}},updateSelection:function(e){var n,i,r=this.selection.find(".select2-chosen");this.selection.data("select2-data",e),r.empty(),null!==e&&(n=this.opts.formatSelection(e,r,this.opts.escapeMarkup)),n!==t&&r.append(n),i=this.opts.formatSelectionCssClass(e,r),i!==t&&r.addClass(i),this.selection.removeClass("select2-default"),this.opts.allowClear&&this.getPlaceholder()!==t&&this.container.addClass("select2-allowclear")},val:function(){var e,n=!1,i=null,r=this,o=this.data();if(0===arguments.length)return this.opts.element.val();if(e=arguments[0],arguments.length>1&&(n=arguments[1]),this.select)this.select.val(e).find("option").filter(function(){return this.selected}).each2(function(e,t){return i=r.optionToData(t),!1}),this.updateSelection(i),this.setPlaceholder(),n&&this.triggerChange({added:i,removed:o});else{if(!e&&0!==e)return void this.clear(n);if(this.opts.initSelection===t)throw new Error("cannot call val() if initSelection() is not defined");this.opts.element.val(e),this.opts.initSelection(this.opts.element,function(e){r.opts.element.val(e?r.id(e):""),r.updateSelection(e),r.setPlaceholder(),n&&r.triggerChange({added:e,removed:o})})}},clearSearch:function(){this.search.val(""),this.focusser.val("")},data:function(e){var n,i=!1;return 0===arguments.length?(n=this.selection.data("select2-data"),n==t&&(n=null),n):(arguments.length>1&&(i=arguments[1]),void(e?(n=this.data(),this.opts.element.val(e?this.id(e):""),this.updateSelection(e),i&&this.triggerChange({added:e,removed:n})):this.clear(i)))}}),H=T(N,{createContainer:function(){var t=e(document.createElement("div")).attr({"class":"select2-container select2-container-multi"}).html(["<ul class='select2-choices'>","  <li class='select2-search-field'>","    <input type='text' autocomplete='off' autocorrect='off' autocapitalize='off' spellcheck='false' class='select2-input'>","  </li>","</ul>","<div class='select2-drop select2-drop-multi select2-display-none'>","   <ul class='select2-results'>","   </ul>","</div>"].join(""));return t},prepareOpts:function(){var t=this.parent.prepareOpts.apply(this,arguments),n=this;return"select"===t.element.get(0).tagName.toLowerCase()?t.initSelection=function(e,t){var i=[];e.find("option").filter(function(){return this.selected}).each2(function(e,t){i.push(n.optionToData(t))}),t(i)}:"data"in t&&(t.initSelection=t.initSelection||function(n,i){var r=a(n.val(),t.separator),s=[];t.query({matcher:function(n,i,a){var u=e.grep(r,function(e){return o(e,t.id(a))}).length;return u&&s.push(a),u},callback:e.isFunction(i)?function(){for(var e=[],n=0;n<r.length;n++)for(var a=r[n],u=0;u<s.length;u++){var l=s[u];if(o(a,t.id(l))){e.push(l),s.splice(u,1);break}}i(e)}:e.noop})}),t},selectChoice:function(e){var t=this.container.find(".select2-search-choice-focus");t.length&&e&&e[0]==t[0]||(t.length&&this.opts.element.trigger("choice-deselected",t),t.removeClass("select2-search-choice-focus"),e&&e.length&&(this.close(),e.addClass("select2-search-choice-focus"),this.opts.element.trigger("choice-selected",e)))},destroy:function(){e("label[for='"+this.search.attr("id")+"']").attr("for",this.opts.element.attr("id")),this.parent.destroy.apply(this,arguments)},initContainer:function(){var t,n=".select2-choices";this.searchContainer=this.container.find(".select2-search-field"),this.selection=t=this.container.find(n);var i=this;this.selection.on("click",".select2-search-choice:not(.select2-locked)",function(){i.search[0].focus(),i.selectChoice(e(this))}),this.search.attr("id","s2id_autogen"+D()),e("label[for='"+this.opts.element.attr("id")+"']").attr("for",this.search.attr("id")),this.search.on("input paste",this.bind(function(){this.isInterfaceEnabled()&&(this.opened()||this.open())})),this.search.attr("tabindex",this.elementTabIndex),this.keydowns=0,this.search.on("keydown",this.bind(function(e){if(this.isInterfaceEnabled()){++this.keydowns;var n=t.find(".select2-search-choice-focus"),i=n.prev(".select2-search-choice:not(.select2-locked)"),r=n.next(".select2-search-choice:not(.select2-locked)"),o=f(this.search);if(n.length&&(e.which==E.LEFT||e.which==E.RIGHT||e.which==E.BACKSPACE||e.which==E.DELETE||e.which==E.ENTER)){var a=n;return e.which==E.LEFT&&i.length?a=i:e.which==E.RIGHT?a=r.length?r:null:e.which===E.BACKSPACE?(this.unselect(n.first()),this.search.width(10),a=i.length?i:r):e.which==E.DELETE?(this.unselect(n.first()),this.search.width(10),a=r.length?r:null):e.which==E.ENTER&&(a=null),this.selectChoice(a),g(e),void(a&&a.length||this.open())}if((e.which===E.BACKSPACE&&1==this.keydowns||e.which==E.LEFT)&&0==o.offset&&!o.length)return this.selectChoice(t.find(".select2-search-choice:not(.select2-locked)").last()),void g(e);if(this.selectChoice(null),this.opened())switch(e.which){case E.UP:case E.DOWN:return this.moveHighlight(e.which===E.UP?-1:1),void g(e);case E.ENTER:return this.selectHighlighted(),void g(e);case E.TAB:return this.selectHighlighted({noFocus:!0}),void this.close();case E.ESC:return this.cancel(e),void g(e)}if(e.which!==E.TAB&&!E.isControl(e)&&!E.isFunctionKey(e)&&e.which!==E.BACKSPACE&&e.which!==E.ESC){if(e.which===E.ENTER){if(this.opts.openOnEnter===!1)return;if(e.altKey||e.ctrlKey||e.shiftKey||e.metaKey)return}this.open(),(e.which===E.PAGE_UP||e.which===E.PAGE_DOWN)&&g(e),e.which===E.ENTER&&g(e)}}})),this.search.on("keyup",this.bind(function(){this.keydowns=0,this.resizeSearch()})),this.search.on("blur",this.bind(function(t){this.container.removeClass("select2-container-active"),this.search.removeClass("select2-focused"),this.selectChoice(null),this.opened()||this.clearSearch(),t.stopImmediatePropagation(),this.opts.element.trigger(e.Event("select2-blur"))
})),this.container.on("click",n,this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").length>0||(this.selectChoice(null),this.clearPlaceholder(),this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.open(),this.focusSearch(),t.preventDefault()))})),this.container.on("focus",n,this.bind(function(){this.isInterfaceEnabled()&&(this.container.hasClass("select2-container-active")||this.opts.element.trigger(e.Event("select2-focus")),this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"),this.clearPlaceholder())})),this.initContainerWidth(),this.opts.element.addClass("select2-offscreen"),this.clearSearch()},enableInterface:function(){this.parent.enableInterface.apply(this,arguments)&&this.search.prop("disabled",!this.isInterfaceEnabled())},initSelection:function(){if(""===this.opts.element.val()&&""===this.opts.element.text()&&(this.updateSelection([]),this.close(),this.clearSearch()),this.select||""!==this.opts.element.val()){var e=this;this.opts.initSelection.call(null,this.opts.element,function(n){n!==t&&null!==n&&(e.updateSelection(n),e.close(),e.clearSearch())})}},clearSearch:function(){var e=this.getPlaceholder(),n=this.getMaxSearchWidth();e!==t&&0===this.getVal().length&&this.search.hasClass("select2-focused")===!1?(this.search.val(e).addClass("select2-default"),this.search.width(n>0?n:this.container.css("width"))):this.search.val("").width(10)},clearPlaceholder:function(){this.search.hasClass("select2-default")&&this.search.val("").removeClass("select2-default")},opening:function(){this.clearPlaceholder(),this.resizeSearch(),this.parent.opening.apply(this,arguments),this.focusSearch(),this.updateResults(!0),this.search.focus(),this.opts.element.trigger(e.Event("select2-open"))},close:function(){this.opened()&&this.parent.close.apply(this,arguments)},focus:function(){this.close(),this.search.focus()},isFocused:function(){return this.search.hasClass("select2-focused")},updateSelection:function(t){var n=[],r=[],o=this;e(t).each(function(){i(o.id(this),n)<0&&(n.push(o.id(this)),r.push(this))}),t=r,this.selection.find(".select2-search-choice").remove(),e(t).each(function(){o.addSelectedChoice(this)}),o.postprocessResults()},tokenize:function(){var e=this.search.val();e=this.opts.tokenizer.call(this,e,this.data(),this.bind(this.onSelect),this.opts),null!=e&&e!=t&&(this.search.val(e),e.length>0&&this.open())},onSelect:function(e,t){this.triggerSelect(e)&&(this.addSelectedChoice(e),this.opts.element.trigger({type:"selected",val:this.id(e),choice:e}),(this.select||!this.opts.closeOnSelect)&&this.postprocessResults(e,!1,this.opts.closeOnSelect===!0),this.opts.closeOnSelect?(this.close(),this.search.width(10)):this.countSelectableResults()>0?(this.search.width(10),this.resizeSearch(),this.getMaximumSelectionSize()>0&&this.val().length>=this.getMaximumSelectionSize()&&this.updateResults(!0),this.positionDropdown()):(this.close(),this.search.width(10)),this.triggerChange({added:e}),t&&t.noFocus||this.focusSearch())},cancel:function(){this.close(),this.focusSearch()},addSelectedChoice:function(n){var i,r,o=!n.locked,a=e("<li class='select2-search-choice'>    <div></div>    <a href='#' onclick='return false;' class='select2-search-choice-close' tabindex='-1'></a></li>"),s=e("<li class='select2-search-choice select2-locked'><div></div></li>"),u=o?a:s,l=this.id(n),c=this.getVal();i=this.opts.formatSelection(n,u.find("div"),this.opts.escapeMarkup),i!=t&&u.find("div").replaceWith("<div>"+i+"</div>"),r=this.opts.formatSelectionCssClass(n,u.find("div")),r!=t&&u.addClass(r),o&&u.find(".select2-search-choice-close").on("mousedown",g).on("click dblclick",this.bind(function(t){this.isInterfaceEnabled()&&(e(t.target).closest(".select2-search-choice").fadeOut("fast",this.bind(function(){this.unselect(e(t.target)),this.selection.find(".select2-search-choice-focus").removeClass("select2-search-choice-focus"),this.close(),this.focusSearch()})).dequeue(),g(t))})).on("focus",this.bind(function(){this.isInterfaceEnabled()&&(this.container.addClass("select2-container-active"),this.dropdown.addClass("select2-drop-active"))})),u.data("select2-data",n),u.insertBefore(this.searchContainer),c.push(l),this.setVal(c)},unselect:function(t){var n,r,o=this.getVal();if(t=t.closest(".select2-search-choice"),0===t.length)throw"Invalid argument: "+t+". Must be .select2-search-choice";if(n=t.data("select2-data")){for(;(r=i(this.id(n),o))>=0;)o.splice(r,1),this.setVal(o),this.select&&this.postprocessResults();var a=e.Event("select2-removing");a.val=this.id(n),a.choice=n,this.opts.element.trigger(a),a.isDefaultPrevented()||(t.remove(),this.opts.element.trigger({type:"select2-removed",val:this.id(n),choice:n}),this.triggerChange({removed:n}))}},postprocessResults:function(e,t,n){var r=this.getVal(),o=this.results.find(".select2-result"),a=this.results.find(".select2-result-with-children"),s=this;o.each2(function(e,t){var n=s.id(t.data("select2-data"));i(n,r)>=0&&(t.addClass("select2-selected"),t.find(".select2-result-selectable").addClass("select2-selected"))}),a.each2(function(e,t){t.is(".select2-result-selectable")||0!==t.find(".select2-result-selectable:not(.select2-selected)").length||t.addClass("select2-selected")}),-1==this.highlight()&&n!==!1&&s.highlight(0),!this.opts.createSearchChoice&&!o.filter(".select2-result:not(.select2-selected)").length>0&&(!e||e&&!e.more&&0===this.results.find(".select2-no-results").length)&&C(s.opts.formatNoMatches,"formatNoMatches")&&this.results.append("<li class='select2-no-results'>"+s.opts.formatNoMatches(s.search.val())+"</li>")},getMaxSearchWidth:function(){return this.selection.width()-s(this.search)},resizeSearch:function(){var e,t,n,i,r,o=s(this.search);e=v(this.search)+10,t=this.search.offset().left,n=this.selection.width(),i=this.selection.offset().left,r=n-(t-i)-o,e>r&&(r=n-o),40>r&&(r=n-o),0>=r&&(r=e),this.search.width(Math.floor(r))},getVal:function(){var e;return this.select?(e=this.select.val(),null===e?[]:e):(e=this.opts.element.val(),a(e,this.opts.separator))},setVal:function(t){var n;this.select?this.select.val(t):(n=[],e(t).each(function(){i(this,n)<0&&n.push(this)}),this.opts.element.val(0===n.length?"":n.join(this.opts.separator)))},buildChangeDetails:function(e,t){for(var t=t.slice(0),e=e.slice(0),n=0;n<t.length;n++)for(var i=0;i<e.length;i++)o(this.opts.id(t[n]),this.opts.id(e[i]))&&(t.splice(n,1),n>0&&n--,e.splice(i,1),i--);return{added:t,removed:e}},val:function(n,i){var r,o=this;if(0===arguments.length)return this.getVal();if(r=this.data(),r.length||(r=[]),!n&&0!==n)return this.opts.element.val(""),this.updateSelection([]),this.clearSearch(),void(i&&this.triggerChange({added:this.data(),removed:r}));if(this.setVal(n),this.select)this.opts.initSelection(this.select,this.bind(this.updateSelection)),i&&this.triggerChange(this.buildChangeDetails(r,this.data()));else{if(this.opts.initSelection===t)throw new Error("val() cannot be called if initSelection() is not defined");this.opts.initSelection(this.opts.element,function(t){var n=e.map(t,o.id);o.setVal(n),o.updateSelection(t),o.clearSearch(),i&&o.triggerChange(o.buildChangeDetails(r,o.data()))})}this.clearSearch()},onSortStart:function(){if(this.select)throw new Error("Sorting of elements is not supported when attached to <select>. Attach to <input type='hidden'/> instead.");this.search.width(0),this.searchContainer.hide()},onSortEnd:function(){var t=[],n=this;this.searchContainer.show(),this.searchContainer.appendTo(this.searchContainer.parent()),this.resizeSearch(),this.selection.find(".select2-search-choice").each(function(){t.push(n.opts.id(e(this).data("select2-data")))}),this.setVal(t),this.triggerChange()},data:function(t,n){var i,r,o=this;return 0===arguments.length?this.selection.find(".select2-search-choice").map(function(){return e(this).data("select2-data")}).get():(r=this.data(),t||(t=[]),i=e.map(t,function(e){return o.opts.id(e)}),this.setVal(i),this.updateSelection(t),this.clearSearch(),n&&this.triggerChange(this.buildChangeDetails(r,this.data())),void 0)}}),e.fn.select2=function(){var n,r,o,a,s,u=Array.prototype.slice.call(arguments,0),l=["val","destroy","opened","open","close","focus","isFocused","container","dropdown","onSortStart","onSortEnd","enable","disable","readonly","positionDropdown","data","search"],c=["opened","isFocused","container","dropdown"],d=["val","data"],p={search:"externalSearch"};return this.each(function(){if(0===u.length||"object"==typeof u[0])n=0===u.length?{}:e.extend({},u[0]),n.element=e(this),"select"===n.element.get(0).tagName.toLowerCase()?s=n.element.prop("multiple"):(s=n.multiple||!1,"tags"in n&&(n.multiple=s=!0)),r=s?new H:new j,r.init(n);else{if("string"!=typeof u[0])throw"Invalid arguments to select2 plugin: "+u;if(i(u[0],l)<0)throw"Unknown method: "+u[0];if(a=t,r=e(this).data("select2"),r===t)return;if(o=u[0],"container"===o?a=r.container:"dropdown"===o?a=r.dropdown:(p[o]&&(o=p[o]),a=r[o].apply(r,u.slice(1))),i(u[0],c)>=0||i(u[0],d)&&1==u.length)return!1}}),a===t?this:a},e.fn.select2.defaults={width:"copy",loadMorePadding:0,closeOnSelect:!0,openOnEnter:!0,containerCss:{},dropdownCss:{},containerCssClass:"",dropdownCssClass:"",formatResult:function(e,t,n,i){var r=[];return b(e.text,n.term,r,i),r.join("")},formatSelection:function(e,n,i){return e?i(e.text):t},sortResults:function(e){return e},formatResultCssClass:function(){return t},formatSelectionCssClass:function(){return t},formatNoMatches:function(){return"No matches found"},formatInputTooShort:function(e,t){var n=t-e.length;return"Please enter "+n+" more character"+(1==n?"":"s")},formatInputTooLong:function(e,t){var n=e.length-t;return"Please delete "+n+" character"+(1==n?"":"s")},formatSelectionTooBig:function(e){return"You can only select "+e+" item"+(1==e?"":"s")},formatLoadMore:function(){return"Loading more results..."},formatSearching:function(){return"Searching..."},minimumResultsForSearch:0,minimumInputLength:0,maximumInputLength:null,maximumSelectionSize:0,id:function(e){return e.id},matcher:function(e,t){return n(""+t).toUpperCase().indexOf(n(""+e).toUpperCase())>=0},separator:",",tokenSeparators:[],tokenizer:k,escapeMarkup:w,blurOnChange:!1,selectOnBlur:!1,adaptContainerCssClass:function(e){return e},adaptDropdownCssClass:function(){return null},nextSearchTerm:function(){return t}},e.fn.select2.ajaxDefaults={transport:e.ajax,params:{type:"GET",cache:!1,dataType:"json"}},window.Select2={query:{ajax:x,local:S,tags:A},util:{debounce:c,markMatch:b,escapeMarkup:w,stripDiacritics:n},"class":{"abstract":N,single:j,multi:H}}}}(jQuery),function(e){var t=e.fn.select2,n="aui-select2-container",i="aui-select2-drop aui-dropdown2 aui-style-default",r="aui-has-avatar";e.fn.auiSelect2=function(o){var a;if(e.isPlainObject(o)){var s=e.extend({},o),u=s.hasAvatar?" "+r:"";s.containerCssClass=n+u+(s.containerCssClass?" "+s.containerCssClass:""),s.dropdownCssClass=i+u+(s.dropdownCssClass?" "+s.dropdownCssClass:""),a=Array.prototype.slice.call(arguments,1),a.unshift(s)}else a=arguments.length?arguments:[{containerCssClass:n,dropdownCssClass:i}];return t.apply(this,a)}}(AJS.$)}.apply(e,arguments)})}(this),define("aui",["aui-stable","aui-experimental"],function(e){return e}),define("data/i18n",[],function(){return{"imageDiffer.imageDiffToolbar.button.blend.disabled.tooltip":gettext("Blend mode image diff is not available because images are not of the same dimension"),"imageDiffer.imageDiffToolbar.button.blend.tooltip":gettext("Compare the image changes by fading in the differences"),"imageDiffer.imageDiffToolbar.button.blend":gettext("Blend"),"imageDiffer.imageDiffToolbar.button.split.disabled.tooltip":gettext("Split mode image diff is not available because images are not of the same dimension"),"imageDiffer.imageDiffToolbar.button.split.tooltip":gettext("Compare the image changes by moving your mouse cursor left or right over the image"),"imageDiffer.imageDiffToolbar.button.split":gettext("Split"),"imageDiffer.imageDiffToolbar.button.two-up.tooltip":gettext("Compare images alongside each other"),"imageDiffer.imageDiffToolbar.button.twoup":gettext("Two-up")}}),function(e){define("shims/string-extensions",[],function(){return function(){(function(){var e,t,n,i,r,o=[].slice;i=function(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")},n=function(e){return/^\/(.+)\/([gimy]*)$/.exec(e)},t=function(e){var t;return"string"==typeof e?RegExp("^"+i(e)):(t=n(e),RegExp("^"+t[1],t[2]))},e=function(e){var t;return"string"==typeof e?RegExp(""+i(e)+"$"):(t=n(e),RegExp(""+t[1]+"$",t[2]))},r=function(e){var t,n,i,r,o;for(n=[],i=[],r=0,o=e.length;o>r;r++)t=e[r],(_.isRegExp(t)?n:i).push(t);return n.concat(_.sortBy(i,function(e){return-e.length}))},String.prototype.lstrip=function(){var e,n,i,a,s,u;for(i=1<=arguments.length?o.call(arguments,0):[],u=r(i),a=0,s=u.length;s>a;a++)if(n=u[a],e=t(n).exec(this))return this.substr(e[0].length);return this.toString()},String.prototype.rstrip=function(){var t,n,i,a,s,u;for(i=1<=arguments.length?o.call(arguments,0):[],u=r(i),a=0,s=u.length;s>a;a++)if(n=u[a],t=e(n).exec(this))return this.substr(0,this.length-t[0].length);return this.toString()},String.prototype.startsWith=function(){var e,n,i,r;for(n=1<=arguments.length?o.call(arguments,0):[],i=0,r=n.length;r>i;i++)if(e=n[i],t(e).test(this))return!0;return!1},String.prototype.endsWith=function(){var t,n,i,r;for(n=1<=arguments.length?o.call(arguments,0):[],i=0,r=n.length;r>i;i++)if(t=n[i],e(t).test(this))return!0;return!1}}).call(this)}.apply(e,arguments)})}(this),function(){var e,t,n,i=[].slice;e=String.prototype.format=function(){var n,r,o,a,s,u=this;return n=1<=arguments.length?i.call(arguments,0):[],0===n.length?function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],u.format.apply(u,e)}:(a=0,o=s=!1,r="cannot switch from {} to {} numbering".format(),this.replace(/([{}])\1|[{](.*?)(?:!(.+?))?[}]/g,function(i,u,l,c){var d,p,h,f,g;if(u)return u;if(l.length){if(o=!0,s)throw r("implicit","explicit");p=null!=(h=t(n,l))?h:""}else{if(s=!0,o)throw r("explicit","implicit");p=null!=(f=n[a++])?f:""}return p=p.toString(),(d=e.transformers[c])?null!=(g=d.call(p))?g:"":p}))},t=function(e,t){var i;for(/^(\d+)([.]|$)/.test(t)||(t="0."+t);i=/(.+?)[.](.+)/.exec(t);)e=n(e,i[1]),t=i[2];return n(e,t)},n=function(e,t){var n;return n=e[t],"function"==typeof n?n.call(e):n},e.transformers={}}.call(this),define("shims/string-format",function(){}),function(e){define("shims/string-format-transformers",[],function(){return function(){!function(e){e.esc=function(){return _.escape(this)},e.s=function(){return 1!==+this?"s":void 0}}(String.prototype.format.transformers)}.apply(e,arguments)})}(this);var LiquidMetal=function(){function e(e,t){var n=e.charAt(t);return n>="A"&&"Z">=n}function t(e,t){var n=e.charAt(t-1);return-1!=u.indexOf(n)}function n(e,t,n,i){for(var r=n;i>r;r++)e[r]=t;return e}var i=0,r=1,o=.8,a=.9,s=.85,u=" 	_-";return{lastScore:null,lastScoreArray:null,score:function(e,t){if(0===t.length)return o;if(t.length>e.length)return i;var n=[],r=e.toLowerCase();if(t=t.toLowerCase(),this._scoreAll(e,r,t,-1,0,[],n),0==n.length)return 0;for(var a=0,s=[],u=0;u<n.length;u++){for(var l=n[u],c=0,d=0;d<e.length;d++)c+=l[d];c>a&&(a=c,s=l)}return a/=e.length,this.lastScore=a,this.lastScoreArray=s,a},_scoreAll:function(u,l,c,d,p,h,f){if(p==c.length){var g=l.charAt(0)==c.charAt(0),m=g?a:o;return n(h,m,h.length,u.length),void f.push(h.slice(0))}var v=c.charAt(p);p++;var y=l.indexOf(v,d);if(-1!=y)for(var b=d;-1!=(y=l.indexOf(v,d+1));)t(u,y)?(h[y-1]=1,n(h,s,b+1,y-1)):e(u,y)?n(h,s,b+1,y):n(h,i,b+1,y),h[y]=r,d=y,this._scoreAll(u,l,c,d,p,h,f)}}}();define("liquidmetal",function(){}),function(e){define("shims/string-score",[],function(){return function(){String.prototype.score=function(e){return LiquidMetal.score(this,e)}}.apply(e,arguments)})}(this),define("data/flags",[],function(){function e(e){return e.replace(/-\w/g,function(e){return e[1].toUpperCase()})}for(var t,n=document.body.attributes,i=/^data-flag-(.*)/,r={},o=0;o<n.length;o++)t=i.exec(n[o].name),t&&(r[e(t[1])]=!0);return r}),define("data/current-repo",["jquery"],function(e){var t=e(document.body).data("currentRepo")||{};return t.toString=function(){return t.cname?t.slug:"{owner.username}/{slug}".format(t)},t}),function(e){define("mustache",[],function(){return function(){var t="undefined"!=typeof module&&module.exports||{};return function(e){function t(e){return!y.test(e)}function n(e){return e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}function i(e){return String(e).replace(/&(?!\w+;)|[<>"']/g,function(e){return C[e]})}function r(e){this.string=e,this.tail=e,this.pos=0}function o(e,t){this.view=e,this.parent=t,this.clearCache()}function a(){this.clearCache()}function s(e,t){"string"==typeof e&&(e=d(e));for(var n,i,r,o=['""'],a=0,u=e.length;u>a;++a)switch(n=e[a],n.type){case"#":case"^":i="#"===n.type?"_section":"_inverted",o.push("r."+i+"("+A(n.value)+", c, function (c, r) {\n  "+s(n.tokens,!0)+"\n})");break;case"{":case"&":case"name":r="name"===n.type?"true":"false",o.push("r._name("+A(n.value)+", c, "+r+")");break;case">":o.push("r._partial("+A(n.value)+", c)");break;case"text":o.push(A(n.value))}return o="return "+o.join(" + ")+";",t?o:new Function("c, r",o)}function u(e){if(2===e.length)return[new RegExp(n(e[0])+"\\s*"),new RegExp("\\s*"+n(e[1]))];throw new Error("Invalid tags: "+e.join(" "))}function l(e){for(var t,n,i=[],r=i,o=[],a=0;a<e.length;++a)switch(t=e[a],t.type){case"#":case"^":t.tokens=[],o.push(t),r.push(t),r=t.tokens;break;case"/":if(0===o.length)throw new Error("Unopened section: "+t.value);if(n=o.pop(),n.value!==t.value)throw new Error("Unclosed section: "+n.value);r=o.length>0?o[o.length-1].tokens:i;break;default:r.push(t)}if(n=o.pop())throw new Error("Unclosed section: "+n.value);return i}function c(e){for(var t,n=0;n<e.length;++n)token=e[n],t&&"text"===t.type&&"text"===token.type?(t.value+=token.value,e.splice(n--,1)):t=token}function d(n,i){function o(){if(g&&!y)for(;f.length;)h.splice(f.pop(),1);else f=[];g=!1,y=!1}i=u(i||e.tags);for(var a,s,d,p=new r(n),h=[],f=[],g=!1,y=!1;!p.eos();){if(s=p.scanUntil(i[0]))for(var S=0,A=s.length;A>S;++S)d=s[S],t(d)?f.push(h.length):y=!0,h.push({type:"text",value:d}),"\n"===d&&o();if(!p.scan(i[0]))break;if(g=!0,a=p.scan(x)||"name",p.scan(m),"="===a?(s=p.scanUntil(b),p.scan(b),p.scanUntil(i[1])):"{"===a?(s=p.scanUntil(w),p.scan(w),p.scanUntil(i[1])):s=p.scanUntil(i[1]),!p.scan(i[1]))throw new Error("Unclosed tag at "+p.pos);h.push({type:a,value:s}),("name"===a||"{"===a||"&"===a)&&(y=!0),"="===a&&(i=u(s.split(v)))}return c(h),l(h)}function p(){_.clearCache()}function h(e,t){return _.compile(e,t)}function f(e,t,n){return _.compilePartial(e,t,n)}function g(e,t,n){if(n)for(var i in n)f(i,n[i]);return _.render(e,t)}e.name="mustache.js",e.version="0.5.1-dev",e.tags=["{{","}}"],e.parse=d,e.clearCache=p,e.compile=h,e.compilePartial=f,e.render=g,e.Scanner=r,e.Context=o,e.Renderer=a,e.to_html=function(e,t,n,i){var r=g(e,t,n);return"function"!=typeof i?r:void i(r)};var m=/\s*/,v=/\s+/,y=/\S/,b=/\s*=/,w=/\s*\}/,x=/#|\^|\/|>|\{|&|=|!/,S=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},A="undefined"!=typeof JSON&&JSON.stringify||function(e){return'"'+String(e).replace(/(^|[^\\])"/g,'\\"')+'"'},C={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};e.isWhitespace=t,e.isArray=S,e.quote=A,e.escapeRe=n,e.escapeHtml=i,r.prototype.eos=function(){return""===this.tail},r.prototype.scan=function(e){var t=this.tail.match(e);return t&&0===t.index?(this.tail=this.tail.substring(t[0].length),this.pos+=t[0].length,t[0]):null},r.prototype.scanUntil=function(e){var t,n=this.tail.search(e);switch(n){case-1:t=this.tail,this.pos+=this.tail.length,this.tail="";break;case 0:t=null;break;default:t=this.tail.substring(0,n),this.tail=this.tail.substring(n),this.pos+=n}return t},o.make=function(e){return e instanceof o?e:new o(e)},o.prototype.clearCache=function(){this._cache={}},o.prototype.push=function(e){return new o(e,this)},o.prototype.lookup=function(e){var t=this._cache[e];if(!t){if("."===e)t=this.view;else for(var n=this;n;){if(e.indexOf(".")>0){var i=e.split("."),r=0;for(t=n.view;t&&r<i.length;)t=t[i[r++]]}else t=n.view[e];if(null!=t)break;n=n.parent}this._cache[e]=t}return"function"==typeof t&&(t=t.call(this.view)),t},a.prototype.clearCache=function(){this._cache={},this._partialCache={}},a.prototype.compile=function(e){var t=s(e),n=this;return function(e){return t(o.make(e),n)}},a.prototype.compilePartial=function(e,t,n){return this._partialCache[e]=this.compile(t,n),this._partialCache[e]},a.prototype.render=function(e,t){var n=this._cache[e];return n||(n=this.compile(e),this._cache[e]=n),n(t)},a.prototype._section=function(e,t,n){function i(e){return l.render(e,t)}var r=t.lookup(e);switch(typeof r){case"object":if(S(r)){for(var o="",a=0,s=r.length;s>a;++a)o+=n(t.push(r[a]),this);return o}return n(t.push(r),this);case"function":var u=n(t,this),l=this;return r.call(t.view,u,i)||"";default:if(r)return n(t,this)}return""},a.prototype._inverted=function(e,t,n){var i=t.lookup(e);return null==i||i===!1||S(i)&&0===i.length?n(t,this):""},a.prototype._partial=function(e,t){var n=this._partialCache[e];return n?n(t,this):""},a.prototype._name=function(e,t,n){var r=t.lookup(e);"function"==typeof r&&(r=r.call(t.view));var o=null==r?"":String(r);return n?i(o):o};var _=new a}(t),e.Mustache=t}.apply(e,arguments)})}(this),function(e,t){if("function"==typeof define&&define.amd)define("backbone",["underscore","jquery","exports"],function(n,i,r){e.Backbone=t(e,r,n,i)});else if("undefined"!=typeof exports){var n=require("underscore");t(e,exports,n)}else e.Backbone=t(e,{},e._,e.jQuery||e.Zepto||e.ender||e.$)}(this,function(e,t,n,i){{var r=e.Backbone,o=[],a=(o.push,o.slice);o.splice}t.VERSION="1.1.2",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=t.Events={on:function(e,t,n){if(!l(this,"on",e,[t,n])||!t)return this;this._events||(this._events={});var i=this._events[e]||(this._events[e]=[]);return i.push({callback:t,context:n,ctx:n||this}),this},once:function(e,t,i){if(!l(this,"once",e,[t,i])||!t)return this;var r=this,o=n.once(function(){r.off(e,o),t.apply(this,arguments)});return o._callback=t,this.on(e,o,i)},off:function(e,t,i){var r,o,a,s,u,c,d,p;if(!this._events||!l(this,"off",e,[t,i]))return this;if(!e&&!t&&!i)return this._events=void 0,this;for(s=e?[e]:n.keys(this._events),u=0,c=s.length;c>u;u++)if(e=s[u],a=this._events[e]){if(this._events[e]=r=[],t||i)for(d=0,p=a.length;p>d;d++)o=a[d],(t&&t!==o.callback&&t!==o.callback._callback||i&&i!==o.context)&&r.push(o);r.length||delete this._events[e]}return this},trigger:function(e){if(!this._events)return this;var t=a.call(arguments,1);if(!l(this,"trigger",e,t))return this;var n=this._events[e],i=this._events.all;return n&&c(n,t),i&&c(i,arguments),this},stopListening:function(e,t,i){var r=this._listeningTo;if(!r)return this;var o=!t&&!i;i||"object"!=typeof t||(i=this),e&&((r={})[e._listenId]=e);for(var a in r)e=r[a],e.off(t,i,this),(o||n.isEmpty(e._events))&&delete this._listeningTo[a];return this}},u=/\s+/,l=function(e,t,n,i){if(!n)return!0;if("object"==typeof n){for(var r in n)e[t].apply(e,[r,n[r]].concat(i));return!1}if(u.test(n)){for(var o=n.split(u),a=0,s=o.length;s>a;a++)e[t].apply(e,[o[a]].concat(i));return!1}return!0},c=function(e,t){var n,i=-1,r=e.length,o=t[0],a=t[1],s=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,a,s);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}},d={listenTo:"on",listenToOnce:"once"};n.each(d,function(e,t){s[t]=function(t,i,r){var o=this._listeningTo||(this._listeningTo={}),a=t._listenId||(t._listenId=n.uniqueId("l"));return o[a]=t,r||"object"!=typeof i||(r=this),t[e](i,r,this),this}}),s.bind=s.on,s.unbind=s.off,n.extend(t,s);var p=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId("c"),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(p.prototype,s,{changed:null,validationError:null,idAttribute:"id",initialize:function(){},toJSON:function(){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},set:function(e,t,i){var r,o,a,s,u,l,c,d;if(null==e)return this;if("object"==typeof e?(o=e,i=t):(o={})[e]=t,i||(i={}),!this._validate(o,i))return!1;a=i.unset,u=i.silent,s=[],l=this._changing,this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={}),d=this.attributes,c=this._previousAttributes,this.idAttribute in o&&(this.id=o[this.idAttribute]);for(r in o)t=o[r],n.isEqual(d[r],t)||s.push(r),n.isEqual(c[r],t)?delete this.changed[r]:this.changed[r]=t,a?delete d[r]:d[r]=t;if(!u){s.length&&(this._pending=i);for(var p=0,h=s.length;h>p;p++)this.trigger("change:"+s[p],this,d[s[p]],i)}if(l)return this;if(!u)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return this.hasChanged()?n.clone(this.changed):!1;var t,i=!1,r=this._changing?this._previousAttributes:this.attributes;for(var o in e)n.isEqual(r[o],t=e[o])||((i||(i={}))[o]=t);return i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=this,i=e.success;return e.success=function(n){return t.set(t.parse(n,e),e)?(i&&i(t,n,e),void t.trigger("sync",t,n,e)):!1},P(this,e),this.sync("read",this,e)},save:function(e,t,i){var r,o,a,s=this.attributes;if(null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t,i=n.extend({validate:!0},i),r&&!i.wait){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;r&&i.wait&&(this.attributes=n.extend({},s,r)),void 0===i.parse&&(i.parse=!0);var u=this,l=i.success;return i.success=function(e){u.attributes=s;var t=u.parse(e,i);return i.wait&&(t=n.extend(r||{},t)),n.isObject(t)&&!u.set(t,i)?!1:(l&&l(u,e,i),void u.trigger("sync",u,e,i))},P(this,i),o=this.isNew()?"create":i.patch?"patch":"update","patch"===o&&(i.attrs=r),a=this.sync(o,this,i),r&&i.wait&&(this.attributes=s),a},destroy:function(e){e=e?n.clone(e):{};var t=this,i=e.success,r=function(){t.trigger("destroy",t,t.collection,e)};if(e.success=function(n){(e.wait||t.isNew())&&r(),i&&i(t,n,e),t.isNew()||t.trigger("sync",t,n,e)},this.isNew())return e.success(),!1;P(this,e);var o=this.sync("delete",this,e);return e.wait||r(),o},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||O();return this.isNew()?e:e.replace(/([^\/])$/,"$1/")+encodeURIComponent(this.id)},parse:function(e){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.extend(e||{},{validate:!0}))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return i?(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1):!0}});var h=["keys","values","pairs","invert","pick","omit"];n.each(h,function(e){p.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.attributes),n[e].apply(n,t)}});var f=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},g={add:!0,remove:!0,merge:!0},m={add:!0,remove:!1};n.extend(f.prototype,s,{model:p,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,m))},remove:function(e,t){var i=!n.isArray(e);e=i?[e]:n.clone(e),t||(t={});var r,o,a,s;for(r=0,o=e.length;o>r;r++)s=e[r]=this.get(e[r]),s&&(delete this._byId[s.id],delete this._byId[s.cid],a=this.indexOf(s),this.models.splice(a,1),this.length--,t.silent||(t.index=a,s.trigger("remove",s,this,t)),this._removeReference(s,t));return i?e[0]:e},set:function(e,t){t=n.defaults({},t,g),t.parse&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?e?[e]:[]:n.clone(e);var r,o,a,s,u,l,c,d=t.at,h=this.model,f=this.comparator&&null==d&&t.sort!==!1,m=n.isString(this.comparator)?this.comparator:null,v=[],y=[],b={},w=t.add,x=t.merge,S=t.remove,A=!f&&w&&S?[]:!1;for(r=0,o=e.length;o>r;r++){if(u=e[r]||{},a=u instanceof p?s=u:u[h.prototype.idAttribute||"id"],l=this.get(a))S&&(b[l.cid]=!0),x&&(u=u===s?s.attributes:u,t.parse&&(u=l.parse(u,t)),l.set(u,t),f&&!c&&l.hasChanged(m)&&(c=!0)),e[r]=l;else if(w){if(s=e[r]=this._prepareModel(u,t),!s)continue;v.push(s),this._addReference(s,t)}s=l||s,!A||!s.isNew()&&b[s.id]||A.push(s),b[s.id]=!0}if(S){for(r=0,o=this.length;o>r;++r)b[(s=this.models[r]).cid]||y.push(s);y.length&&this.remove(y,t)}if(v.length||A&&A.length)if(f&&(c=!0),this.length+=v.length,null!=d)for(r=0,o=v.length;o>r;r++)this.models.splice(d+r,0,v[r]);else{A&&(this.models.length=0);var C=A||v;for(r=0,o=C.length;o>r;r++)this.models.push(C[r])}if(c&&this.sort({silent:!0}),!t.silent){for(r=0,o=v.length;o>r;r++)(s=v[r]).trigger("add",s,this,t);(c||A&&A.length)&&this.trigger("sort",this,t)}return i?e[0]:e},reset:function(e,t){t||(t={});for(var i=0,r=this.models.length;r>i;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e),t},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e),t},slice:function(){return a.apply(this.models,arguments)},get:function(e){return null==e?void 0:this._byId[e]||this._byId[e.id]||this._byId[e.cid]},at:function(e){return this.models[e]},where:function(e,t){return n.isEmpty(e)?t?void 0:[]:this[t?"find":"filter"](function(t){for(var n in e)if(e[n]!==t.get(n))return!1;return!0})},findWhere:function(e){return this.where(e,!0)},sort:function(e){if(!this.comparator)throw new Error("Cannot sort a set without a comparator");return e||(e={}),n.isString(this.comparator)||1===this.comparator.length?this.models=this.sortBy(this.comparator,this):this.models.sort(n.bind(this.comparator,this)),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){e=e?n.clone(e):{},void 0===e.parse&&(e.parse=!0);var t=e.success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t(i,n,e),i.trigger("sync",i,n,e)},P(this,e),this.sync("read",this,e)},create:function(e,t){if(t=t?n.clone(t):{},!(e=this._prepareModel(e,t)))return!1;t.wait||this.add(e,t);var i=this,r=t.success;return t.success=function(e,n){t.wait&&i.add(e,t),r&&r(e,n,t)},e.save(null,t),e},parse:function(e){return e},clone:function(){return new this.constructor(this.models)},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(e instanceof p)return e;t=t?n.clone(t):{},t.collection=this;
var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_addReference:function(e){this._byId[e.cid]=e,null!=e.id&&(this._byId[e.id]=e),e.collection||(e.collection=this),e.on("all",this._onModelEvent,this)},_removeReference:function(e){this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){("add"!==e&&"remove"!==e||n===this)&&("destroy"===e&&this.remove(t,i),t&&e==="change:"+t.idAttribute&&(delete this._byId[t.previous(t.idAttribute)],null!=t.id&&(this._byId[t.id]=t)),this.trigger.apply(this,arguments))}});var v=["forEach","each","map","collect","reduce","foldl","inject","reduceRight","foldr","find","detect","filter","select","reject","every","all","some","any","include","contains","invoke","max","min","toArray","size","first","head","take","initial","rest","tail","drop","last","without","difference","indexOf","shuffle","lastIndexOf","isEmpty","chain","sample"];n.each(v,function(e){f.prototype[e]=function(){var t=a.call(arguments);return t.unshift(this.models),n[e].apply(n,t)}});var y=["groupBy","countBy","sortBy","indexBy"];n.each(y,function(e){f.prototype[e]=function(t,i){var r=n.isFunction(t)?t:function(e){return e.get(t)};return n[e](this.models,r,i)}});var b=t.View=function(e){this.cid=n.uniqueId("view"),e||(e={}),n.extend(this,n.pick(e,x)),this._ensureElement(),this.initialize.apply(this,arguments),this.delegateEvents()},w=/^(\S+)\s*(.*)$/,x=["model","collection","el","id","attributes","className","tagName","events"];n.extend(b.prototype,s,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this.$el.remove(),this.stopListening(),this},setElement:function(e,n){return this.$el&&this.undelegateEvents(),this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0],n!==!1&&this.delegateEvents(),this},delegateEvents:function(e){if(!e&&!(e=n.result(this,"events")))return this;this.undelegateEvents();for(var t in e){var i=e[t];if(n.isFunction(i)||(i=this[e[t]]),i){var r=t.match(w),o=r[1],a=r[2];i=n.bind(i,this),o+=".delegateEvents"+this.cid,""===a?this.$el.on(o,i):this.$el.on(o,a,i)}}return this},undelegateEvents:function(){return this.$el.off(".delegateEvents"+this.cid),this},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"),!1);else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e["class"]=n.result(this,"className"));var i=t.$("<"+n.result(this,"tagName")+">").attr(e);this.setElement(i,!1)}}}),t.sync=function(e,i,r){var o=A[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var a={type:o,dataType:"json"};if(r.url||(a.url=n.result(i,"url")||O()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(a.contentType="application/json",a.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(a.contentType="application/x-www-form-urlencoded",a.data=a.data?{model:a.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){a.type="POST",r.emulateJSON&&(a.data._method=o);var s=r.beforeSend;r.beforeSend=function(e){return e.setRequestHeader("X-HTTP-Method-Override",o),s?s.apply(this,arguments):void 0}}"GET"===a.type||r.emulateJSON||(a.processData=!1),"PATCH"===a.type&&S&&(a.xhr=function(){return new ActiveXObject("Microsoft.XMLHTTP")});var u=r.xhr=t.ajax(n.extend(a,r));return i.trigger("request",i,u,r),u};var S=!("undefined"==typeof window||!window.ActiveXObject||window.XMLHttpRequest&&(new XMLHttpRequest).dispatchEvent),A={create:"POST",update:"PUT",patch:"PATCH","delete":"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},_=/\((.*?)\)/g,$=/(\(\?)?:\w+/g,k=/\*\w+/g,T=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,s,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,function(n){var a=o._extractParameters(e,n);o.execute(r,a),o.trigger.apply(o,["route:"+i].concat(a)),o.trigger("route",i,a),t.history.trigger("route",o,i,a)}),this},execute:function(e,t){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(T,"\\$&").replace(_,"(?:$1)?").replace($,function(e,t){return t?e:"([^/?]+)"}).replace(k,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var E=t.History=function(){this.handlers=[],n.bindAll(this,"checkUrl"),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},N=/^[#\/]|\s+$/g,j=/^\/+|\/+$/g,H=/msie [\w.]+/,D=/\/$/,R=/#.*$/;E.started=!1,n.extend(E.prototype,s,{interval:50,atRoot:function(){return this.location.pathname.replace(/[^\/]$/,"$&/")===this.root},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getFragment:function(e,t){if(null==e)if(this._hasPushState||!this._wantsHashChange||t){e=decodeURI(this.location.pathname+this.location.search);var n=this.root.replace(D,"");e.indexOf(n)||(e=e.slice(n.length))}else e=this.getHash();return e.replace(N,"")},start:function(e){if(E.started)throw new Error("Backbone.history has already been started");E.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=this.options.hashChange!==!1,this._wantsPushState=!!this.options.pushState,this._hasPushState=!!(this.options.pushState&&this.history&&this.history.pushState);var i=this.getFragment(),r=document.documentMode,o=H.exec(navigator.userAgent.toLowerCase())&&(!r||7>=r);if(this.root=("/"+this.root+"/").replace(j,"/"),o&&this._wantsHashChange){var a=t.$('<iframe src="javascript:0" tabindex="-1">');this.iframe=a.hide().appendTo("body")[0].contentWindow,this.navigate(i)}this._hasPushState?t.$(window).on("popstate",this.checkUrl):this._wantsHashChange&&"onhashchange"in window&&!o?t.$(window).on("hashchange",this.checkUrl):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),this.fragment=i;var s=this.location;if(this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot())return this.fragment=this.getFragment(null,!0),this.location.replace(this.root+"#"+this.fragment),!0;this._hasPushState&&this.atRoot()&&s.hash&&(this.fragment=this.getHash().replace(N,""),this.history.replaceState({},document.title,this.root+this.fragment))}return this.options.silent?void 0:this.loadUrl()},stop:function(){t.$(window).off("popstate",this.checkUrl).off("hashchange",this.checkUrl),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),E.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(){var e=this.getFragment();return e===this.fragment&&this.iframe&&(e=this.getFragment(this.getHash(this.iframe))),e===this.fragment?!1:(this.iframe&&this.navigate(e),void this.loadUrl())},loadUrl:function(e){return e=this.fragment=this.getFragment(e),n.any(this.handlers,function(t){return t.route.test(e)?(t.callback(e),!0):void 0})},navigate:function(e,t){if(!E.started)return!1;t&&t!==!0||(t={trigger:!!t});var n=this.root+(e=this.getFragment(e||""));if(e=e.replace(R,""),this.fragment!==e){if(this.fragment=e,""===e&&"/"!==n&&(n=n.slice(0,-1)),this._hasPushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,n);else{if(!this._wantsHashChange)return this.location.assign(n);this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getFragment(this.getHash(this.iframe))&&(t.replace||this.iframe.document.open().close(),this._updateHash(this.iframe.location,e,t.replace))}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new E;var q=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};p.extend=f.extend=C.extend=b.extend=E.extend=q;var O=function(){throw new Error('A "url" property or function must be specified')},P=function(e,t){var n=t.error;t.error=function(i){n&&n(e,i,t),e.trigger("error",e,i,t)}};return t}),define("components/command-bar/help-entry",["backbone"],function(e){return e.Model.extend({})}),define("utils/is-promise",["underscore"],function(e){return function(t){return e.isObject(t)&&e.has(t,"promise")&&e.isFunction(t.promise)}}),define("components/command-bar/command",["backbone","underscore","components/command-bar/help-entry","utils/is-promise"],function(e,t,n,i){return e.Model.extend({defaults:{score:0},getHelpEntry:function(){var e=t.isFunction(this.get("helpEntry"))?this.get("helpEntry")():this.get("helpEntry");return e&&(e=new n(e)),e},getSuggestions:function(e,n){function r(e){return t.each(e,function(e){e.has("label")||e.set("label",e.get("value")),e.set("command",this)}.bind(this)),e}var o=t.every(this.get("guards"),function(t){return t(e,n)});if(o){var a=this.get("suggest").call(this,e,n);if(i(a)){var s=new $.Deferred;return a.done(function(e){s.resolve(r.call(this,e))}.bind(this)),a.fail(function(){s.reject()}),s}return r.call(this,a)}return[]}})}),define("components/command-bar/commands",["backbone","components/command-bar/command"],function(e,t){return e.Collection.extend({model:t})}),define("components/command-bar/filter",["backbone"],function(e){return e.Model.extend({})}),define("components/command-bar/filters",["backbone","components/command-bar/filter"],function(e,t){return e.Collection.extend({model:t})}),define("components/command-bar/suggestion",["backbone"],function(e){function t(){var e=this.get("score"),t=this.get("count"),n=this.get("command"),i=n?n.get("score"):0,r=Math.min(Math.log(t+1)/2.302,1);this.set({totalScore:i+r+e})}function n(){var e=localStorage.getItem("cb-{}".format(this.get("value")));e&&this.set({count:parseInt(e,10)})}function i(){localStorage.setItem("cb-{}".format(this.get("value")),this.get("count"))}return e.Model.extend({defaults:{score:0,count:0,totalScore:0},initialize:function(){this.on("change:score change:count change:command",t,this),localStorage&&(n.call(this),this.on("change:count",i,this))},execute:function(){this.set({count:this.get("count")+1}),this.has("url")?(this.trigger("execute:url"),window.location=this.get("url")):this.has("execute")?(this.trigger("execute:code"),this.get("execute").call(this)):this.get("command").has("execute")&&(this.trigger("execute:code"),this.get("command").get("execute")(this))}})}),define("components/command-bar/suggestions",["backbone","components/command-bar/suggestion"],function(e,t){return e.Collection.extend({model:t,comparator:function(e,t){var n=e.get("totalScore"),i=t.get("totalScore");if(n!==i)return i-n;var r=e.get("label"),o=t.get("label");return r!==o?o>r?-1:1:e.id<t.id?-1:1},getDistinct:function(){var e={};return this.filter(function(t){var n=t.get("value"),i=!_.has(e,n);return e[n]=t,i})},getFocused:function(){return this.find(function(e){return e&&e.get("focused")===!0})},getNext:function(){var e=this.getFocused();return this.at(e&&this.at(this.indexOf(e)+1)?this.indexOf(e)+1:0)},getPrevious:function(){var e=this.getFocused();return this.at(e&&this.at(this.indexOf(e)-1)?this.indexOf(e)-1:this.length-1)},next:function(){var e=this.getFocused();return this.getNext().set("focused",!0),1===this.length?this:(e&&e.set("focused",!1),this)},previous:function(){var e=this.getFocused();return this.getPrevious().set("focused",!0),1===this.length?this:(e&&e.set("focused",!1),this)}})}),define("components/command-bar/help-entries",["backbone","components/command-bar/help-entry"],function(e,t){return e.Collection.extend({model:t,comparator:function(e){return-e.get("score")}})}),define("text",["module"],function(e){var t,n,i,r,o=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],a=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,s=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,u="undefined"!=typeof location&&location.href,l=u&&location.protocol&&location.protocol.replace(/\:/,""),c=u&&location.hostname,d=u&&(location.port||void 0),p={},h=e.config&&e.config()||{};return t={version:"2.0.7",strip:function(e){if(e){e=e.replace(a,"");var t=e.match(s);t&&(e=t[1])}else e="";return e},jsEscape:function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:h.createXhr||function(){var e,t,n;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){n=o[t];try{e=new ActiveXObject(n)}catch(i){}if(e){o=[n];break}}return e},parseName:function(e){var t,n,i,r=!1,o=e.indexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==o&&(!a||o>1)?(t=e.substring(0,o),n=e.substring(o+1,e.length)):t=e,i=n||t,o=i.indexOf("!"),-1!==o&&(r="strip"===i.substring(o+1),i=i.substring(0,o),n?n=i:t=i),{moduleName:t,ext:n,strip:r}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(e,n,i,r){var o,a,s,u=t.xdRegExp.exec(e);return u?(o=u[2],a=u[3],a=a.split(":"),s=a[1],a=a[0],!(o&&o!==n||a&&a.toLowerCase()!==i.toLowerCase()||(s||a)&&s!==r)):!0},finishLoad:function(e,n,i,r){i=n?t.strip(i):i,h.isBuild&&(p[e]=i),r(i)},load:function(e,n,i,r){if(r.isBuild&&!r.inlineText)return void i();h.isBuild=r.isBuild;var o=t.parseName(e),a=o.moduleName+(o.ext?"."+o.ext:""),s=n.toUrl(a),p=h.useXhr||t.useXhr;!u||p(s,l,c,d)?t.get(s,function(n){t.finishLoad(e,o.strip,n,i)},function(e){i.error&&i.error(e)}):n([a],function(e){t.finishLoad(o.moduleName+"."+o.ext,o.strip,e,i)})},write:function(e,n,i){if(p.hasOwnProperty(n)){var r=t.jsEscape(p[n]);i.asModule(e+"!"+n,"define(function () { return '"+r+"';});\n")}},writeFile:function(e,n,i,r,o){var a=t.parseName(n),s=a.ext?"."+a.ext:"",u=a.moduleName+s,l=i.toUrl(a.moduleName+s)+".js";t.load(u,i,function(){var n=function(e){return r(l,e)};n.asModule=function(e,t){return r.asModule(e,l,t)},t.write(e,u,n,o)},o)}},"node"===h.env||!h.env&&"undefined"!=typeof process&&process.versions&&process.versions.node?(n=require.nodeRequire("fs"),t.get=function(e,t,i){try{var r=n.readFileSync(e,"utf8");0===r.indexOf("﻿")&&(r=r.substring(1)),t(r)}catch(o){i(o)}}):"xhr"===h.env||!h.env&&t.createXhr()?t.get=function(e,n,i,r){var o,a=t.createXhr();if(a.open("GET",e,!0),r)for(o in r)r.hasOwnProperty(o)&&a.setRequestHeader(o.toLowerCase(),r[o]);h.onXhr&&h.onXhr(a,e),a.onreadystatechange=function(){var t,r;4===a.readyState&&(t=a.status,t>399&&600>t?(r=new Error(e+" HTTP status: "+t),r.xhr=a,i(r)):n(a.responseText),h.onXhrComplete&&h.onXhrComplete(a,e))},a.send(null)}:"rhino"===h.env||!h.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?t.get=function(e,t){var n,i,r="utf-8",o=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),s=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(o),r)),u="";try{for(n=new java.lang.StringBuffer,i=s.readLine(),i&&i.length()&&65279===i.charAt(0)&&(i=i.substring(1)),null!==i&&n.append(i);null!==(i=s.readLine());)n.append(a),n.append(i);u=String(n.toString())}finally{s.close()}t(u)}:("xpconnect"===h.env||!h.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(i=Components.classes,r=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),t.get=function(e,t){var n,o,a={},s=new FileUtils.File(e);try{n=i["@mozilla.org/network/file-input-stream;1"].createInstance(r.nsIFileInputStream),n.init(s,1,0,!1),o=i["@mozilla.org/intl/converter-input-stream;1"].createInstance(r.nsIConverterInputStream),o.init(n,"utf-8",n.available(),r.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),o.readString(n.available(),a),o.close(),n.close(),t(a.value)}catch(u){throw new Error((s&&s.path||"")+": "+u)}}),t}),define("text!components/command-bar/suggestion-item.mustache",[],function(){return'[[#icon]]\n  <span class="suggestion-icon">\n    <img src="[[icon]]" alt="[[label]]">\n  </span>\n[[/icon]]\n\n[[label]]\n\n[[#help]]\n  <em>[[help]]</em>\n[[/help]]\n'}),define("components/command-bar/suggestion-item",["backbone","mustache","underscore","text!components/command-bar/suggestion-item.mustache"],function(e,t,n,i){return e.View.extend({tagName:"li",template:i,initialize:function(){n.bindAll(this,"render","focus"),this.model.has("template")&&(this.template=this.model.get("template")),this.model.on("change:focused",this.focus)},render:function(){return this.$el.html(t.render(this.template,this.model.toJSON())),this},focus:function(e){this.$el.toggleClass("focused",e)}})}),define("components/command-bar/suggestion-list",["backbone","underscore","components/command-bar/suggestions","components/command-bar/suggestion-item"],function(e,t,n,i){return e.View.extend({tagName:"ul",initialize:function(){t.bindAll(this,"render","resetCollection"),this.collection.on("reset",this.render),this.collection.on("bulkAdd",this.resetCollection),this.$el.addClass("suggestions")},render:function(){this.$el.toggleClass("hidden",!this.collection.length);var e=[];return t.each(this.collection.slice(0,10),function(t){e.push(new i({model:t}).render().el)}.bind(this)),this.$el.html(e),this},resetCollection:function(){return this.collection.reset(this.collection.getDistinct()),this}})}),define("text!components/command-bar/help-item.mustache",[],function(){return"[[command]]\n\n[[#description]]\n  <em>[[description]]</em>\n[[/description]]\n"}),define("components/command-bar/help-item",["backbone","mustache","underscore","text!components/command-bar/help-item.mustache"],function(e,t,n,i){return e.View.extend({tagName:"li",template:i,initialize:function(){n.bindAll(this,"render"),this.model.has("template")&&(this.template=this.model.get("template"))},render:function(){return this.$el.html(t.render(this.template,this.model.toJSON())),this}})}),define("components/command-bar/help-list",["backbone","underscore","components/command-bar/help-item"],function(e,t,n){return e.View.extend({tagName:"ul",initialize:function(){t.bindAll(this,"render"),this.collection.on("bulkAdd reset",this.render),this.$el.addClass("help-entries")},render:function(){return this.$el.toggleClass("hidden",!this.collection.length).empty(),this.collection.each(function(e){this.$el.append(new n({model:e}).render().el)}.bind(this)),this}})}),define("text!components/command-bar/command-bar.mustache",[],function(){return'<form class="aui">\n  <input type="text" class="text query long-field">\n</form>\n'}),!function(e,t,n){function i(e,n){var i,r=t.createElement(e||"div");for(i in n)r[i]=n[i];return r}function r(e){for(var t=1,n=arguments.length;n>t;t++)e.appendChild(arguments[t]);return e}function o(e,t,n,i){var r=["opacity",t,~~(100*e),n,i].join("-"),o=.01+n/i*100,a=Math.max(1-(1-e)/t*(100-o),e),s=c.substring(0,c.indexOf("Animation")).toLowerCase(),u=s&&"-"+s+"-"||"";return p[r]||(h.insertRule("@"+u+"keyframes "+r+"{0%{opacity:"+a+"}"+o+"%{opacity:"+e+"}"+(o+.01)+"%{opacity:1}"+(o+t)%100+"%{opacity:"+e+"}100%{opacity:"+a+"}}",h.cssRules.length),p[r]=1),r}function a(e,t){var i,r,o=e.style;if(o[t]!==n)return t;for(t=t.charAt(0).toUpperCase()+t.slice(1),r=0;r<d.length;r++)if(i=d[r]+t,o[i]!==n)return i}function s(e,t){for(var n in t)e.style[a(e,n)||n]=t[n];return e}function u(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var r in i)e[r]===n&&(e[r]=i[r])}return e}function l(e){for(var t={x:e.offsetLeft,y:e.offsetTop};e=e.offsetParent;)t.x+=e.offsetLeft,t.y+=e.offsetTop;return t}var c,d=["webkit","Moz","ms","O"],p={},h=function(){var e=i("style",{type:"text/css"});return r(t.getElementsByTagName("head")[0],e),e.sheet||e.styleSheet}(),f={lines:12,length:7,width:5,radius:10,rotate:0,corners:1,color:"#000",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:"spinner",top:"auto",left:"auto",position:"relative"},g=function m(e){return this.spin?void(this.opts=u(e||{},m.defaults,f)):new m(e)};g.defaults={},u(g.prototype,{spin:function(e){this.stop();var t,n,r=this,o=r.opts,a=r.el=s(i(0,{className:o.className}),{position:o.position,width:0,zIndex:o.zIndex}),u=o.radius+o.length+o.width;if(e&&(e.insertBefore(a,e.firstChild||null),n=l(e),t=l(a),s(a,{left:("auto"==o.left?n.x-t.x+(e.offsetWidth>>1):parseInt(o.left,10)+u)+"px",top:("auto"==o.top?n.y-t.y+(e.offsetHeight>>1):parseInt(o.top,10)+u)+"px"})),a.setAttribute("aria-role","progressbar"),r.lines(a,r.opts),!c){var d=0,p=o.fps,h=p/o.speed,f=(1-o.opacity)/(h*o.trail/100),g=h/o.lines;!function m(){d++;for(var e=o.lines;e;e--){var t=Math.max(1-(d+e*g)%h*f,o.opacity);r.opacity(a,o.lines-e,t,o)}r.timeout=r.el&&setTimeout(m,~~(1e3/p))}()}return r},stop:function(){var e=this.el;return e&&(clearTimeout(this.timeout),e.parentNode&&e.parentNode.removeChild(e),this.el=n),this},lines:function(e,t){function n(e,n){return s(i(),{position:"absolute",width:t.length+t.width+"px",height:t.width+"px",background:e,boxShadow:n,transformOrigin:"left",transform:"rotate("+~~(360/t.lines*u+t.rotate)+"deg) translate("+t.radius+"px,0)",borderRadius:(t.corners*t.width>>1)+"px"})}for(var a,u=0;u<t.lines;u++)a=s(i(),{position:"absolute",top:1+~(t.width/2)+"px",transform:t.hwaccel?"translate3d(0,0,0)":"",opacity:t.opacity,animation:c&&o(t.opacity,t.trail,u,t.lines)+" "+1/t.speed+"s linear infinite"}),t.shadow&&r(a,s(n("#000","0 0 4px #000"),{top:"2px"})),r(e,r(a,n(t.color,"0 0 1px rgba(0,0,0,.1)")));return e},opacity:function(e,t,n){t<e.childNodes.length&&(e.childNodes[t].style.opacity=n)}}),function(){function e(e,t){return i("<"+e+' xmlns="urn:schemas-microsoft.com:vml" class="spin-vml">',t)}var t=s(i("group"),{behavior:"url(#default#VML)"});!a(t,"transform")&&t.adj?(h.addRule(".spin-vml","behavior:url(#default#VML)"),g.prototype.lines=function(t,n){function i(){return s(e("group",{coordsize:l+" "+l,coordorigin:-u+" "+-u}),{width:l,height:l})}function o(t,o,a){r(d,r(s(i(),{rotation:360/n.lines*t+"deg",left:~~o}),r(s(e("roundrect",{arcsize:n.corners}),{width:u,height:n.width,left:n.radius,top:-n.width>>1,filter:a}),e("fill",{color:n.color,opacity:n.opacity}),e("stroke",{opacity:0}))))}var a,u=n.length+n.width,l=2*u,c=2*-(n.width+n.length)+"px",d=s(i(),{position:"absolute",top:c,left:c});if(n.shadow)for(a=1;a<=n.lines;a++)o(a,-2,"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)");for(a=1;a<=n.lines;a++)o(a);return r(t,d)},g.prototype.opacity=function(e,t,n,i){var r=e.firstChild;i=i.shadow&&i.lines||0,r&&t+i<r.childNodes.length&&(r=r.childNodes[t+i],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=n))}):c=a(t,"animation")}(),"function"==typeof define&&define.amd?define("spin",[],function(){return g}):e.Spinner=g}(window,document),function(e){if("object"==typeof exports)e(require("jquery"),require("spin"));else if("function"==typeof define&&define.amd)define("jquery-plugins/jquery.spin",["jquery","spin"],e);else{if(!window.Spinner)throw new Error("Spin.js not present");e(window.jQuery,window.Spinner)}}(function(e,t){e.fn.spin=function(n,i){return this.each(function(){var r=e(this),o=r.data();o.spinner&&(o.spinner.stop(),delete o.spinner),n!==!1&&(n=e.extend({color:i||r.css("color")},e.fn.spin.presets[n]||n),o.spinner=new t(n).spin(this))})},e.fn.spin.presets={tiny:{lines:8,length:2,width:2,radius:3},small:{lines:8,length:4,width:3,radius:5},large:{lines:10,length:8,width:4,radius:8}}}),function(e,t){"function"==typeof define&&define.amd?define("utils/loading",["jquery","jquery-plugins/jquery.spin"],t):t(e.jQuery)}(this,function(e){e.fn.loading=function(t,n){var i=e(this),r=e.extend({loadTime:400,spin:!1,disable:!0},n),o=setTimeout(function(){r.spin?i.spin(r.spin):i.addClass(r.mask?"has-mask":"loading"),r.disable&&i.attr({"aria-disabled":!0,disabled:!0})},r.loadTime);return t=t||e.Deferred(),t.always(function(){clearTimeout(o),r.disable&&i.removeAttr("aria-disabled disabled"),r.spin?i.spin(!1):i.removeClass(r.mask?"has-mask":"loading")})}}),function(e){define("jquery-plugins/jquery.caretposition",[],function(){return function(){!function(e,t,n){e(function(){var t={primaryStyles:["fontFamily","fontSize","fontWeight","fontVariant","fontStyle","paddingLeft","paddingTop","paddingBottom","paddingRight","marginLeft","marginTop","marginBottom","marginRight","borderLeftColor","borderTopColor","borderBottomColor","borderRightColor","borderLeftStyle","borderTopStyle","borderBottomStyle","borderRightStyle","borderLeftWidth","borderTopWidth","borderBottomWidth","borderRightWidth","line-height","outline"],specificStyle:{"word-wrap":"break-word","overflow-x":"hidden","overflow-y":"auto"},simulator:e('<div id="textarea_simulator" contenteditable="true"/>').css({position:"absolute",top:0,left:0,visibility:"hidden"}).appendTo(n.body),toHtml:function(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"<br>").replace(/(\s)/g,'<span style="white-space:pre-wrap;">$1</span>')},getCaretPosition:function(){var i=t,r=this,o=r[0],a=r.offset();if(e.browser.msie){o.focus();var s=n.selection.createRange();return{left:s.boundingLeft-a.left,top:parseInt(s.boundingTop)-a.top+o.scrollTop+n.documentElement.scrollTop+parseInt(r.getComputedStyle("fontSize"))}}i.simulator.empty(),e.each(i.primaryStyles,function(e,t){r.cloneStyle(i.simulator,t)}),i.simulator.css(e.extend({width:r.width(),height:r.height()},i.specificStyle));var u=r.val(),l=r.getCursorPosition(),c=u.substring(0,l),d=u.substring(l),p=e('<span class="before"/>').html(i.toHtml(c)),h=e('<span class="focus"/>'),f=e('<span class="after"/>').html(i.toHtml(d));i.simulator.append(p).append(h).append(f);var g=h.offset(),m=i.simulator.offset();return{top:g.top-m.top-o.scrollTop+(e.browser.mozilla?0:parseInt(r.getComputedStyle("fontSize"))),left:h[0].offsetLeft-i.simulator[0].offsetLeft-o.scrollLeft}}};e.fn.extend({getComputedStyle:function(t){if(0!=this.length){var i=this[0],r=this.css(t);return r=r||(e.browser.msie?i.currentStyle[t]:n.defaultView.getComputedStyle(i,null)[t])}},cloneStyle:function(t,n){var i=this.getComputedStyle(n);i&&e(t).css(n,i)},cloneAllStyle:function(e){var t=this[0];for(var n in t.style){var i=t.style[n];"string"==typeof i||"number"==typeof i?this.cloneStyle(e,n):0/0}},getCursorPosition:function(){var t=this[0],i=0;if("selectionStart"in t)i=t.selectionStart;else if("selection"in n){var r=n.selection.createRange();if(!(parseInt(e.browser.version)>6)){var o=n.body.createTextRange();for(o.moveToElementText(t);o.compareEndPoints("StartToStart",r)<0;i++)o.moveStart("character",1);for(var a=0;i>=a;a++)"\n"==t.value.charAt(a)&&i++;var s=t.value.split("\n").length-1;return i-=s}t.focus();var u=n.selection.createRange().text.length;r.moveStart("character",-t.value.length),i=r.text.length-u}return i},getCaretPosition:t.getCaretPosition})})}(jQuery,window,document)}.apply(e,arguments)})}(this),define("components/command-bar/index",["jquery","mustache","underscore","components/command-bar/commands","components/command-bar/filters","components/command-bar/suggestion","components/command-bar/suggestions","components/command-bar/help-entries","components/command-bar/suggestion-list","components/command-bar/help-list","utils/is-promise","text!components/command-bar/command-bar.mustache","utils/loading","jquery-plugins/jquery.caretposition"],function(e,t,n,i,r,o,a,s,u,l,c,d){return Backbone.View.extend({events:{"submit form":"submit","keyup input.query":"keyup","keydown input.query":"keydown","focusout input.query":"focusout","click ul.suggestion li":"execute"},initialize:function(){n.bindAll(this,"submit","keyup","keydown","focusout","execute","annotateFilter"),this.commands=new i,this.filters=new r,this.suggestions=new a,this.helpEntries=new s,this.filters.on("add",this.annotateFilter),this.query="",this.typeahead="",this.context="",this.suggestionList=new u({collection:this.suggestions}),this.helpList=new l({collection:this.helpEntries}),this.suggestions.on("execute",function(){this.closeDialog()}.bind(this))},render:function(){this.$el.addClass("command-bar").html(t.render(d)).append(this.suggestionList.render().el).append(this.helpList.render().el),this.$query=this.$("input.query");var n=e("<div/>").addClass("typeahead").append(e("<span/>"));return this.$("form").append(n),this.$typeahead=n.find("span"),this},submit:function(e){e.preventDefault()},keyup:function(t){var n=e(t.target).val();n!==this.query&&(this.query=n,this.updateSuggestions())},keydown:function(e){var t=13===e.keyCode,n=27===e.keyCode,i=9===e.keyCode&&!e.shiftKey||40===e.keyCode,r=9===e.keyCode&&e.shiftKey||38===e.keyCode,o=39===e.keyCode,a=this.$query.getCursorPosition()===this.query.length;t&&this.execute(),n&&this.closeDialog(),i&&!this.suggestions.length&&this.history(),i&&this.suggestions.length&&this.suggestions.next(),r&&this.suggestions.length&&this.suggestions.previous(),(i||r)&&(e.preventDefault(),this.suggestions.length&&this.setQuery(this.suggestions.getFocused().get("value")||"")),o&&a&&!this.suggestions.getFocused()&&this.autocompleteTypeahead()},focusout:function(){this.closeDialog()},updateTypeahead:function(){var e=this.suggestions.at(0),t=e?e.get("value"):"",n=this.$query.getCaretPosition();return!this.suggestions.getFocused()&&t.startsWith(this.query)?(this.typeahead=t,this.$typeahead.css({top:n.top,left:n.left}).html(t.slice(this.query.length).replace(" ","&nbsp;"))):(this.typeahead="",this.$typeahead.empty()),this},autocompleteTypeahead:function(){return this.typeahead&&this.setQuery(this.typeahead).suggestions.next(),this},annotateFilter:function(e){return e.set("commandBar",this),this},setQuery:function(e){return this.$query.val(e),this.query=e,this.updateTypeahead(),this},history:function(){if(localStorage){var e=0,t=this.updateSuggestions,i=JSON.parse(localStorage.getItem("commandbar-history")||"[]"),r=n.map(i,function(n){return new o({label:"{}: {}".format(e++,n.value),value:n.value,execute:t,score:n.date})});r.length&&(this.suggestions.reset(),this.helpEntries.reset(),this.suggestions.add(r),this.suggestions.trigger("bulkAdd"))}},addHistory:function(e){if(localStorage){var t=[],i=JSON.parse(localStorage.getItem("commandbar-history")||"[]");for(i.unshift({value:e.get("value"),date:Date.now()}),i.sort(function(e,t){return e.value<t.value?-1:e.value>t.value?1:t.date-e.date}),n.each(i,function(e){var n=t.length;n?e.value!==t[n-1].value&&t.push(e):t.push(e)}),i=t,i.sort(function(e,t){return t.date-e.date});i.length>10;)i.pop();localStorage.setItem("commandbar-history",JSON.stringify(i))}},setContext:function(e){return this.context=e,this},execute:function(){var e=this.suggestions.getFocused();if(!e){var t=this.query;e=this.suggestions.find(function(e){return t===e.get("value")})}return e&&(this.addHistory(e),e.execute()),this},openDialog:function(){return this.$el.slideDown(200,function(){this.$query.focus()}.bind(this)),this.setQuery(this.context).updateSuggestions(),this},closeDialog:function(){return this.setQuery("").$el.slideUp(200),this},updateSuggestions:function(){this.suggestions.reset(),this.helpEntries.reset();var e=this.query;if(e){var t={};this.filters.each(function(n){t=n.get("execute").call(n,e,t)}.bind(this));var n=[],i=[];this.commands.each(function(r){var o=r.getSuggestions(e,t);o&&(c(o)?i.push(o):n.push.apply(n,o))}),n.length&&(this.suggestions.add(n),this.suggestions.trigger("bulkAdd")),i.length&&this.addAsyncSuggestions(i)}else this.updateHelpEntries();return this.updateTypeahead(),this},updateHelpEntries:function(){this.helpEntries.reset();
var e=[];return this.commands.each(function(t){var n=t.getHelpEntry();n&&e.push(n)}),e.length&&(this.helpEntries.add(e),this.helpEntries.trigger("bulkAdd")),this},addAsyncSuggestions:function(t){return t=e.when.apply(this,t),t.done(function(){this.updateSuggestions()}.bind(this)),this.$query.loading(t,{disable:!1}),this}})}),define("command-bar/regexes/repo-command",[],function(){var e="([\\w\\-.]+)",t="([\\w\\-.+]*)",n="([\\w\\-./+]*)",i="(\\s+.*)",r="^{}(?:\\/{}(?::{})?{}?)?$".format(e,t,n,i);return new RegExp(r)}),define("command-bar/filters/repo",["components/command-bar/filter","command-bar/regexes/repo-command"],function(e,t){return new e({execute:function(e,n){var i=t.exec(e),r=this.get("commandBar");return i&&(n.repoOwner=i[1],n.repoSlug=i[2],n.repoBranch=i[3],n.repoFullSlug="{}/{}".format(i[1],i[2]),n.query=i[4]||""),void 0===n.repoBranch&&n.query&&":"===n.query.trim()&&(r.setQuery(n.repoFullSlug+":"),n.repoBranch="",n.query=""),n}})}),define("command-bar/guards/is-repo",[],function(){return function(e,t){return t.repoSlug}}),define("command-bar/filters/user",["components/command-bar/filter","command-bar/guards/is-repo"],function(e,t){return new e({execute:function(e,n){var i=e.split(/\s+/);return!t(e,n)&&/@([\w-\s]+)/.exec(i[0])&&(n.username=i[0].lstrip("@"),n.query=e.substring(i[0].length)),n}})}),define("command-bar/filters/command",["components/command-bar/filter"],function(e){return new e({execute:function(e,t){var n=(void 0===t.query?e:t.query).trim(),i=this.get("commandBar"),r=_.compact(i.commands.map(function(e){var t=e.get("name");if(t){if(n.startsWith(t))return[t,{value:n.substring(t.length),partial:!1}];if(t.startsWith(n))return[t,{value:"",partial:!0}]}}));return t.named=_.object(r),t}})}),define("components/command-bar/async-command",["jquery","underscore","components/command-bar/command","utils/is-promise"],function(e,t,n,i){return n.extend({initialize:function(){t.bindAll(this,"suggest"),this.key=null,this.dataCache={},this.set("suggest",this.suggest),this.has("createKey")&&(this.createKey=this.get("createKey")),this.has("createPromise")&&(this.createPromise=this.get("createPromise"))},createKey:function(e,n){return t.isFunction(this.get("url"))?this.get("url").call(this,e,n):this.get("url")},createPromise:function(n,i){return e.ajax({url:t.isFunction(this.get("url"))?this.get("url").call(this,n,i):this.get("url"),type:"GET",dataType:"json"})},suggest:function(t,n){var r,o,a,s=this.dataCache;r=this.createKey(t,n),r!==this.key&&(o=s[this.key]||null,o&&i(o)&&o.reject()),this.key=r;var u=this.get("transform").bind(this);if(a=s[r]||null)return i(a)?a:u(s[r],t,n);var l=new e.Deferred;s[r]=l;var c=this.createPromise(t,n);return c.done(function(e){s[r]=e,"rejected"!==l.state()&&l.resolve(u(e,t,n))}).fail(function(){s[r]=[],l.resolve([])}),l}})}),define("command-bar/guards/not-repo",["command-bar/guards/is-repo"],function(e){return function(t,n){return!e(t,n)}}),define("command-bar/guards/is-user",[],function(){return function(e,t){return!!t.username}}),define("command-bar/guards/in-context",[],function(){return function(e,t){var e=void 0===t.query?e:t.query;return e.length>0&&" "===e[0]}}),define("command-bar/guards/in-user-context",["command-bar/guards/is-user","command-bar/guards/in-context"],function(e,t){return function(n,i){return e(n,i)&&t(n,i)}}),define("command-bar/guards/not-in-user-context",["command-bar/guards/in-user-context"],function(e){return function(t,n){return!e(t,n)}}),define("text!command-bar/templates/user-suggestion.mustache",[],function(){return'<span class="user-avatar-container">\n  <img class="avatar avatar16" src="[[icon]]" alt="[[label]] avatar">\n</span>\n\n[[label]]\n\n[[#help]]\n  <em>[[help]]</em>\n[[/help]]\n'}),define("command-bar/commands/following-users",["underscore","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/not-repo","command-bar/guards/not-in-user-context","text!command-bar/templates/user-suggestion.mustache"],function(e,t,n,i,r,o){return new t({url:"/!api/internal/my/following/",guards:[i,r],helpEntry:{command:"@user",description:"jump to user"},transform:function(t,i){i=i.toLowerCase().lstrip("@");var r=e.filter(t,function(e){var t=e.username.toLowerCase(),n=e.displayName.toLowerCase();return t.startsWith(i)||n.startsWith(i)});return e.map(r,function(e){return new n({template:o,icon:e.avatar,value:"@{}".format(e.username),url:e.url,label:e.username,help:e.displayName})})}})}),define("command-bar/commands/global-users",["underscore","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/not-repo","command-bar/guards/not-in-user-context","text!command-bar/templates/user-suggestion.mustache"],function(e,t,n,i,r,o){return new t({guards:[i,r],url:function(e){return"/xhr/user-mention?term={}".format(e.lstrip("@"))},transform:function(t){return e.map(t,function(e){return new n({template:o,icon:e.avatar_url,value:"@{}".format(e.username),url:"/"+e.username,label:e.username,help:e.display_name})})}})}),define("utils/repo-filter",["underscore"],function(e){function t(e){return e.replace(n,"\\$&")}var n=/[-[\]{}()*+?.,\\^$|#\s]/g;return{getRegExp:function(e){var n=e.split(/[\/\s]/),i=n.map(t),r=i.join(".*[\\/\\s].*");return new RegExp(r,"i")},filterList:function(t,n){var i=this.getRegExp(n);return e.filter(t,function(e){return e.fullSlug.match(i)})}}}),define("command-bar/guards/not-user",["command-bar/guards/is-user"],function(e){return function(t,n){return!e(t,n)}}),define("command-bar/guards/in-repo-context",["command-bar/guards/is-repo","command-bar/guards/in-context"],function(e,t){return function(n,i){return e(n,i)&&t(n,i)}}),define("command-bar/guards/not-in-repo-context",["command-bar/guards/in-repo-context"],function(e){return function(t,n){return!e(t,n)}}),define("text!command-bar/templates/repo-suggestion.mustache",[],function(){return'<span class="repo-avatar-container size16">\n  <img src="[[icon]]" alt="[[label]]">\n</span>\n\n[[label]]\n\n[[#help]]\n  <em>[[help]]</em>\n[[/help]]\n'}),define("command-bar/commands/my-repos",["underscore","utils/repo-filter","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/not-user","command-bar/guards/not-in-repo-context","text!command-bar/templates/repo-suggestion.mustache"],function(e,t,n,i,r,o,a){return new n({score:1,url:"/!api/internal/my/repositories/",guards:[r,o],helpEntry:{command:"user/repo",description:"jump to repository"},transform:function(n,r){var o=t.filterList(n,r);return e.map(o,function(e){return new i({template:a,icon:e.logo,value:e.fullSlug,url:e.url,label:"{} / {}".format(e.owner,e.name)})})}})}),define("command-bar/guards/is-repo-branch",[],function(){return function(e,t){return void 0!==t.repoBranch}}),define("command-bar/guards/not-repo-branch",["command-bar/guards/is-repo-branch"],function(e){return function(t,n){return!e(t,n)}}),define("command-bar/commands/global-repos",["underscore","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/not-user","command-bar/guards/not-in-repo-context","command-bar/guards/not-repo-branch","text!command-bar/templates/repo-suggestion.mustache"],function(e,t,n,i,r,o,a){return new t({guards:[i,o,r],url:function(e){return"/xhr/repos?term={}".format(e)},transform:function(t){return e.map(t,function(e){return new n({template:a,icon:e.avatar,value:e.value,url:"/{}".format(e.value),label:e.label})})}})}),define("utils/fuzzy-match",["underscore"],function(e){function t(e,t){var n;return n=e?function(n){var i=(n[e]||(n.get?n.get(e):void 0)).toLowerCase().score(t);return n.score=i,{score:-i,value:n}}:function(e){return{score:-e.toLowerCase().score(t),value:e}}}return function(n,i,r){return e.chain(n).map(t(r,(i||"").toLowerCase())).filter(function(e){return e.score}).sortBy("score").map(function(e){return e.value}).value()}}),define("command-bar/commands/repo-branches",["underscore","utils/fuzzy-match","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/is-repo-branch","command-bar/guards/not-in-repo-context"],function(e,t,n,i,r,o){return new n({guards:[r,o],url:function(e,t){return"/!api/1.0/repositories/{}/branches-tags/".format(t.repoFullSlug)},helpEntry:{command:"user/repo:branch",description:"jump to branch"},transform:function(n,r,o){var a=[];for(var s in n)a.push({name:s});return a=t(n.branches,o.repoBranch,"name"),e.map(a,function(e){return new i({value:value="{}:{}".format(o.repoFullSlug,e.name),url:"/{}/commits/branch/{}".format(o.repoFullSlug,e.name),score:e.score})})}})}),define("utils/text",["jquery","underscore"],function(e,t){var n=3==="a1a".split(/(\d)/).length;return{toSentenceCase:function(e){return e+="",e?e.charAt(0).toUpperCase()+e.substring(1):""},camelCaseToHyphenated:function(e){return"string"!=typeof e?void 0:e.replace(/([^\s\-_])(?=[A-Z])/g,"$1-").replace(/\s/,"-").toLowerCase()},indent:function(e,t,n){var i="number"==typeof t&&isFinite(t)?t:4,r="string"==typeof n?n:" ";return"string"!=typeof e?void 0:0>i?e:new Array(i+1).join(r)+e},unindent:function(e,t,n){var i="number"==typeof t&&isFinite(t)?t:4,r="string"==typeof n?n:" ";if("string"!=typeof e)return void 0;if(0>i)return e;for(;e.charAt(0)===r&&i;)e=e.substring(1),i--;return e},formatSizeInBytes:function(e){var t=[" bytes","KB","MB","GB","TB","PB"],n=1024,i=0,r=t.length-1;if(e="number"==typeof e?e:parseInt(e,10),isNaN(e))return"";for(;e>=n&&r>i;)e/=n,i++;return e=Math.floor(10*e)/10,e+t[i]},abbreviateText:function(e,t,n){if("string"!=typeof e)return void 0;if(isNaN(t)||0>t||e.length<=t)return e;var i="string"==typeof n?n:"…",r=e.length-t+i.length,o=Math.round(e.length/2);return e.substring(0,o-Math.ceil(r/2))+i+e.substring(o+Math.floor(r/2),e.length)},convertBranchNameToSentence:function(e){if(!e||"string"!=typeof e)return"";if(!n)return e;var i=/([A-Z]{1,10}-\d+)/,r=t.map(e.split(i),function(e,t){return t%2===0?e.replace(/[\-_]/g," "):e});return this.toSentenceCase(r.join(""))},pluralize:function(e,t,n){return 1!=t?void 0!==n?n:e+"s":e}}}),define("command-bar/guards/is-command",[],function(){return function(e,t){var n=!t;return e?function(t,i){return i.named&&i.named[e]&&(n||i.named[e].partial===!1)}:function(){return!1}}}),define("command-bar/regexes/numeric-key",[],function(){return/(?:^#?([0-9]+)$)|(?:^#$)/}),define("text!command-bar/templates/pr-suggestion.mustache",[],function(){return'<span class="suggestion-icon aui-icon aui-icon-small aui-iconfont-devtools-pull-request">\n  Pull request icon\n</span>\n\n[[label]]\n\n[[#help]]\n  <em class="extended">[[help]]</em>\n[[/help]]\n\n'}),define("command-bar/commands/repo-pullrequests",["underscore","utils/fuzzy-match","utils/text","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/is-command","command-bar/guards/not-repo-branch","command-bar/guards/in-repo-context","command-bar/regexes/numeric-key","text!command-bar/templates/pr-suggestion.mustache"],function(e,t,n,i,r,o,a,s,u,l){return new i({guards:[o("pr"),s,a],name:"pr",url:function(e,t){return"/!api/2.0/repositories/{}/pullrequests?pagelen=50".format(t.repoFullSlug)},helpEntry:{command:"user/repo pr #",description:"jump to pull request"},transform:function(i,o,a){var s=a.named[this.get("name")],c=i.values?i.values:[];if(s.partial)return[new r({value:"{} pr ".format(a.repoFullSlug),help:"{} {}".format(c.length,n.pluralize("pull request",c.length)),score:1})];var d=s.value.trim(),p=d.match(u);return p?p[1]&&(d=p[1],c=e.filter(c,function(e){return e.id.toString().startsWith(d)})):""!==d.trim()&&(c=t(c,d,"title")),e.map(c,function(e){var t=e.links.html;return new r({template:l,value:"{} pr #{}".format(a.repoFullSlug,e.id),url:t.href,label:"#{}: {}".format(e.id,e.title),score:e.score})})}})}),define("utils/path-condenser",[],function(){var e=function(e,t,n){this.targetSize=e,this.ellipses=void 0!==t?t:"~",this.ellipsesSize=void 0!==n?n:this.ellipses.length};return e.prototype={_shortenPathElement:function(e,t,n){var i=e[t];if(i.length<=n)return i.length;if(this.ellipsesSize>n)return e[t]=this.ellipses,this.ellipsesSize;var r=n-this.ellipsesSize,o=r>1?r>>1:0,a=r-o;return e[t]=[i.substring(0,a),this.ellipses,i.substring(i.length-o)].join(""),n},_calculateSegmentSize:function(e,t,n){var i=this.targetSize-e;return 0===t?i:n?i>>1:i/(t+1)|0},condense:function(e){if(e.length<=this.targetSize)return e;var t,n=0,i=e.split("/"),r=i.length-1;for(t=r;t>=0;t--)n+=this._shortenPathElement(i,t,this._calculateSegmentSize(n,t,t===r)),n++;return i.join("/")}},e}),define("text!command-bar/templates/file-suggestion.mustache",[],function(){return'<span class="suggestion-icon aui-icon aui-icon-small aui-iconfont-devtools-[[type]]">\n  File icon\n</span>\n<span title="[[path]]">\n[[&label]]\n</span>\n[[#help]]\n  <em class="extended">[[help]]</em>\n[[/help]]\n\n'}),define("command-bar/commands/repo-source",["underscore","utils/fuzzy-match","utils/path-condenser","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/is-command","command-bar/guards/in-repo-context","text!command-bar/templates/file-suggestion.mustache"],function(e,t,n,i,r,o,a,s){function u(e){return e.repoBranch?[new r({value:"{}:{} src".format(e.repoFullSlug,e.repoBranch),help:"source",score:1})]:[new r({value:"{} src".format(e.repoFullSlug),help:"source",score:1})]}function l(e,t){var i,r=e,o="",a=new n(45,"&hellip;",2);return i=t.lastIndexOf("/"),-1!==i&&(o=t.substring(0,i)),o.length>1&&r.startsWith(o)?(r=r.substring(i),r=a.condense(r),r="&hellip;"+r):r=a.condense(r),r}return new i({guards:[o("src"),a],name:"src",createKey:function(e,t){var n=t.named[this.get("name")],i=this.get("url")(e,t);return n&&n.partial?"_"+i:i},createPromise:function(e,t){var n=t.named[this.get("name")],i=this.get("url")(e,t);if(n&&n.partial){var r=$.Deferred();return r.resolve(u(t)),r}return $.ajax({url:i,type:"GET",dataType:"json"})},url:function(e,t){return t.repoBranch?"/!api/1.0/repositories/{}/directory/{}/".format(t.repoFullSlug,t.repoBranch):"/!api/1.0/repositories/{}/directory/".format(t.repoFullSlug)},helpEntry:{command:"user/repo src path",description:"jump to source"},transform:function(n,i,o){var a,u=o.named[this.get("name")],c=n.values||[],d=(u?u.value||"":"").trim();return u.partial?n:(c=t(e.map(c,function(e){return{name:e}}),d,"name"),a=o.repoBranch?"{}:{}".format(o.repoFullSlug,o.repoBranch):o.repoFullSlug,c.length>10&&(c=c.slice(0,10)),e.map(c,function(e){return new r({template:s,value:"{} src {}".format(a,e.name),url:"/{}/src/{}/{}".format(o.repoFullSlug,n.revision,e.name),label:l(e.name,d),path:e.name,score:e.score,help:a,type:"/"===e[e.length-1]?"folder-open":"file"})}))}})}),define("text!command-bar/templates/issue-suggestion.mustache",[],function(){return'[[#icon]]\n  <span class="suggestion-icon">\n    <img src="[[icon]]" alt="[[label]]">\n  </span>\n[[/icon]]\n\n[[label]]\n\n[[#help]]\n  <em class="extended">[[help]]</em>\n[[/help]]\n'}),define("command-bar/commands/repo-issues",["underscore","utils/fuzzy-match","utils/text","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/is-command","command-bar/guards/not-repo-branch","command-bar/guards/in-repo-context","command-bar/regexes/numeric-key","text!command-bar/templates/issue-suggestion.mustache"],function(e,t,n,i,r,o,a,s,u,l){return new i({states:{},guards:[o("issue"),s,a],name:"issue",url:function(e,t){var n=t.repoFullSlug,i=this.get("states"),r=i[n];return r||(r={start:0,issues:[]},i[n]=r),"/!api/1.0/repositories/{}/issues?status=open&status=new&start={}&limit=50".format(t.repoFullSlug,r.start)},helpEntry:{command:"user/repo issue #",description:"jump to issue"},transform:function(i,o,a){var s=a.named[this.get("name")],c=i.issues?i.issues:[],d=a.repoFullSlug,p=this.get("states"),h=p[d];if(delete i.issues,e.has(h,"total")&&(h.total=i.count),c.length&&(h.start+c.length<h.total&&(h.start+=c.length),h.issues=h.issues.concat(c)),s.partial)return[new r({value:"{} issue ".format(a.repoFullSlug),help:"{} {}".format(h.issues.length,n.pluralize("issue",h.issues.length)),score:1})];var f=s.value.trim(),g=f.match(u);return g?g[1]&&(f=g[1],c=e.filter(h.issues,function(e){return e.local_id.toString().startsWith(f)})):c=t(h.issues,f,"title"),e.map(c,function(e){return new r({template:l,value:"{} issue #{}".format(a.repoFullSlug,e.local_id),url:"/{}/issues/{}".format(a.repoFullSlug,e.local_id),label:"#{}: {}".format(e.local_id,e.title),score:e.score})})}})}),define("command-bar/commands/compare-branches",["components/command-bar/command","components/command-bar/suggestion","command-bar/guards/in-repo-context","command-bar/guards/is-command","command-bar/guards/is-repo-branch"],function(e,t,n,i,r){return new e({guards:[n,i("compare"),r],name:"compare",helpEntry:{command:"user/repo:branch compare branch",description:"compare two branches"},suggest:function(e,n){var i=n.named[this.get("name")];if(!i||i.partial||""===i.value.trim())return[new t({value:"{}:{} compare".format(n.repoFullSlug,n.repoBranch),url:"/{}/compare/{}...".format(n.repoFullSlug,n.repoBranch),help:"compare two branches",score:1})];var r=i.value.trim();return[new t({value:"{}:{} compare {}".format(n.repoFullSlug,n.repoBranch,r),url:"/{}/compare/{}..{}".format(n.repoFullSlug,n.repoBranch,r),label:"compare {} to {}".format(n.repoBranch,r)})]}})}),define("command-bar/commands/my-pullrequests",["underscore","utils/fuzzy-match","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/not-in-user-context","command-bar/guards/not-in-repo-context","text!command-bar/templates/pr-suggestion.mustache"],function(e,t,n,i,r,o,a){return new n({url:"/!api/internal/my/pull-requests/",guards:[r,o],transform:function(n,r){var o=t(n,r,"title");return e.map(o,function(e){return new i({template:a,value:"{} pr #{}".format(e.repo,e.localId),url:e.url,label:"#{}: {}".format(e.localId,e.title),help:e.repo,score:e.score})})}})}),define("command-bar/commands/my-issues",["underscore","utils/fuzzy-match","components/command-bar/async-command","components/command-bar/suggestion","command-bar/guards/not-in-user-context","command-bar/guards/not-in-repo-context","text!command-bar/templates/issue-suggestion.mustache"],function(e,t,n,i,r,o,a){return new n({url:"/!api/internal/my/issues/",guards:[r,o],transform:function(n,r){var o=t(n,r,"title");return e.map(o,function(e){return new i({template:a,value:"{} issue #{}".format(e.repo,e.localId),icon:e.icon,url:e.url,label:"#{}: {}".format(e.localId,e.title),help:e.repo,score:e.score})})}})}),define("utils/when-i-type",["aui","jquery","underscore"],function(e,t,n){var i=[];whenITypeKeyDataMap={};var r=function(o,a,s,u,l){function c(e){for(var t=e.length;t--;)if(e[t].length>1&&"space"!==e[t])return!0;return!1}var d,p,h,f,g=function(e){var n=t(e),i=n.attr("title")||"",r=o.slice(0);if(n.data("kbShortcutAppended"))return void m(n,r,i);var a=t("#keyType").val()||"type",s=t("#keyThen").val()||"then";i+=i?" ":"",i+="( "+a+" '"+r.shift()+"'",t.each(r,function(){i+=" "+s+" '"+this+"'"}),i+=" )",n.attr({title:i}),n.data("kbShortcutAppended",!0)},m=function(e,n,i){var r;i=i.replace(/\)$/," OR "),i+="'"+n.shift()+"'",r=t("#keyThen").val()||"then",t.each(n,function(){i+=" "+r+" '"+this+"'"}),i+=" )",e.attr({title:i})},v=function(e){var n=c(e)?"keydown":"keypress";t(document).on(n,l,e,function(e){d&&(u||!r.disabled&&!t("#keyboard-shortcut-container").is(":visible"))&&(!p||t(p).is(":visible"))&&(d(e),e.preventDefault())})};return s||(s="Application"),Object.hasOwnProperty.call(whenITypeKeyDataMap,s)||(i.push(s),whenITypeKeyDataMap[s]=[]),f={keys:[o],desc:a},whenITypeKeyDataMap[s].push(f),v(o),{or:function(e){return f.keys.push(e),v(e),this},moveToNextItem:function(n,i,r){d=function(){var o,a,s;t(".aui-dialog:visible").length&&-1===n.indexOf(".aui-dialog:visible")&&(n=".aui-dialog:visible "+n),a=t(n),s=t(n).filter(".focused"),d.blurHandler||t(document).one("keydown",function(t){t.keyCode===e.keyCode.ESCAPE&&s&&(s.removeClass("focused"),s.find("a:first").blur())}),0===s.length?s=t(n).eq(0):(s.removeClass("focused"),o=t.inArray(s.get(0),a),o<a.length-1?(o+=1,s=a.eq(o)):i&&i()?r():(s.removeClass("focused"),s=t(n).eq(0))),s&&s.length>0&&(s.addClass("focused"),s.moveTo(),s.find("a:first").focus())}},moveToPrevItem:function(n,i,r){d=function(){var o,a,s;t(".aui-dialog:visible").length&&-1===n.indexOf(".aui-dialog:visible")&&(n=".aui-dialog:visible "+n),a=t(n),s=t(n).filter(".focused"),d.blurHandler||t(document).one("keydown",function(t){t.keyCode===e.keyCode.ESCAPE&&s&&(s.removeClass("focused"),s.find("a:first").blur())}),0===s.length?s=t(n).last():(s.removeClass("focused"),o=t.inArray(s.get(0),a),o>0?(o-=1,s=a.eq(o)):i&&i()?r():(s.removeClass("focused"),s=t(n).last())),s&&s.length>0&&(s.addClass("focused"),s.moveTo(),s.find("a:first").focus())}},click:function(e){g(e),d=function(){t(e).trigger("click")}},goTo:function(e){d=function(){window.location.href=e}},followLink:function(e){g(e),d=function(){var n=t(e)[0];n&&"a"===n.nodeName.toLowerCase()&&(window.location.href=n.href)}},execute:function(e){d=e},moveToAndClick:function(e){g(e),d=function(){t(e).click().moveTo()}},moveToAndFocus:function(e){g(e),d=function(){t(e).focus().moveTo()}},focus:function(e){g(e),d=function(){t(e).focus()}},submitComment:function(){d=function(e){var n,i,r=t(e.currentTarget);1===r.length&&(n=r.closest("form"),1===n.length&&(i=n.find("button[type=submit]"),1===i.length&&i.click()))}},displayHelp:function(){d=function(){var r=h,o=function(){h&&h.hide().remove(),h=null};if(r)return void o();r=h=new e.Dialog({width:800,height:"auto",id:"bb-keyboard-shortcuts-dialog"}),r.addPanel("main").addHeader("Keyboard shortcuts").addCancel("Close",function(){o()});var a=t('<section id="keyboard-shortcuts" class="aui-group"></div>'),s=t('<div class="aui-item"></div>').appendTo(a),u=t('<div class=aui-item"></div>').appendTo(a),l=1;n.each(i,function(e){var i,r="";n.each(whenITypeKeyDataMap[e],function(e){(!e.guard||t(e.guard).is(":visible"))&&(r+="<dt>"+e.desc+"</dt>",r+="<dd>",r+=n.map(e.keys,function(e){return"<kbd>"+e.join("</kbd> then <kbd>")+"</kbd>"}).join(" or "),r+="</dd>")}),r&&(l++,i=t('<div class="keyboard-shortcut-context"></div>'),i.append('<h3 class="context-title">'+e+"</h3>"),t("<dl></dl>").append(r).appendTo(i),(l%2?u:s).append(i))}),r.getCurrentPanel().html(a),r.show()}},dismiss:function(){d=function(){t("#keyboard-shortcut-container").remove()}},guard:function(e){p=e,f.guard=e}}};return r.fromJSON=function(e){n.each(e,function(e){var t=e.section;n.each(e.shortcuts,function(e){var n=e.op,i=e.params||[],o=e.guard,a=r(e.keys,e.description,t,e.always,e.delegate);a[n].apply(null,i),o&&a.guard(o),e.aliasKeys&&a.or(e.aliasKeys)})})},t(document).on("keydown",function(e){27===e.keyCode&&/^(input|select|textarea)$/i.test(e.target.nodeName)&&e.target.blur()}),t(document).on("iframeAppended",function(e,n){t(n).load(function(){t(n).contents().bind("keyup keydown keypress",function(e){t.browser.safari&&"keypress"===e.type||/^(input|select|textarea)$/i.test(e.target.nodeName)||t(document).trigger(e)})})}),r}),define("command-bar/index",["jquery","data/flags","data/current-repo","components/command-bar/index","command-bar/filters/repo","command-bar/filters/user","command-bar/filters/command","command-bar/commands/following-users","command-bar/commands/global-users","command-bar/commands/my-repos","command-bar/commands/global-repos","command-bar/commands/repo-branches","command-bar/commands/repo-pullrequests","command-bar/commands/repo-source","command-bar/commands/repo-issues","command-bar/commands/compare-branches","command-bar/commands/my-pullrequests","command-bar/commands/my-issues","utils/when-i-type"],function(e,t,n,i,r,o,a,s,u,l,c,d,p,h,f,g,m,v,y){if(!t.commandBar)return!1;var b=new i;return e(document.body).append(b.render().el),b.filters.add([r,o,a]),b.commands.add([l,m,v,s,u,c,d,p,h,f,g]),n&&n.owner&&b.setContext("{}/{} ".format(n.owner.username,n.slug)),y.fromJSON([{section:gettext("Repository actions"),shortcuts:[{keys:["."],description:gettext("Open the command bar"),op:"execute",params:[function(){b.openDialog()}]}]}]),b}),define("data/current-user",["jquery"],function(e){var t=e(document.body).data("currentUser")||{};return t}),define("utils/ready",["jquery"],function(e){return function(t,n){var i=function(){if(n){var i=e(t);i.length&&n(i)}else t()};e(document).on("pjax:end",i),e(i)}}),define("ace",["jquery","data/current-user","utils/ready"],function(e,t,n){var i=document.charset||document.characterSet,r={host:"ace.atlassian.com",path:"/j/"};n(function(){var n,o=e(".ace-integration"),a={};if(o.length){if(!t.username)return void o.removeClass("ace-integration");n="{}//{}{}".format(window.location.protocol,r.host,r.path),document.MAX_used=document.MAX_used||",",a.loc=window.location,i&&(a.charset=i),document.URL&&(a.referer=document.URL),document.context&&(a.context=document.context),o.each(function(){var t,i=e(this);a.zoneid=i.attr("data-ace-zone"),","!==document.MAX_used?a.exclude=document.MAX_used:a.exclude&&delete a.exclude,t="{}?{}".format(n,e.param(a)),e.ajax({url:t,dataType:"jsonp",contentType:"application/json"}).done(function(e){e.html&&i.html(e.html),i.removeClass("ace-integration")}).error(function(){i.removeClass("ace-integration")})})}})}),define("utils/initialize",["underscore"],function(e){var t=[],n=!1,i=function(){for(var e=t.length;e--;)t[e]();n=!0};return i.register=function(){if(t.push.apply(t,e.toArray(arguments)),n)for(var i=arguments.length;i--;)arguments[i]()},i}),function(e){define("jquery-plugins/jquery.pjax",[],function(){return function(){!function(e){function t(t,i,r){var o=this;return this.on("click.pjax",t,function(t){var a=e.extend({},p(i,r));a.container||(a.container=e(this).attr("data-pjax")||o),n(t,a)})}function n(t,n,i){i=p(n,i);var o=t.currentTarget;if("A"!==o.tagName.toUpperCase())throw"$.fn.pjax or $.pjax.click requires an anchor element";if(!(t.which>1||t.metaKey||t.ctrlKey||t.shiftKey||t.altKey||location.protocol!==o.protocol||location.hostname!==o.hostname||o.hash&&o.href.replace(o.hash,"")===location.href.replace(location.hash,"")||o.href===location.href+"#"||t.isDefaultPrevented())){var a={url:o.href,container:e(o).attr("data-pjax"),target:o},s=e.extend({},a,i),u=e.Event("pjax:click");e(o).trigger(u,[s]),u.isDefaultPrevented()||(r(s),t.preventDefault(),e(o).trigger("pjax:clicked",[s]))}}function i(t,n,i){i=p(n,i);var o=t.currentTarget;if("FORM"!==o.tagName.toUpperCase())throw"$.pjax.submit requires a form element";var a={type:o.method.toUpperCase(),url:o.action,data:e(o).serializeArray(),container:e(o).attr("data-pjax"),target:o};r(e.extend({},a,i)),t.preventDefault()}function r(t){function n(t,n,r){r||(r={}),r.relatedTarget=i;var o=e.Event(t,r);return s.trigger(o,n),!o.isDefaultPrevented()}t=e.extend(!0,{},e.ajaxSettings,r.defaults,t),e.isFunction(t.url)&&(t.url=t.url());var i=t.target,o=d(t.url).hash,s=t.context=h(t.container);t.data||(t.data={}),t.data._pjax=s.selector;var u;t.beforeSend=function(e,i){return"GET"!==i.type&&(i.timeout=0),e.setRequestHeader("X-PJAX","true"),e.setRequestHeader("X-PJAX-Container",s.selector),n("pjax:beforeSend",[e,i])?(i.timeout>0&&(u=setTimeout(function(){n("pjax:timeout",[e,t])&&e.abort("timeout")},i.timeout),i.timeout=0),void(t.requestUrl=d(i.url).href)):!1},t.complete=function(e,i){u&&clearTimeout(u),n("pjax:complete",[e,i,t]),n("pjax:end",[e,t])},t.error=function(e,i,r){var o=m("",e,t),s=n("pjax:error",[e,i,r,t]);"GET"==t.type&&"abort"!==i&&s&&a(o.url)},t.success=function(i,u,c){var p=r.state,h="function"==typeof e.pjax.defaults.version?e.pjax.defaults.version():e.pjax.defaults.version,f=c.getResponseHeader("X-PJAX-Version"),g=m(i,c,t);if(h&&f&&h!==f)return void a(g.url);if(!g.contents)return void a(g.url);r.state={id:t.id||l(),url:g.url,title:g.title,container:s.selector,fragment:t.fragment,timeout:t.timeout},(t.push||t.replace)&&window.history.replaceState(r.state,g.title,g.url);try{document.activeElement.blur()}catch(y){}g.title&&(document.title=g.title),n("pjax:beforeReplace",[g.contents,t],{state:r.state,previousState:p}),s.html(g.contents);var b=s.find("input[autofocus], textarea[autofocus]").last()[0];if(b&&document.activeElement!==b&&b.focus(),v(g.scripts),"number"==typeof t.scrollTo&&e(window).scrollTop(t.scrollTo),""!==o){var w=d(g.url);w.hash=o,r.state.url=w.href,window.history.replaceState(r.state,g.title,w.href);var x=e(w.hash);x.length&&e(window).scrollTop(x.offset().top)}n("pjax:success",[i,u,c,t])},r.state||(r.state={id:l(),url:window.location.href,title:document.title,container:s.selector,fragment:t.fragment,timeout:t.timeout},window.history.replaceState(r.state,document.title));var p=r.xhr;p&&p.readyState<4&&(p.onreadystatechange=e.noop,p.abort()),r.options=t;var p=r.xhr=e.ajax(t);return p.readyState>0&&(t.push&&!t.replace&&(y(r.state.id,s.clone().contents()),window.history.pushState(null,"",c(t.requestUrl))),n("pjax:start",[p,t]),n("pjax:send",[p,t])),r.xhr}function o(t,n){var i={url:window.location.href,push:!1,replace:!0,scrollTo:!1};return r(e.extend(i,p(t,n)))}function a(e){window.history.replaceState(null,"","#"),window.location.replace(e)}function s(t){var n=r.state,i=t.state;if(i&&i.container){if(A&&C==i.url)return;if(r.state&&r.state.id===i.id)return;var o=e(i.container);if(o.length){var s,u=$[i.id];r.state&&(s=r.state.id<i.id?"forward":"back",b(s,r.state.id,o.clone().contents()));var l=e.Event("pjax:popstate",{state:i,direction:s});o.trigger(l);var c={id:i.id,url:i.url,container:o,push:!1,fragment:i.fragment,timeout:i.timeout,scrollTo:!1};if(u){o.trigger("pjax:start",[null,c]),r.state=i,i.title&&(document.title=i.title);var d=e.Event("pjax:beforeReplace",{state:i,previousState:n});o.trigger(d,[u,c]),o.html(u),o.trigger("pjax:end",[null,c])}else r(c);o[0].offsetHeight}else a(location.href)}A=!1}function u(t){var n=e.isFunction(t.url)?t.url():t.url,i=t.type?t.type.toUpperCase():"GET",r=e("<form>",{method:"GET"===i?"GET":"POST",action:n,style:"display:none"});"GET"!==i&&"POST"!==i&&r.append(e("<input>",{type:"hidden",name:"_method",value:i.toLowerCase()}));var o=t.data;if("string"==typeof o)e.each(o.split("&"),function(t,n){var i=n.split("=");r.append(e("<input>",{type:"hidden",name:i[0],value:i[1]}))});else if("object"==typeof o)for(key in o)r.append(e("<input>",{type:"hidden",name:key,value:o[key]}));e(document.body).append(r),r.submit()}function l(){return(new Date).getTime()}function c(e){return e.replace(/\?_pjax=[^&]+&?/,"?").replace(/_pjax=[^&]+&?/,"").replace(/[\?&]$/,"")}function d(e){var t=document.createElement("a");return t.href=e,t}function p(t,n){return t&&n?n.container=t:n=e.isPlainObject(t)?t:{container:t},n.container&&(n.container=h(n.container)),n}function h(t){if(t=e(t),t.length){if(""!==t.selector&&t.context===document)return t;if(t.attr("id"))return e("#"+t.attr("id"));throw"cant get selector for pjax container!"}throw"no pjax container for "+t.selector}function f(e,t){return e.filter(t).add(e.find(t))}function g(t){return e.parseHTML(t,document,!0)}function m(t,n,i){var r={};if(r.url=c(n.getResponseHeader("X-PJAX-URL")||i.requestUrl),/<html/i.test(t))var o=e(g(t.match(/<head[^>]*>([\s\S.]*)<\/head>/i)[0])),a=e(g(t.match(/<body[^>]*>([\s\S.]*)<\/body>/i)[0]));else var o=a=e(g(t));if(0===a.length)return r;if(r.title=f(o,"title").last().text(),i.fragment){if("body"===i.fragment)var s=a;else var s=f(a,i.fragment).first();s.length&&(r.contents=s.contents(),r.title||(r.title=s.attr("title")||s.data("title")))}else/<html/i.test(t)||(r.contents=a);return r.contents&&(r.contents=r.contents.not(function(){return e(this).is("title")}),r.contents.find("title").remove(),r.scripts=f(r.contents,"script[src]").remove(),r.contents=r.contents.not(r.scripts)),r.title&&(r.title=e.trim(r.title)),r}function v(t){if(t){var n=e("script[src]");t.each(function(){var t=this.src,i=n.filter(function(){return this.src===t});if(!i.length){var r=document.createElement("script");
r.type=e(this).attr("type"),r.src=e(this).attr("src"),document.head.appendChild(r)}})}}function y(e,t){for($[e]=t,T.push(e);k.length;)delete $[k.shift()];for(;T.length>r.defaults.maxCacheLength;)delete $[T.shift()]}function b(e,t,n){var i,r;$[t]=n,"forward"===e?(i=T,r=k):(i=k,r=T),i.push(t),(t=r.pop())&&delete $[t]}function w(){return e("meta").filter(function(){var t=e(this).attr("http-equiv");return t&&"X-PJAX-VERSION"===t.toUpperCase()}).attr("content")}function x(){e.fn.pjax=t,e.pjax=r,e.pjax.enable=e.noop,e.pjax.disable=S,e.pjax.click=n,e.pjax.submit=i,e.pjax.reload=o,e.pjax.defaults={timeout:650,push:!0,replace:!1,type:"GET",dataType:"html",scrollTo:0,maxCacheLength:20,version:w},e(window).on("popstate.pjax",s)}function S(){e.fn.pjax=function(){return this},e.pjax=u,e.pjax.enable=x,e.pjax.disable=e.noop,e.pjax.click=e.noop,e.pjax.submit=e.noop,e.pjax.reload=function(){window.location.reload()},e(window).off("popstate.pjax",s)}var A=!0,C=window.location.href,_=window.history.state;_&&_.container&&(r.state=_),"state"in window.history&&(A=!1);var $={},k=[],T=[];e.inArray("state",e.event.props)<0&&e.event.props.push("state"),e.support.pjax=window.history&&window.history.pushState&&window.history.replaceState&&!navigator.userAgent.match(/((iPod|iPhone|iPad).+\bOS\s+[1-4]|WebApps\/.+CFNetwork)/),e.support.pjax?x():S()}(jQuery)}.apply(e,arguments)})}(this),define("initialization",["jquery","utils/initialize","jquery-plugins/jquery.pjax"],function(e,t){e.support.pjax&&(e.pjax.defaults.timeout=2e3),e(document).on("pjax:end",t),t()}),define("utils/exists",["jquery"],function(e){return function(t,n){var i=e(t);1===i.length&&n(i)}}),define("data/debug",["jquery"],function(e){var t="true"===e("#bb-debug").attr("content");return t}),define("utils/gaq-push",["underscore","data/debug"],function(e,t){var n=!1,i=function(){if(n)t?console.log(["_gaq.push(",e.map(arguments,function(e){return'  ["'+e.join('", "')+'"]'}).join(",\n"),");"].join("\n")):(window._gaq||(window._gaq=[]),_gaq.push.apply(_gaq,e.toArray(arguments)));else{n=!0;var r="//www.google-analytics.com/plugins/ga/inpage_linkid.js";i(["_require","inpage_linkid",r],["_setAccount","UA-2456069-3"],["atl._setAccount","UA-6032469-33"]),i.apply(null,arguments)}};return i}),define("utils/api-helper",["underscore"],function(e){var t=Array.prototype.concat,n={concat:function(){return e.extend(t.apply(this,e.toArray(arguments)),n)},toString:function(){var n="",i=e.toArray(arguments);if("[object Object]"===Object.prototype.toString.call(e.last(i))){var r=i.pop();e.each(e.keys(r).sort(),function(e,t){n+="{sep}{key}={val}".format({sep:t?"&":"?",key:encodeURIComponent(e),val:encodeURIComponent(r[e])})})}return"/{}/{}".format(e.map(t.apply(this,i),encodeURIComponent).join("/"),n)}},i=e.extend(["!api","1.0"],n);return i}),define("utils/preferences",["jquery","data/current-user","utils/api-helper"],function(e,t,n){function i(e){return{url:n.concat("user","preferences",t.username,e),dataType:"json"}}return{get:function(t){return e.ajax(_.extend(i(t),{type:"GET"}))},set:function(t,n){return e.ajax(_.extend(i(t),{type:"PUT",data:{value:n}}))},"delete":function(t){return e.ajax(_.extend(i(t),{type:"DELETE"}))}}}),define("i18n",["aui","jquery","underscore","data/current-user","utils/exists","utils/gaq-push","utils/preferences"],function(e,t,n,i,r,o,a){r("#header-language form",function(e){e.on("click","a",function(n){n.preventDefault(),e.find("input[name=language]").val(t(n.target).attr("data-value")),e.submit()})}),r("#call-for-translators",function(e){e.slideDown(),o(["atl._trackEvent","i18n","Show call for translators banner"]),e.on("messageClose",function(){a.set("dismiss-call-for-translators","True")}),e.on("click",".view-language-link",function(){o(["atl._trackEvent","i18n","View language preference","banner"])})}),r("#footer .view-language-link",function(e){e.on("click",function(){o(["atl._trackEvent","i18n","View language preference","footer"])})}),r("#id_language_code_group",function(i){function r(){var e=d.data("languages");return n.indexOf(e,u.val())<0}function a(){!p&&i.data("banner-referrer")&&(o(["atl._trackEvent","i18n","Language field referrer","banner"]),p=!0)}var s=i.closest("form"),u=t("#id_language_code"),l=t("#translate-progress-content"),c=null,d=t("#help-translate-message");u.on("change",function(){d.is(":visible")?r(u.val())||d.slideUp():r(u.val())&&d.slideDown()});var p=!1;u.on("change",function(){a(),c=t.get(l.attr("data-stats-url"))}),d.on("click",".translate-link",a);var h=u.val();s.on("submit",function(){if(u.val()!==h){var e=h+" -> "+u.val();o(["atl._trackEvent","i18n","Save language change",e])}});var f=!1,g=new e.Dialog({width:450,height:"auto",id:"translate-progress-dialog"});g.addPanel("main").addHeader("This translation is incomplete").addButton("Save settings",function(){f=!0,s.submit()},"aui-button aui-button-primary").addCancel("Cancel",function(e){e.hide()}),g.getCurrentPanel().body.append(l.show()),s.on("submit",function(e){var n=u.val();if(n!==h&&r(n)&&!f){e.preventDefault();var i=s.find("button[type=submit]"),o=setTimeout(function(){i.addClass("loading").attr("aria-disabled",!0).attr("disabled",!0)},400);c.done(function(e){clearTimeout(o),i.removeClass("loading").removeAttr("aria-disabled").removeAttr("disabled");var r=e[n]||0;t("#translate-progress-content").find("span.language").text(u.find(":selected").text()).end().find("span.percent").text(r).end().find(".progress").css("width",r+"%"),g.show()})}}),i.on("click",".translate-link",function(e){var n=t(e.target).attr("data-type");o(["atl._trackEvent","i18n","Translate",n])})})}),function(e){define("jquery-plugins/jquery.localize",[],function(){return function(){(function(){var e,t,n,i,r,o,a,s;a="0.8.0",o=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(?:[.](\d+))?)?(?:([-+]\d\d):(\d\d)|Z)$/,n=function(e,t,n){return null==t&&(t=0),null==n&&(n=0),e.setHours(s.H(e)-t,s.M(e)+(+t>0?-n:+n)),e},t=function(t){return i[t]||e[t]},r=function(e,t){return null==t&&(t=2),(e+1e3+"").substr(4-t)},s={yy:function(e){return r(s.yyyy(e)%100)},yyyy:function(e){return e.getFullYear()},m:function(e){return e.getMonth()+1},mm:function(e){return r(s.m(e))},mmm:function(e){return t("abbrMonths")[s.m(e)-1]},mmmm:function(e){return t("fullMonths")[s.m(e)-1]},d:function(e){return e.getDate()},dd:function(e){return r(s.d(e))},ddd:function(e){return t("abbrDays")[e.getDay()]},dddd:function(e){return t("fullDays")[e.getDay()]},o:function(e){return t("ordinals")(s.d(e))},h:function(e){return s.H(e)%12||12},hh:function(e){return r(s.h(e))},H:function(e){return e.getHours()},HH:function(e){return r(s.H(e))},M:function(e){return e.getMinutes()},MM:function(e){return r(s.M(e))},s:function(e){return e.getSeconds()},ss:function(e){return r(s.s(e))},S:function(e){return""+s.s(e)+"."+r(e%1e3,3)},SS:function(e){return""+s.ss(e)+"."+r(e%1e3,3)},a:function(e){return t("periods")[+(s.H(e)>11)]},Z:function(e){var t,n;return t=Math.abs(n=-e.getTimezoneOffset()),""+(0>n?"-":"+")+r(t/60>>0)+":"+r(t%60)}},e=function(t,n){var i,r,o,a,u,l,c;if(t instanceof Date||(n=t,t=new Date),n||(n=e.format),"function"==typeof n)return n(t);for(a=null,r=o="",c=(""+n.replace(/~/g,"~T").replace(/%%/g,"~P")+"%").split(""),u=0,l=c.length;l>u;u++)i=c[u],r&&(i===a||"%"===r?r+=i:(r=r.substr(1),o+=s.hasOwnProperty(r)?e.escaped?jQuery("<b>").text(s[r](t)).html():s[r](t):r)),/%/.test(r)||(r=/%/.test(n)?"%"===i?"%":(o+=i,""):"%"+i),a=i;return o.replace(/~P/g,"%").replace(/~T/g,"~")},e.abbrDays=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],e.abbrMonths=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],e.fullDays=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],e.fullMonths=["January","February","March","April","May","June","July","August","September","October","November","December"],e.format="d mmmm yyyy",e.periods=["AM","PM"],e.ordinals=function(e){return e+["th","st","nd","rd"][e>10&&14>e||(e%=10)>3?0:e]},e.version=a,jQuery.localize=e,i={},jQuery.fn.localize=function(t){var r;return"object"==typeof t&&(jQuery.extend(i,t),t=i.format),t||(t=e.format),r=i.escaped?"html":"text",this.each(function(){var i,a,s;return i=jQuery(this),"time"===this.nodeName.toLowerCase()&&(s=o.exec(i.attr("datetime")||e("yyyy-mm-ddTHH:MM:ssZ"))),s?(a=n(new Date(Date.UTC(+s[1],s[2]-1,+s[3],+s[4],+s[5],+s[6]||0,+(""+(s[7]||0)+"00").substr(0,3))),s[8],s[9]),i.attr("datetime",e(a,"yyyy-mm-ddTHH:MM"+(s[7]?":SS":s[6]?":ss":"")+"Z")),i[r]("function"==typeof t?t.call(i,a):e(a,t))):void 0}),i={},this}}).call(this)}.apply(e,arguments)})}(this),define("utils/localize",["jquery","jquery-plugins/jquery.localize"],function(e){var t=5,n=Math.abs,i=Math.floor,r=Math.round;return e.localize.format=function(o,a){var s,u,l,c,d,p,h,f,g,m,v;if(null==a&&(a=new Date),u=(o-a)/1e3,u>-10&&300>u)return"just now";if(c=0>u,u=n(u),p=c?"ago":"from now",o.setHours(a.getHours(),a.getMinutes(),a.getSeconds(),a.getMilliseconds()),s=n(r((o-a)/864e5)),s>t)return e.localize(o,"yyyy-mm-dd");if(s>1)return""+s+" days "+p;if(u>=86400)return c?"yesterday":"tomorrow";for(m=[["an hour",3600],["a minute",60],["a second",1]],f=0,g=m.length;g>f&&(v=m[f],h=v[0],d=v[1],!(u>=d));f++);return l=i(u/d),1===l?""+h+" "+p:""+l+" "+h.split(" ")[1]+"s "+p},function(t){t=t&&t.length?t:e("time"),t.each(function(){var t=e(this),n=t.data();n.format?t.localize({format:n.format,periods:n.associatedPressPeriods?["a.m.","p.m."]:void 0}):n.relative!==!1&&t.localize();var i=new Date(t.attr("datetime"));t.attr({title:e.localize(i,"d mmmm yyyy HH:MM")})})}}),define("localization",["jquery","utils/localize"],function(e,t){window.setInterval(t,6e4),e(function(){t()}),e(document).on("pjax:end",function(){t()})}),define("data/ga-commands",["jquery"],function(e){var t=e(document.body).data("gaCommands")||[];return t}),define("data/opt-commands",["jquery"],function(e){var t=e(document.body).data("optCommands")||[];return t}),define("utils/opt-push",["underscore","data/debug"],function(e,t){return function(n){n=e.isArray(n)?n:["trackEvent",n],t?console.log('window.optimizely.push(["'+n.join('", "')+'"])'):(window.optimizely=window.optimizely||[],window.optimizely.push(n))}}),define("tracking",["jquery","underscore","data/current-repo","data/ga-commands","data/opt-commands","utils/gaq-push","utils/opt-push"],function(e,t,n,i,r,o,a){o(["_trackPageview"]),o(["atl._trackPageview"]),n.analyticsKey&&o(["repo._setAccount",n.analyticsKey],["repo._trackPageview"]),t.each(i,function(e){switch(e.type){case"trackPageview":o(["atl._trackPageview",e.pageName]);break;case"trackEvent":o(["atl._trackEvent",e.eventCategory,e.eventName]);break;case"setCustomVar":o(["atl._setCustomVar",e.customVarSlot,e.customVarName,e.customVarValue,e.customVarScope])}}),t.each(r,function(e){a(e)}),e(".support-ga").on("click submit",function(){var t=e(this).data("support-gaq-page");o(["_trackPageview","/support/"+t],["atl._trackPageview","/support/"+t])}),e("#plan-details .aui-button-primary").on("click",function(){o(["atl._trackEvent","Account","Over Plan Upgrade"])});var s=e(window).width();o(s>=1280?["atl._trackEvent","Browser width",">= 1280px"]:1280>s&&s>=1240?["atl._trackEvent","Browser width","1279px - 1240px"]:1240>s&&s>=1024?["atl._trackEvent","Browser width","1239px - 1024px"]:["atl._trackEvent","Browser width","< 1024px"])}),define("utils/message-helper",[],function(){var e="bb-messages",t="|";return{addMessage:function(n,i){sessionStorage&&(i=i||"success",n=n+t+i,sessionStorage.setItem(e,n))},getMessage:function(){var n=null;if(sessionStorage){var i=sessionStorage.getItem(e);if(sessionStorage.removeItem(e),i){var r=i.split(t);n={body:r[0],type:r[1]}}}return n}}}),define("messages",["aui","jquery","utils/message-helper"],function(e,t,n){function i(e){e.animate({opacity:0},d,function(){e.remove()})}function r(){s&&(clearTimeout(s),s=null)}function o(e){r(e),s=setTimeout(function(){i(t(e.target))},c)}function a(e){s=setTimeout(function(){i(e)},l),e.on("mouseover",r),e.on("mouseout",o)}var s,u=t("#aui-message-bar .aui-message.closeable"),l=4e3,c=1e3,d=200;u.length&&a(u);var p=e.messages.makeCloseable;e.messages.makeCloseable=function(e){var n=t(e).filter(".aui-message"),i=n.closest("#aui-message-bar, .disappearing-message");n.length&&i.length&&a(n),p(e)},t(function(){var i=n.getMessage(),r=t("#aui-message-bar").find(".aui-message");i?(r.remove(),e.messages[i.type]({body:t("<div>").text(i.body).html()})):r.removeClass("hidden")})}),function(e){define("store",[],function(){return function(){var t=function(){function e(){try{return s in o&&o[s]}catch(e){return!1}}function t(){try{return u in o&&o[u]&&o[u][o.location.hostname]}catch(e){return!1}}function n(e){return function(){var t=Array.prototype.slice.call(arguments,0);t.unshift(i),a.body.appendChild(i),i.addBehavior("#default#userData"),i.load(s);var n=e.apply(r,t);return a.body.removeChild(i),n}}var i,r={},o=window,a=o.document,s="localStorage",u="globalStorage",l="__storejs__";if(r.disabled=!1,r.set=function(){},r.get=function(){},r.remove=function(){},r.clear=function(){},r.transact=function(e,t){var n=r.get(e);"undefined"==typeof n&&(n={}),t(n),r.set(e,n)},r.serialize=function(e){return JSON.stringify(e)},r.deserialize=function(e){return"string"!=typeof e?void 0:JSON.parse(e)},e())i=o[s],r.set=function(e,t){i.setItem(e,r.serialize(t))},r.get=function(e){return r.deserialize(i.getItem(e))},r.remove=function(e){i.removeItem(e)},r.clear=function(){i.clear()};else if(t())i=o[u][o.location.hostname],r.set=function(e,t){i[e]=r.serialize(t)},r.get=function(e){return r.deserialize(i[e]&&i[e].value)},r.remove=function(e){delete i[e]},r.clear=function(){for(var e in i)delete i[e]};else if(a.documentElement.addBehavior){var i=a.createElement("div");r.set=n(function(e,t,n){e.setAttribute(t,r.serialize(n)),e.save(s)}),r.get=n(function(e,t){return r.deserialize(e.getAttribute(t))}),r.remove=n(function(e,t){e.removeAttribute(t),e.save(s)}),r.clear=n(function(e){var t=e.XMLDocument.documentElement.attributes;e.load(s);for(var n,i=0;n=t[i];i++)e.removeAttribute(n.name);e.save(s)})}try{r.set(l,l),r.get(l)!=l&&(r.disabled=!0),r.remove(l)}catch(c){r.disabled=!0}return r}();return"undefined"!=typeof module&&(module.exports=t),e.store=t}.apply(e,arguments)})}(this),define("keyboard-shortcuts",["jquery","aui","store","underscore","data/current-user","utils/initialize","utils/when-i-type","jquery-plugins/jquery.pjax"],function(e,t,n,i,r,o,a){if(r.isKbdShortcutsEnabled){var s=function(){var t=e(".iterable-item.focused  a.execute:visible").first();if(t.length){var i=t.attr("href");if(!t.data("add-to-stack")){var r=n.get("lastFocusedIdArray")||[];r.push({id:i}),n.set("lastFocusedIdArray",r),n.set("leaveFocusedUniqueId",!0)}t.hasClass("click")||e.support.pjax&&t.data("bb-pjax-enabled")?t.click():window.location.href=i}},u=function(){return e("a.next-page, a.prev-page").length},l=function(){var t=e("a.next-page");t.attr("href")&&(n.set("focusFirst",!0),a.disabled=!0,e.support.pjax&&t.data("bb-pjax-enabled")?t.click():window.location=t.attr("href"))},c=function(){var t=e("a.prev-page");t.attr("href")&&(n.set("focusLast",!0),a.disabled=!0,e.support.pjax&&t.data("bb-pjax-enabled")?t.click():window.location=t.attr("href"))},d=[{section:gettext("Global navigation"),shortcuts:[{keys:["g","d"],description:gettext("Go to dashboard"),op:"followLink",params:["#logo a"]},{keys:["g","a"],description:gettext("Go to account settings"),op:"followLink",params:["#account-link"],guard:"#user-dropdown-trigger"},{keys:["g","i"],description:gettext("Go to inbox"),op:"followLink",params:["#inbox-link"],guard:"#user-dropdown-trigger"},{keys:["/"],description:gettext("Focus the site search"),op:"focus",params:["#search-query"]}]},{section:gettext("Global actions"),shortcuts:[{keys:["c","r"],description:gettext("Create a repository"),op:"followLink",params:["#create-repo-link"],guard:"#repositories-dropdown-trigger"},{keys:["i","r"],description:gettext("Import a repository"),op:"followLink",params:["#import-repo-link"],guard:"#repositories-dropdown-trigger"}]},{section:gettext("Repository navigation"),shortcuts:[{keys:["r","o"],description:gettext("Repository overview"),guard:"#repo-overview-link",op:"followLink",params:["#repo-overview-link"]},{keys:["r","s"],description:gettext("Repository source"),guard:"#repo-source-link",op:"followLink",params:["#repo-source-link"]},{keys:["r","c"],description:gettext("Repository commits"),guard:"#repo-commits-link",op:"followLink",params:["#repo-commits-link"]},{keys:["r","b"],description:gettext("Repository branches"),guard:"#repo-branches-link",op:"followLink",params:["#repo-branches-link"]},{keys:["r","p"],description:gettext("Repository pull requests"),guard:"#repo-pullrequests-link",op:"followLink",params:["#repo-pullrequests-link"]},{keys:["r","w"],description:gettext("Repository wiki"),guard:"#repo-wiki-link",op:"followLink",params:["#repo-wiki-link"]},{keys:["r","i"],description:gettext("Repository issues"),guard:"#repo-issues-link",op:"followLink",params:["#repo-issues-link"]},{keys:["r","d"],description:gettext("Repository downloads"),guard:"#repo-downloads-link",op:"followLink",params:["#repo-downloads-link"]},{keys:["r","a"],description:gettext("Repository administration"),guard:"#repo-admin-link",op:"followLink",params:["#repo-admin-link"]}]},{section:gettext("Repository actions"),shortcuts:[{keys:["x","f"],description:gettext("Fork repository"),guard:"#repo-fork-link, .repository-actions.forks-enabled",op:"followLink",params:["#repo-fork-link"]},{keys:["x","b"],description:gettext("Create branch"),guard:"#repo-create-branch-link, .repository-actions.can-create",op:"click",params:["#repo-create-branch-link"]},{keys:["x","c"],description:gettext("Compare repository"),guard:"#repo-compare-link, .repository-actions",op:"followLink",params:["#repo-compare-link"]},{keys:["x","p"],description:gettext("Create pull request"),guard:"#repo-create-pull-request-link, .repository-actions.can-create",op:"followLink",params:["#repo-create-pull-request-link"]},{keys:["x","i"],description:gettext("Create issue"),guard:"#repo-issues-link",op:"followLink",params:["#repo-create-issue"]},{keys:["x","u"],description:gettext("Invite user to repository"),guard:"#repo-invite-link",op:"click",params:["#repo-invite-link"]},{keys:["x","w"],description:gettext("Follow repository"),guard:"#repo-follow",op:"click",params:["#repo-follow"]}]},{section:gettext("List navigation"),shortcuts:[{keys:["j"],description:gettext("Select next item"),guard:".iterable-item:visible",op:"moveToNextItem",params:[".iterable-item:visible",u,l]},{keys:["k"],description:gettext("Select previous item"),guard:".iterable-item:visible",op:"moveToPrevItem",params:[".iterable-item:visible",u,c]},{keys:["return"],aliasKeys:["o"],description:gettext("View selected item"),guard:".iterable-item:visible",op:"execute",params:[s]}]},{section:gettext("Application"),shortcuts:[{keys:["?"],description:gettext("Display this help"),op:"displayHelp",always:!0},{keys:["esc"],description:gettext("Dismiss dialog or remove focus"),op:"dismiss",always:!0},{keys:["u"],description:gettext("Back up"),op:"execute",params:[function(){n.set("leaveFocusedUniqueId",!0),window.history.back()}]},{keys:["["],description:gettext("Collapse/expand sidebar"),op:"execute",params:[e.noop],guard:".aui-sidebar"}]},{section:gettext("Commits / pull requests"),shortcuts:[{keys:["ctrl+return"],delegate:"textarea#id_new_comment",description:gettext("Submit your comment."),op:"submitComment",always:!0},{keys:["t","c"],description:gettext("Toggle display of inline comments"),guard:"#changeset-diff",op:"execute",params:[function(){var t=e("#changeset-diff");t.find(".comment-thread-container").addClass("existing-comment"),t.toggleClass("hide-comments")}]},{keys:["p","d"],description:gettext("Switch to the pull request diff tab"),guard:"#pr-menu-diff",op:"execute",params:[function(){e(window).scrollTo("#pr-menu-diff",500,{axis:"y",offset:-50}),e("#pr-menu-diff").click()}]},{keys:["p","c"],description:gettext("Switch to the pull request commits tab"),guard:"#pr-menu-commits",op:"execute",params:[function(){e(window).scrollTo("#pr-menu-commits",500,{axis:"y",offset:-50}),e("#pr-menu-commits").click()}]},{keys:["p","a"],description:gettext("Switch to the pull request activity tab"),guard:"#pr-menu-activity",op:"execute",params:[function(){e(window).scrollTo("#pr-menu-activity",500,{axis:"y",offset:-50}),e("#pr-menu-activity").click()}]}]}];a.fromJSON(d);var p=function(){var i=null;if(n.get("focusLast"))i=e(".iterable-item:visible").last(),n.remove("focusLast"),a.disabled=!1;else if(n.get("focusFirst"))i=e(".iterable-item:visible").first(),n.remove("focusFirst"),a.disabled=!1;else{var r=n.get("lastFocusedIdArray");if(r)for(;r.length;){var o=r.pop();if(i=e('.iterable a[href="'+o.id+'"]:visible').closest(".iterable-item"),i.length){n.set("lastFocusedIdArray",r),n.remove("leaveFocusedUniqueId"),a.disabled=!1;break}}}i&&i.length&&(i.addClass("focused"),i.find("a").first().focus(),e(document).one("keydown",function(e){e.keyCode===t.keyCode.ESCAPE&&(i.removeClass("focused"),i.find("a").first().blur())}))};o.register(p),e(document).on("bb:compare",p);var h=window.onbeforeunload;window.onbeforeunload=function(e){return n.get("leaveFocusedUniqueId")||n.remove("lastFocusedIdArray"),n.remove("leaveFocusedUniqueId"),"function"==typeof h?h(e):void 0}}}),define("utils/mustache",["jquery","mustache"],function(e,t){t.tags=["[[","]]"];var n={};return{toHtml:function(i,r){var o=n[i];return o||(o=t.compile(e("#"+i).html()),n[i]=o),o(r)},clear:function(e){delete n[e]}}}),define("components/share/share-dialog",["aui","backbone","jquery","utils/mustache"],function(e,t,n,i){return t.View.extend({className:"share-dialog",template:"share-dialog-template",events:{tabSelect:"onChangeTab"},initialize:function(e){this.shareButtonText=e.shareButtonText||gettext("Share")},createDialog:function(){this.dialog=new e.Dialog({width:800,height:"auto",id:this.id+"-dialog",closeOnOutsideClick:!0}),this.dialog.addHeader(gettext("Share")).addPanel(gettext("Share"),this.$el,"panel-body").addLink(gettext("Manage this team"),null,"share-manage-link left").addButton(this.shareButtonText,this.onShare.bind(this),"aui-button aui-style").addCancel(gettext("Cancel"),this.onCancel.bind(this)),this.$share=n(this.dialog.page[0].button[1].item[0]),this.$manage=n(this.dialog.page[0].button[0].item[0])},renderPanels:function(e){return this.panels=e,this.panels.forEach(function(e){e.on("sending",function(){this.enableDialog(!1)},this),e.on("success",function(){this.enableDialog(!0),this.dialog.hide()},this),e.on("error",function(){this.enableDialog(!0)},this)}.bind(this)),this.render()},render:function(){if(!this.panels)throw new Error("panels must be set before rendering");this.dialog||this.createDialog(),this.dialog.popup.element.toggleClass("has-tabs",this.panels.length>1);var t=this.panels[0];if(1===this.panels.length)return this.$el.html(t.render().el),this.setPanel(t),this;var r=this.dialog,o=this.panels.map(function(e){return n.extend(e,{tabId:"{}-{}".format(r.id,e.display)})});return this.$el.html(i.toHtml(this.template,{panels:o})),this.panels.forEach(function(e){this.$("#{}-{}".format(r.id,e.display)).append(e.render().el)}.bind(this)),this.$(".tabs-pane:first").addClass("active-pane"),this.$(".menu-item:first").addClass("active-tab"),e.tabs.setup(),this.setPanel(t),this},enableDialog:function(e){this.$share.prop("disabled",!e)},onShare:function(){this.activePanel.share()},onCancel:function(){this.dialog.hide()},onChangeTab:function(e,t){var n=t.pane.selector.slice(1);this.panels.forEach(function(e){e.tabId===n&&this.setPanel(e)}.bind(this))},setPanel:function(e){this.activePanel=e,this.dialog.addHeader(e.action),this.$manage.attr("href",e.getManageLink()),this.$manage.text(e.manageText)},show:function(){this.dialog.show()}})}),function(e){define("bitbucket",["jquery"],function(){return function(){return function(){var e,t,n,i,r,o,a,s,u,l,c,d,p,h,f,g,m,v,y,b,w,x,S,A,C,_,k,T,E,N,j,H,D=[].slice,R={}.hasOwnProperty,q=function(e,t){function n(){this.constructor=e}for(var i in t)R.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};i={},n=function(e,t){return function(){var n;return n=1<=arguments.length?D.call(arguments,0):[],t.apply(e,n)}},y=function(e,t){return null==e&&(e={}),"function"==typeof e&&(e={success:e}),void 0!==t&&(e.data=t),e},a=function(e,t){var n;return e=y(e),(n=e.success)&&(e.success=function(e,i,r){return n(t(e),i,r)}),e},_=function(e,t,n){var i,r,o,a,s;if(r=/^(.+?)[.](.+)$/.exec(t))_(e[r[1]],r[2],n);else if(r=/^\[(.+)\]$/.exec(t))for(t=r[1],a=0,s=e.length;s>a;a++)o=e[a],n(o,t);else if(r=/^\{(.+)\}$/.exec(t)){t=r[1];for(i in e)R.call(e,i)&&(o=e[i],n(o,t))}else n(e,t);return e},w=function(e,t){var n,i;e=y(e);for(i in t)R.call(t,i)&&(n=t[i])(i,e);return e},b=function(e){return function(t,n){return a(n,function(n){return _(n,t,e)})}},o={utc_created_on:"date_created",utc_last_updated:"date_updated",utc_sent_on:"date_created",utc_updated_on:"date_updated"},e=b(function(e,t){var n,i,r,a,s,u,l,c;for(l=t.split(","),s=0,u=l.length;u>s;s++)i=l[s],c=i.split(":"),a=c[0],r=c[1],(n=e[a])&&(r||(r=o[a]||"date"),delete e[a],delete e[a.replace(/^utc_?/,"")],e[r]=new Date(n.replace(" ","T")));return e}),v=b(function(e){return-1===e.size?delete e.size:void 0}),t=function(e,t){var n,i;return e===t?0:(n=e.toLowerCase(),i=t.toLowerCase(),(n===i?t>e:i>n)?-1:1)},c=b(function(e,n){var i,r,o,a,s;return s=n.split(":"),o=s[0],r=s[1],o in e&&(a=e[o].replace(/^\s+|\s+$/g,""),i=a?a.split(/\s*[\n\r]\s*/).sort(t):[],delete e[o],e[r||o]=i),e}),g=b(function(e,t){var n,i,r,o;return o=t.split(":"),i=o[0],n=o[1],i in e&&(r=e[i],delete e[i],e[n]=r),e}),k=b(function(e,t){var n,i,r,o,a,s;for(a=t.split(":"),t=a[0],i=a[1],s=i.split(","),r=0,o=s.length;o>r;r++)n=s[r],e[n]=e[t][n];return delete e[t],e}),m=function(e,t){return a(t,function(t){return t[e]})},l=function(e){return function(){var t,n,r,o,a;return r=arguments[0],o=3<=arguments.length?D.call(arguments,1,a=arguments.length-1):(a=1,[]),n=arguments[a++],t=o[0],n=y(n,t),n.type=e,n.url=r,"GET"!==e||i.proxy_url||(n.dataType="jsonp"),$.ajax(n)}},d=l("POST"),u=l("GET"),h=l("PUT"),s=l("DELETE"),T=function(){var e,t;return e=1<=arguments.length?D.call(arguments,0):[],t=i.proxy_url,(t||"https://bitbucket.org/!api/1.0/")+e.join("/")},f=function(e){var t,n,i,r,o,a,s,u,l;if(null==e&&(e={}),i=function(){var t;t=[];for(n in e)R.call(e,n)&&t.push(n);return t}().sort(),0===i.length)return"";for(t=[],a=0,u=i.length;u>a;a++)for(n=i[a],o=e[n],o instanceof Array||(o=[o]),s=0,l=o.length;l>s;s++)r=o[s],t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return"?"+t.join("&")},i.error=function(e){function t(e){return this instanceof t?(this.name="bitbucket.error",void(this.message=e)):new t(e)}return q(t,e),t}(Error),S=function(t,n,i){var r,o;return null==i&&(i="%"),"string"==typeof n&&(i=n,n={}),r=["component","kind","milestone","version"],o={},o[i.replace(/%/,"utc_created_on,utc_last_updated")]=e,o[i.replace(/%/,"metadata:"+r.join())]=k,w(y(t,n),o)},A=function(t,n,i){var r;return null==i&&(i="%"),"string"==typeof n&&(i=n,n={}),r={},r[i.replace(/%/,"utc_created_on,utc_updated_on")]=e,r[i.replace(/%/,"author_info:author")]=g,w(y(t,n),r)},C=function(t,n,i){var r;return null==i&&(i="%"),"string"==typeof n&&(i=n,n={}),null!=(null!=n?n.mailing_lists:void 0)&&(n.email_mailinglist=n.mailing_lists.join("\n"),delete n.mailing_lists),r={},r[i.replace(/%/,"utc_created_on,utc_last_updated")]=e,r[i.replace(/%/,"email_mailinglist:mailing_lists")]=c,w(y(t,n),r)},x=function(t,n){var i;return null==n&&(n="%"),i={},i[n.replace(/%/,"utctimestamp")]=e,i[n.replace(/%/,"size")]=v,w(y(t),i)},i.flags={access:{direct:1,via_groups:2},output:{include_groups:4}},p=function(){var e,t,n,r,o,a,s,u,l,c;for(s=["read","write","admin"],u={},o=l=0,c=s.length;c>l;o=++l)r=s[o],u[r]=o;return a=function(){var e;return e=1<=arguments.length?D.call(arguments,0):[],s[Math.max.apply(Math,function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(u[r]||0);return i}())]},e=i.flags.access.direct,t=i.flags.access.via_groups,n=i.flags.output.include_groups,function(i){return{direct:e,expand:t,flags:i,groups:n,max:a,privileges:{}}}}(),i.repositories=function(){var e,t,n,i;return n=2<=arguments.length?D.call(arguments,0,i=arguments.length-1):(i=0,[]),e=arguments[i++],t=n[0],u(T("repositories")+f(t),C(e,"repositories.[%]"))},i.repository=function(){function t(e,n){var i;return null==n&&(i=e.split("/"),e=i[0],n=i[1]),this instanceof t?(this.username=e,void(this.slug=n)):new t(e,n)}return t.create=function(e,n){var r,o;if(o=e.username,r=e.slug,!o||!r)throw i.error('"username" and "slug" are required attributes');if(/^[.]{1,2}$/.test(r))throw i.error('"'+r+'" is an invalid slug');if(/[^a-z0-9.-]/.test(r))throw i.error('"'+r+'" does not match /^[a-z0-9.-]+$/');return delete e.username,delete e.slug,e.name=r,d(T("repositories"),C(n,e)),t(o,r)},t.prototype.toString=function(){return this.username+"/"+this.slug},t.prototype.url=function(){var e;return e=1<=arguments.length?D.call(arguments,0):[],T.apply(null,["repositories",this.username,this.slug].concat(D.call(e)))},t.prototype.details=function(e){return u(this.url(),C(e))},t.prototype.update=function(e,t){return h(this.url(),C(t,e))},t.prototype.destroy=function(e){return s(this.url(),e)},t.prototype.branches=function(t){return u(this.url("branches"),w(t,{"{utctimestamp}":e,"{size}":v}))},t.prototype.changeset=function(e,t){return u(this.url("changesets",e),x(t))},t.prototype.changesets=function(){var e,t,n,i;return n=2<=arguments.length?D.call(arguments,0,i=arguments.length-1):(i=0,[]),e=arguments[i++],t=n[0],u(this.url("changesets")+f(t),x(e,"changesets.[%]"))},t.prototype.diffstat=function(e,t){return u(this.url("changesets",e,"diffstat"),t)},t.prototype.directory=function(){var t,n,i,r;return i=arguments[0],n=3<=arguments.length?D.call(arguments,1,r=arguments.length-1):(r=1,[]),t=arguments[r++],u(this.url("src",i,n),w(t,{"files.[utctimestamp]":e}))},t.prototype.file=function(e,t,n){return u(this.url("src",e,t),m("data",n))},t.prototype.followers=function(e){return u(this.url("followers"),m("followers",e))},t.prototype.create_issue=function(e,t){return d(this.url("issues"),S(t,e))},t.prototype.update_issue=function(e,t,n){return h(this.url("issues",e),S(n,t))},t.prototype.delete_issue=function(e,t){return s(this.url("issues",e),t)},t.prototype.issue=function(e,t){return u(this.url("issues",e),S(t))},t.prototype.create_issue_comment=function(e,t,n){return d(this.url("issues",e,"comments"),A(n,t))},t.prototype.update_issue_comment=function(e,t,n,i){return h(this.url("issues",e,"comments",t),A(i,n))},t.prototype.delete_issue_comment=function(e,t,n){return s(this.url("issues",e,"comments",t),n)},t.prototype.issue_comment=function(e,t,n){return u(this.url("issues",e,"comments",t),A(n))},t.prototype.issue_comments=function(e,t){return u(this.url("issues",e,"comments"),A(t,"[%]"))},t.prototype.issue_followers=function(e,t){return u(this.url("issues",e,"followers"),m("followers",t))},t.prototype.issues=function(){var e,t,n,i;return n=2<=arguments.length?D.call(arguments,0,i=arguments.length-1):(i=0,[]),e=arguments[i++],t=n[0],u(this.url("issues")+f(t),S(e,"issues.[%]"))},t.prototype.create_linkifier=function(e,t){return d(this.url("links"),e,t)},t.prototype.update_linkifier=function(e,t,n){return h(this.url("links",e),t,n)},t.prototype.delete_linkifier=function(e,t){return s(this.url("links",e),t)},t.prototype.linkifier=function(e,t){return u(this.url("links",e),t)},t.prototype.linkifiers=function(){},t.prototype.deploy_key=function(e,t,n){return u(this.url("deploy-keys",e),t,n)},t.prototype.deploy_keys=function(e,t){return u(this.url("deploy-keys"),e,t)},t.prototype.create_deploy_key=function(e,t){return d(this.url("deploy-keys"),e,t)},t.prototype.update_deploy_key=function(e,t,n){return h(this.url("deploy-keys",e),t,n)},t.prototype.delete_deploy_key=function(e,t){return s(this.url("deploy-keys",e),t)
},t.prototype.privileges=function(e,t){var i,r,o,a,s,l;return null==t&&(t=e,e=3),t=y(t),s=t.success||function(){},o=t.error||function(){},r=p(e),i=2,l=function(){return--i>0},a=!1,t.error=function(e,t,n){return a?void 0:(o(e,t,n),a=!0)},t.success=n(r,function(e,t,n){var i,r,o,a,u,c;if(this.flags&this.direct)for(a=0,u=e.length;u>a;a++)c=e[a],i=c.privilege,r=c.user,o=r.username,this.privileges[o]=this.max(this.privileges[o],i);return l()?void 0:s(this.privileges,t,n)}),u(T("privileges",this),t),t.success=n(r,function(e,t,n){var i,r,o,a,u,c,d,p,h;if(this.flags&(this.groups|this.expand))for(a=0,c=e.length;c>a;a++)if(p=e[a],r=p.privilege,i=p.group,this.flags&this.groups&&(this.privileges[i.owner.username+"/"+i.slug]=r),this.flags&this.expand)for(h=i.members,u=0,d=h.length;d>u;u++)o=h[u].username,this.privileges[o]=this.max(this.privileges[o],r);return l()?void 0:s(this.privileges,t,n)}),u(T("group-privileges",this),t)},t.prototype.tags=function(t){return u(this.url("tags"),w(t,{"{utctimestamp}":e,"{size}":v}))},t.prototype.wiki_page=function(){var e,t,n,i;return n=2<=arguments.length?D.call(arguments,0,i=arguments.length-1):(i=0,[]),e=arguments[i++],t=n[0],u(this.url("wiki",t),e)},t}(),H=["component","milestone","version"],E=function(){var e,t,n;return t=r,e=r+"s",n=i.repository.prototype,n["create_"+t]=function(t,n){return d(this.url("issues",e),{name:t},n)},n["update_"+t]=function(t,n,i){return h(this.url("issues",e,t),{name:n},i)},n["delete_"+t]=function(t,n){return s(this.url("issues",e,t),n)},n[t]=function(t,n){return u(this.url("issues",e,t),n)},n[e]=function(t){return u(this.url("issues",e),t)}};for(N=0,j=H.length;j>N;N++)r=H[N],E();i.send_invitation=function(t,n,i,r){var o,a,s,u;return u=i.toString().split("/"),s=u[0],a=u[1],o=T("invitations",s,a,t),d(o,{permission:n},e("utc_sent_on",C(r,"repository.%")))},i.send_general_invitation=function(e,t){return d(T("invitations",e),t)},i.users=function(e,t){var n;return 0===(null!=(n=e.user)?n.length:void 0)?(t=y(t),"function"==typeof t.complete&&t.complete(),void t.success([])):u(T("users")+f(e),a(t,function(e){var t,n,i,r;for(n={},i=0,r=e.length;r>i;i++)t=e[i],n[t.username]=t;return n}))},i.user=function(){function t(e){return this instanceof t?void(this.username=e):new t(e)}return t.create=function(e,n){var r;if(r=e.username,!r)throw i.error('"username" is a required attribute');return d(T("newuser"),e,n),t(r)},t.prototype.url=function(){var e;return e=1<=arguments.length?D.call(arguments,0):[],T.apply(null,["users",this.username].concat(D.call(e)))},t.prototype.details=function(e){return u(this.url(),m("user",e))},t.prototype.events=function(){var t,n,i,r;return i=2<=arguments.length?D.call(arguments,0,r=arguments.length-1):(r=0,[]),t=arguments[r++],n=i[0],u(this.url("events")+f(n),w(t,{"events.[utc_created_on:date]":e}))},t.prototype.followers=function(e){return u(this.url("followers"),m("followers",e))},t.prototype.delete_invitation=function(e,t){return s(this.url("invitations",e),t)},t.prototype.invitation=function(t,n){return u(this.url("invitations",t),w(n,{utc_sent_on:e}))},t.prototype.invitations=function(t){return u(this.url("invitations"),w(t,{"[utc_sent_on]":e}))},t.prototype.invite=function(e,t,n){return h(this.url("invitations",e,t),n)},t.prototype.uninvite=function(e,t,n){return s(this.url("invitations",e,t),n)},t.prototype.plan=function(e){return u(this.url("plan"),e)},t.prototype.privileges=function(e,t){var i,r,o,a,s,l;return null==t&&(t=e,e=3),t=y(t),s=t.success||function(){},o=t.error||function(){},r=p(e),i=2,l=function(){return--i>0},a=!1,t.error=function(e,t,n){return a?void 0:(o(e,t,n),a=!0)},t.success=n(r,function(e,t,n){var i,r,o,a,u,c,d;if(this.flags&this.direct)for(u=0,c=e.length;c>u;u++)d=e[u],i=d.privilege,r=d.repo,o=d.user,r=(a=this.privileges)[r]||(a[r]={}),r[o.username]=this.max(r[o.username],i);return l()?void 0:s(this.privileges,t,n)}),u(T("privileges",this.username),t),t.success=n(r,function(e,t,n){var i,r,o,a,u,c,d,p,h,f,g;if(this.flags&(this.groups|this.expand))for(c=0,p=e.length;p>c;c++)if(f=e[c],r=f.privilege,o=f.repo,i=f.group,o=(u=this.privileges)[o]||(u[o]={}),this.flags&this.groups&&(o[i.owner.username+"/"+i.slug]=r),this.flags&this.expand)for(g=i.members,d=0,h=g.length;h>d;d++)a=g[d].username,o[a]=this.max(o[a],r);return l()?void 0:s(this.privileges,t,n)}),u(T("group-privileges",this.username),t)},t.prototype.repositories=function(e){return u(this.url(),m("repositories",C(e,"[%]")))},t.prototype.add_email_address=function(e,t){return d(this.url("emails",e),t)},t.prototype.set_primary_email_address=function(e,t){return h(this.url("emails",e),{primary:!0},t)},t.prototype.remove_email_address=function(e,t){return s(this.url("emails",e),t)},t.prototype.email_address=function(e,t){return u(this.url("emails",e),t)},t.prototype.email_addresses=function(e){return u(this.url("emails"),e)},t.prototype.remove_ad=function(e,t){return s(this.url("ad",e),t)},t.prototype.feature_viewed=function(e,t){return s(this.url("feature",e),t)},t.prototype.add_ssh_key=function(e,t){return d(this.url("ssh-keys"),e,g("pk:id",t))},t.prototype.update_ssh_key=function(e,t,n){return h(this.url("ssh-keys",e),t,g("pk:id",n))},t.prototype.remove_ssh_key=function(e,t){return s(this.url("ssh-keys",e),t)},t.prototype.ssh_key=function(e,t){return u(this.url("ssh-keys",e),g("pk:id",t))},t.prototype.ssh_keys=function(e){return u(this.url("ssh-keys"),g("[pk:id]",e))},t.prototype.create_consumer=function(e,t){return d(this.url("consumers"),e,t)},t.prototype.update_consumer=function(e,t,n){return h(this.url("consumers",e),t,n)},t.prototype.delete_consumer=function(e,t){return s(this.url("consumers",e),t)},t.prototype.consumer=function(e,t){return u(this.url("consumers",e),t)},t.prototype.consumers=function(e){return u(this.url("consumers"),e)},t.prototype.add_member=function(e,t,n){return d(this.url("privileges",e),{privilege:t},n)},t.prototype.update_member=function(e,t,n){return h(this.url("privileges",e),{privilege:t},n)},t.prototype.remove_member=function(e,t){return s(this.url("privileges",e),t)},t.prototype.members=function(e){return u(this.url("privileges"),e)},t}(),i.groups=function(e,t){return u(T("groups")+f(e),t)},i.group=function(){function e(t,n){return this instanceof e?(this.username=t,void(this.slug=n)):new e(t,n)}return e.prototype.url=function(){var e;return e=1<=arguments.length?D.call(arguments,0):[],T.apply(null,["groups",this.username,this.slug].concat(D.call(e)))},e.prototype.details=function(e){return u(this.url(),e)},e}(),i.utils={alphabetical:t},window.bitbucket=i}.call(this),e.bitbucket=bitbucket}.apply(e,arguments)})}(this),define("data/no-avatar-image",["jquery"],function(e){var t=e(document.body).attr("data-no-avatar-image");return t}),define("components/groups/index",["bitbucket","backbone","utils/api-helper","data/no-avatar-image"],function(e,t,n,i){var r={},o=r.GroupMember=t.Model.extend({idAttribute:"username",group_:null,group:function(){return this.group_},setGroup:function(e){return this.group_=e,this},url:function(){var e,i=this.group();return i?e=i.isMine()?n.toString("groups",i.owner().get("username"),i.get("slug"),"members",this.get("username")):n.toString("group-privileges",i.get("targetUser").username,i.owner().get("username"),i.get("slug"),{"private":!0}):(e=t.Model.prototype.url.call(this),this.isNew()&&(e+=this.get("username"))),e},displayName:function(){return this.get("display_name")},avatarUrl:function(){return this.get("avatar")||i},toJSON:function(){var e=t.Model.prototype.toJSON.call(this);return e.displayName=this.displayName(),e.avatarUrl=this.avatarUrl(),e}}),a=r.GroupMembers=t.Collection.extend({model:o,group_:null,group:function(){return this.group_},setGroup:function(e){this.group_=e,this.invoke("setGroup",e)},comparator:function(e){return e.displayName().toLowerCase()},url:function(){var e=n.concat("groups",this.group().get("owner").username);return e.toString(this.group().get("slug"),"members")}}),s=r.Repository=t.Model.extend({displayName:function(){return this.get("owner").username+"/"+this.get("slug")}}),u=(r.Repositories=t.Collection.extend({model:s}),r.Group=t.Model.extend({idAttribute:"slug",groupMembers_:null,owner_:null,repositories_:null,initialize:function(e){this.parseOwner_(e),this.parseGroupMembers_(e),this.get("owner").is_team&&(this.privilege=new l({group:this,privilege:null}))},parse:function(e){return this.parseGroupMembers_(e),e},parseGroupMembers_:function(e){e.members&&(null===this.groupMembers()&&this.setGroupMembers(new a),this.groupMembers().reset(e.members),delete e.members)},parseOwner_:function(e){this.setOwner(new o(e.owner))},groupMembers:function(){return this.groupMembers_},setGroupMembers:function(e){return this.groupMembers_=e,this.groupMembers_.setGroup(this),this},owner:function(){return this.owner_},setOwner:function(e){return this.owner_=e,this},repositories:function(){return this.repositories_},setRepositories:function(e){return this.repositories_=e,this},displayName:function(){return"{}:{}".format(this.owner().get("username"),this.get("slug"))},isMine:function(){return function(){return this.owner().get("username")===this.get("targetUser").username}}(),toJSON:function(){var e=t.Model.prototype.toJSON.call(this);return this.groupMembers()&&(e.members=this.groupMembers().toJSON()),e.auto_add?e[e.permission]=!0:e.no=!0,e},isLastAccountAdminGroup:function(e){var t=this.collection.accountAdminGroups(e);return 1===t.length&&_.indexOf(t,this)>=0}}));r.Groups=t.Collection.extend({idAttribute:"slug",model:u,initialize:function(e,t){this.targetUser=t.targetUser},url:function(){return n.concat("groups",this.targetUser).toString()},comparator:function(e){return e.displayName().toLowerCase()},accountAdminGroups:function(e){var t=this.filter(function(e){return"admin"===e.privilege.get("privilege")&&e.groupMembers().length});return e?_.filter(t,function(t){return 1===t.groupMembers().filter(function(t){return t.get("username")===e}).length}):t}});var l=(r.Message=t.Model.extend({defaults:{title:null}}),r.GroupAccountPrivilege=t.Model.extend({toJSON:function(){var e={privilege:this.get("privilege")};return e[e.privilege]=!0,e},parse:function(e){return{privilege:e?_.values(e)[0]:null}},url:function(){var e=this.get("group"),t=e.get("owner").username,i=e.get("slug");return n.toString("users",t,"privileges",t,i)},sync:function(e,n,i){"read"!==e&&(e=n.get("privilege")?"update":"delete");var r=i.error;return i.error=function(e,t){return 404===e.status?i.success(null,t,e):void r(e)},t.sync.call(this,e,n,i)}}));return r}),define("components/share/share-detail",["backbone","underscore"],function(e,t){var n=e.View.extend({tagName:"tr",template:"share-detail-template",events:{"click .delete":"destroyModel"},initialize:function(){this.events&&(this.events=t.defaults(this.events,n.prototype.events)),this.delegateEvents(this.events),t.bindAll(this,"render","remove"),this.model.on("change",this.render),this.model.on("destroy",this.remove)},destroyModel:function(e){e.preventDefault(),this.model.destroy()},remove:function(){this.$el.remove()}});return n}),define("components/share/team-share-detail",["underscore","components/share/share-detail","utils/mustache"],function(e,t,n){return t.extend({events:{"click .admin":"toggleAdmin","change .group":"setGroup"},initialize:function(n){t.prototype.initialize.call(this,n),this.groups=n.groups,this.hasCustomGroups=n.hasCustomGroups,e.bindAll(this,"toggleAdmin","setGroup")},render:function(){var t=this.model.toJSON();return t.hasCustomGroups=this.hasCustomGroups,this.hasCustomGroups&&(t.groups=e.map(this.groups,function(e){return{name:e.name,slug:e.slug,isSelected:e.slug===this.model.get("group")}}.bind(this)),t.noGroupChoices=t.groups.length<=1),t.isAdmin="administrators"===this.model.get("group"),this.$el.html(n.toHtml(this.template,t)),this},toggleAdmin:function(){var e=this.$(".admin").is(":checked")?"administrators":"developers";this.setGroup(null,e)},setGroup:function(e,t){this.model.set({group:t?t:this.$(".group").val()})}})}),define("components/share/share",["backbone","bitbucket","jquery","data/current-repo","data/current-user","utils/api-helper"],function(e,t,n,i,r,o){return e.Model.extend({initialize:function(e){this.teamName=e.teamName||i.owner.username},save:function(){var e;if(this.get("email")){if(this.get("permission"))e=t.send_invitation(this.get("email"),this.get("permission"),i.toString());else if(this.get("group")){var a=t.user(this.teamName),s=a.username+"/"+this.get("group");e=a.invite(this.get("email"),s)}}else this.get("username")&&(this.get("permission")?e=n.ajax({url:o.concat("privileges",i.owner.username,i.slug,this.get("username")),type:"PUT",data:this.get("permission"),dataType:"json"}):this.get("group")&&(e=n.ajax({url:o.concat("groups",this.teamName,this.get("group"),"members",this.get("username")),type:"PUT",data:JSON.stringify(this.get("bbUserObject")),dataType:"json"})));e.error(function(e){if(500===e.status)this.set({error:gettext("There was a problem processing your request.")});else if(402===e.status){var t=n.parseJSON(e.responseText).data;if(t.user.username===r.username)this.set({error:gettext("You are already at your plan limit and will need to upgrade your plan before adding more users.")});else{var i=gettext("This account (%(username)s) is at its plan limit and will need to be upgraded before adding more users.");this.set({error:interpolate(i,{username:t.user.username},!0)})}}else 409!==e.status&&this.set({error:e.responseText})}.bind(this)).complete(function(){this.trigger("save",this)}.bind(this))}})}),define("components/share/share-collection",["backbone","components/share/share"],function(e,t){return e.Collection.extend({model:t,add:function(t){var n=this.any(function(e){return t.get("username")?t.get("username")===e.get("username"):t.get("email")?t.get("email")===e.get("email"):void 0});return n?!1:void e.Collection.prototype.add.call(this,t)}})}),define("utils/valid",[],function(){return{email:function(e){return/^[^@\s]+@[^.@\s]+(\.[^.@\s]+)+$/.test(e)},url:function(e){return/^[^.@\s]+(\.[^.@\s]+)+$/.test(e)}}}),define("components/share/share-form",["aui","backbone","bitbucket","jquery","underscore","components/share/share","components/share/share-collection","utils/gaq-push","utils/mustache","utils/valid"],function(e,t,n,i,r,o,a,s,u,l){return t.View.extend({template:"share-form-template",events:{"submit form":"add","keyup .user-or-email":"toggleAddButton"},initialize:function(e){r.bindAll(this,"render","renderShare","toggleAddButton","hideError","showError","add","send"),this.groups=e.groups,this.collection=new a,this.collection.on("add",this.renderShare),this.collection.on("reset",this.render),this.errors=[],this.on("send",this.send)},render:function(){var e={disabled:this.disabled};return this.$el.html(u.toHtml(this.template,e)),this.$error=this.$(".error"),this.$userOrEmail=this.$(".user-or-email"),this.$addButton=this.$("button"),this.collection.each(function(e){this.renderShare(e)}.bind(this)),this},renderShare:function(e){var t=new this.DetailView({groups:this.groups,hasCustomGroups:this.hasCustomGroups,model:e});this.$("tbody").append(t.render().el)},toggleAddButton:function(){""!==this.$userOrEmail.val()?this.$addButton.removeAttr("disabled"):this.$addButton.attr("disabled","disabled")},hideError:function(){this.$error.addClass("hidden")},isValid:function(){return!0},getFormError:function(){return this.errors.length?this.errors.pop():gettext("An unknown error occurred")},showError:function(e,t){var n=t?"html":"text";this.$error.find(".message")[n](e).end().removeClass("hidden")},add:function(e){e.preventDefault();var t=this.$userOrEmail.val(),i=r.clone(this.modelSkeleton),a=function(){this.hideError(),this.$userOrEmail.val(""),this.collection.add(new o(i))}.bind(this);return t?void(l.email(t)?(i.email=t,a()):n.user(t).details(function(e){i=r.extend(i,{username:e.username,displayName:e.display_name,avatar:e.avatar,bbUserObject:e}),this.isValid(e)?a():this.showError(this.getFormError())}.bind(this)).error(function(){var e=gettext('User "%(user_or_email)s" does not exist.');this.showError(interpolate(e,{user_or_email:t},!0))}.bind(this))):!1},send:function(){if(0===this.collection.length)return this.showError(gettext("Add a user or email address.")),!1;this.trigger("sending"),this.disabled=!0,this.render();var e=this.collection.length,t=e,n="repo"===this.shareType?"Repo Share":"Team Share";this.collection.each(function(e){var t=e.get("username")?"Existing User":"New User";s(["atl._trackEvent","Share",n,t]),e.save()}),this.collection.on("save",function(n){--e,n.get("error")||n.destroy(),0>=e&&(this.collection.length?(this.trigger("error"),this.disabled=!1,this.render(),this.showError(n.get("error")),this.off("success")):(this.disabled=!1,this.render(),this.trigger("success",{inviteCount:t})))}.bind(this))}})}),define("components/share/team-share-form",["aui","underscore","components/share/team-share-detail","components/share/share-form","utils/gaq-push","data/current-user"],function(e,t,n,i,r,o){return i.extend({initialize:function(e){this.DetailView=n,this.modelSkeleton={group:e.groups.length?e.groups[0].slug:"developers",teamName:e.teamName},this.shareType="team",this.hasCustomGroups=function(){if(2===e.groups.length){var n=!1,i=!1;if(t.each(e.groups,function(e){"Administrators"===e.name&&"admin"===e.permission?n=!0:"Developers"===e.name&&"write"===e.permission&&(i=!0)}),n&&i)return!1}return!0}.bind(this)(),i.prototype.initialize.call(this,e)},isValid:function(e){return e.username===this.modelSkeleton.teamName?(this.errors.push(gettext("You cannot invite a team to join itself.")),!1):e.username===o.username?(this.errors.push(gettext("You cannot invite yourself.")),!1):e.is_team?(this.errors.push(gettext("You cannot invite another team.")),!1):!0},send:function(){this.on("success",function(){r(["atl._trackEvent","Share","Share team"]),e.messages.success({body:gettext("You have successfully shared this team")})}),i.prototype.send.call(this)}})}),define("components/share/panel/team",["jquery","backbone","underscore","components/share/team-share-form","utils/api-helper","utils/mustache","utils/loading"],function(e,t,n,i,r,o){return t.View.extend({className:"share-panel-team maskable",display:gettext("Team"),action:gettext("Invite"),manageText:gettext("Manage this team"),template:"share-team-template",initialize:function(e){this.teamName=e.name,this.teamDisplay=e.display,this.teamAvatar=e.avatar,this.manageUrl=e.manageUrl},render:function(){return this.loadGroupsDeferred=this.loadGroupsDeferred||e.ajax({url:r.concat("groups",this.teamName),dataType:"json"}),this.$el.loading(this.loadGroupsDeferred,{mask:!0}).done(function(e){this.$el.html(o.toHtml(this.template,{display_name:this.teamDisplay,avatar:this.teamAvatar})),this.form=new i({el:this.$(".share-form"),groups:this.filterGroups(e),teamName:this.teamName}).render(),this.form.on("all",function(e,t){this.trigger(e,t)},this)}.bind(this)),this},filterGroups:function(e){return e},share:function(){this.form.send()},getManageLink:function(){return this.manageUrl}})}),define("components/modal-dialog",["aui","jquery"],function(e,t){var n=0;return function(i,r){var o=i.id||n++,a=new e.Dialog({width:i.width||450,height:i.height||"auto",id:"bb-"+o+"-confirmation-dialog"}),s=t("<div></div>").html(i.content),u=i.buttonText||gettext("Okay");return i.title&&a.addHeader(i.title),a.addPanel("main",s,"confirmation-dialog-body"),a.addButton(u,function(e){e.remove(),r.resolve()}),a}}),define("components/confirm-dialog",["jquery","components/modal-dialog"],function(e,t){return function(n){var i,r=e.Deferred();i="string"==typeof n?{content:n}:n,i.buttonText=i.buttonText||gettext("Confirm"),i.cancelText=i.cancelText||gettext("Cancel");var o=t(i,r);return o.addCancel(i.cancelText,function(e){e.remove(),r.reject()}),o.show(),r.promise()}}),define("components/share/panel/team-admin",["underscore","components/groups/index","components/share/panel/team","components/confirm-dialog"],function(e,t,n,i){return n.extend({className:"share-panel-team-admin",display:gettext("Team administrators"),action:gettext("Add administrators"),template:"share-team-admin-template",groupNameRoot:"Administrators",initialize:function(e){n.prototype.initialize.call(this,e),this.adminGroups=e.adminGroups,this.groupCollection=new t.Groups([],{targetUser:this.teamName}),this.on("success",this.onSuccess)},onSuccess:function(){i({title:gettext("Invitation sent"),content:gettext("The invitation has been sent. Please log out before accepting the invitation."),buttonText:gettext("Log out"),cancelText:gettext("No thanks")}).done(function(){window.location="/account/signout/"})},share:function(){if(this.adminGroups.length)this.form.send();else{var e=this.findUniqueGroupName();this.groupCollection.create({name:e,owner:{username:this.name,is_team:!0}},{success:function(n){new t.GroupAccountPrivilege({group:n,privilege:"admin"}).save(),this.form.collection.each(function(t){t.set({group:e.toLowerCase()})}),n.save({permission:"admin",auto_add:!0}),this.form.send()}.bind(this)})}},filterGroups:function(t){return this.allGroups=t,e.filter(t,function(t){var n=t.owner.username+"/"+t.slug;return e.indexOf(this.adminGroups,n)>=0}.bind(this))},findUniqueGroupName:function(t){function n(e,t){return e.toLowerCase()==t.slug}var i=this.groupNameRoot+(t?t:"");return e.find(this.allGroups,e.partial(n,i))?this.findUniqueGroupName(t?t+1:1):i}})}),define("team-login-warning",["jquery","aui","data/current-user","components/share/share-dialog","components/share/panel/team-admin","utils/mustache"],function(e,t,n,i,r,o){function a(e){e&&e.preventDefault(),p.show()}var s=e("#team-login-warning-data");if(n.isTeam&&s.length){var u=s.data("team-admin-groups"),l=s.attr("data-team-manage-link"),c=1===s.data("team-admin-count"),d=new r({adminGroups:u,name:n.username,display:n.displayName,avatar:n.avatarUrl,manageUrl:l}),p=new i({id:"team-admins",shareButtonText:"Save"}).renderPanels([d]);e("#account-warning").on("click",'[href="#add-admin"]',a),e("#team-admins").find(".add-admin").on("click",a);var h="team-login-warning-last-shown",f=6048e5,g=(new Date).getTime(),m=localStorage&&localStorage.getItem(h);if(!m||g-m>f){var v=new t.Dialog({width:600,height:"auto",id:"team-login-warning-dialog"}),y=e(o.toHtml("team-login-warning-template",{noAdmins:c}));v.addHeader(y.attr("data-title")),v.addPanel("main",y),v.addButton("Set up administrator account",function(e){e.remove(),a()}),v.addCancel("Cancel",function(){v.remove()}),c?v.addLink("More information",null,"left",y.attr("data-admins-link")):v.addLink("See all administrators",null,"left",y.attr("data-admins-link")),v.show(),localStorage&&localStorage.setItem(h,g)}}}),define("select2",["aui","jquery","utils/ready"],function(e,t,n){t.fn.select2.defaults.minimumResultsForSearch=8,n(function(){t("select.aui-select2").each(function(){var e,n=t(this);e=n.find("option").first(),e.val()||"---------"!==e.text()||e.text("")}).auiSelect2()})}),define("tooltips",["aui","jquery","utils/ready"],function(e,t,n){n(function(){t(".aui-tooltip").tooltip()})}),function(e){define("jquery-plugins/jquery.cookie",[],function(){return function(){!function(e,t,n){function i(e){return e}function r(e){return decodeURIComponent(e.replace(o," "))}var o=/\+/g;e.cookie=function(o,a,s){if(a!==n&&!/Object/.test(Object.prototype.toString.call(a))){if(s=e.extend({},e.cookie.defaults,s),null===a&&(s.expires=-1),"number"==typeof s.expires){var u=s.expires,l=s.expires=new Date;l.setDate(l.getDate()+u)}return a=String(a),t.cookie=[encodeURIComponent(o),"=",s.raw?a:encodeURIComponent(a),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}s=a||e.cookie.defaults||{};for(var c,d=s.raw?i:r,p=t.cookie.split("; "),h=0;c=p[h]&&p[h].split("=");h++)if(d(c.shift())===o)return d(c.join("="));return null},e.cookie.defaults={},e.removeCookie=function(t,n){return null!==e.cookie(t,n)?(e.cookie(t,null,n),!0):!1}}(jQuery,document)}.apply(e,arguments)})}(this),define("components/banner",["bitbucket","jquery","data/current-user","utils/gaq-push","utils/ready","jquery-plugins/jquery.cookie"],function(e,t,n,i,r){r(".bb-banner",function(r){if(r.hasClass("ad")){var o=function(e){var n=t(e.target).parent(".bb-banner").attr("data-analytics");i(["atl._trackEvent","Advertisement",n+" - view"])},a=function(){var t=r.attr("data-analytics"),o=r.attr("data-ad");e.user(n.username).remove_ad(o,{}),r.addClass("hidden"),i(["atl._trackEvent","Advertisement",t+"- hide"])};r.find(".view").on("click",o),r.find(".close").on("click",a)}}),r(".bb-banner",function(t){if(t.hasClass("feature")){var r=function(){i(["atl._trackEvent","Advertisement","new-feature-banner - view"])},o=function(){i(["atl._trackEvent","Advertisement","new-feature-banner - tweet"])},a=function(){var r=t.attr("data-featureid");e.user(n.username).feature_viewed(r,{}),t.addClass("hidden"),i(["atl._trackEvent","Feature","new-feature-banner- hide"])};t.find(".view").on("click",r),t.find(".tweet").on("click",o),t.find(".close").on("click",a)}}),r("#signup-banner",function(e){var n=function(){i(["atl._trackEvent","Signup","Signup Banner","Clicked"])},r=function(){t.cookie("bb.hide-signup-banner",!0),e.remove(),i(["atl._trackEvent","Signup","Signup Banner","Dismissed"])};e.find(".signup-button").on("click",n),e.find(".close").on("click",r)})}),define("on-ready",[],function(){return function(e){return{onReady:e}}}),define("registration/create-team-link",["jquery","on-ready","utils/gaq-push"],function(e,t,n){return t(function(){e("#create-team-link").on("click",function(){n(["atl._trackEvent","Share","Create Team Menu Link"])})})}),define("text!components/connect/text/add-form.mustache",[],function(){return'<thead>\n    <tr class="assistive">\n      <th class="name">Name</th>\n      <th class="key">Key</th>\n      <th class="baseurl">URL</th>\n      <th class="actions">Actions</th>\n    </tr>\n    </thead>\n    <tbody>\n    <tr class="form">\n      <td colspan="2">\n        <div>\n          <input type="text" class="text" id="connect-url" name="url"\n                 placeholder="Descriptor url">\n        </div>\n      </td>\n      <td></td>\n      <td class="actions">\n        <div>\n          <button type="submit" class="aui-button aui-style">Add</button>\n        </div>\n      </td>\n    </tr>\n</tbody>\n'}),define("api/url-roots",[],function(){return{internal:"/!api/internal",1:"/!api/1.0",2:"/!api/2.0"}}),define("api/collection",["backbone","api/url-roots"],function(e,t){return e.Collection.extend({apiVersion:2,getApiRoot:function(){return t[this.apiVersion]}})}),define("api/model",["underscore","backbone","api/url-roots"],function(e,t,n){return t.Model.extend({apiVersion:2,getApiRoot:function(){return n[this.apiVersion]},get:function(n){if(arguments.length>1){var i=this;return e.each(arguments,function(e){i=i.get(e)}),i}return t.Model.prototype.get.call(this,n)},toJSON:function(){if(this._isSerializing)return this.id||this.cid;this._isSerializing=!0;var t=e.clone(this.attributes);return e.each(t,function(n,i){n&&e.isFunction(n.toJSON)&&(t[i]=n.toJSON())}),this._isSerializing=!1,t}})}),define("api/models/user",["api/model"],function(e){return e.extend({apiVersion:1,urlRoot:function(){return"{}/users".format(this.getApiRoot())},idAttribute:"username"})}),define("api/collections/users",["api/collection","api/models/user"],function(e,t){return e.extend({apiVersion:1,model:t,url:function(){return"{}/users".format(this.getApiRoot())},load:function(e){if(this.get(e))return this.get(e);var n=new t({username:e});return this.add(n),n}})}),define("api/cache/users",["api/collections/users"],function(e){return new e}),define("api/paginated-collection",["underscore","api/collection"],function(e,t){return t.extend({constructor:function(){this._page=1,t.apply(this,arguments)},_fetch:t.prototype.fetch,fetch:function(t){var n=e.clone(t||{});n.data=e.extend({page:this._page},n.data||{}),this._pagelen&&(n.data.pagelen=this._pagelen),this._fetch(n)},_parse:function(e){return this._size=e.size,this._pagelen||(this._pagelen=e.pagelen),this._pages=((this._size-1)/this._pagelen|0)+1,e.values},parse:function(e){return this._parse(e)},more:function(){return this.hasMore()?(this._page+=1,this.fetch({update:!0,remove:!1})):void 0},hasMore:function(){return this._pages&&this._page<this._pages}})}),define("api/models/branch",["api/model"],function(e){return e.extend({apiVersion:"internal",url:function(){return"{}/repositories/{}/branches/{}".format(this.getApiRoot(),this.get("repository").id,encodeURIComponent(this.get("name")))},initialize:function(){this.id="{}/branches/{}".format(this.get("repository").id,this.get("name"))},toJSON:function(){return{name:this.get("name")}}})}),define("api/models/commit",["jquery","api/model","api/models/branch","api/cache/repositories"],function(e,t,n){return t.extend({apiVersion:"internal",url:function(){return"{}/repositories/{}/oecommits/{}".format(this.getApiRoot(),this.get("repository").id,this.get("hash"))},parse:function(e){var t=require("api/cache/repositories");return e.repository=t.load(e.repository.full_name),e},save:function(){return this.has("timestamp")||this.set("timestamp",new Date),t.prototype.save.apply(this,arguments)},merge:function(t,n){return e.ajax({url:"/!api/{}/repositories/{}/merge".format(this.getApiRoot(),this.get("repository").id),type:"POST",data:JSON.stringify({parents:[this.get("hash"),t],message:n}),dataType:"json",contentType:"application/json; charset=utf-8"})},addFile:function(e){var t=this.get("files")||[];return t.push(e),this.set("files",t),this},setBranch:function(e){return this.set({branch:new n({repository:this.get("repository"),name:e})}),this},toJSON:function(){return{branch:this.get("branch","name"),files:this.get("files"),message:this.get("message"),parents:this.get("parents"),repository:this.get("repository").toJSON(),timestamp:this.get("timestamp"),"transient":!!this.get("transient")}}})}),define("api/models/pullrequest-target",["api/model"],function(e){return e.extend({initialize:function(){this.hash=this.get("commit")?this.get("commit","hash"):null,this.branch=this.get("branch")?this.get("branch","name"):null,this.repo=this.get("repository").id},toSpecString:function(){var e=this.get("commit")?this.get("commit","hash"):null,t=this.get("branch")?this.get("branch","name"):null;return"{}:{}".format(this.get("repository").id,e||t)},toJSON:function(){return{branch:this.get("branch").toJSON(),repository:this.get("repository").toJSON()}}})}),define("utils/check-task",["jquery"],function(e){var t=function(n,i){return i=i||e.Deferred(),e.ajax({type:"GET",url:n,dataType:"json",cache:!1}).done(function(e){e.error?i.reject(e.error,e):e.complete?i.resolve(e.url,e):(i.notify(e),setTimeout(function(){t(n,i)},1e3))}).fail(function(){i.reject("An unexpected error occurred.")}),i.done(function(e){e&&setTimeout(function(){window.location=e},0)}),i.promise()};return t}),define("api/models/pullrequest",["jquery","underscore","api/model","api/url-roots","api/models/commit","api/models/branch","api/models/pullrequest-target","api/cache/repositories","api/cache/users","utils/check-task"],function(e,t,n,i,r,o,a,s,u,l){return n.extend({apiVersion:2,idAttribute:"global_id",url:function(){return"{}/repositories/{}/pullrequests/{}".format(this.getApiRoot(),this.get("destination","repository").id,this.get("local_id"))},parse:function(e){return e.local_id=e.id,e.closed_by&&(e.closed_by=u.load(e.closed_by.username)),e.user=u.load(e.author.username),t.each(["destination","source"],function(t){if(null===e[t].repository)e[t]=null;else{var n=require("api/cache/repositories"),i=n.load(e[t].repository.full_name);e[t]=new a({repository:i,commit:new r({repository:i,hash:e[t].commit.sha}),branch:new o({repository:i,name:e[t].branch.name})})}}),e},diff:function(){var t=e.Deferred();return this._revspec?t.resolve(this._revspec.diff):this.get("source","repository").revspec(this.get("source","commit","hash"),this.get("destination","repository"),this.get("destination","commit","hash")).done(function(e){this._revspec=e,t.resolve(this._revspec.diff)
}.bind(this)),t},mergebase:function(){var t=e.Deferred();return this._revspec?t.resolve(this._revspec.mergebase.hash):this.get("source","repository").revspec(this.get("source","commit","hash"),this.get("destination","repository"),this.get("destination","commit","hash")).done(function(e){this._revspec=e,t.resolve(this._revspec.mergebase.hash)}.bind(this)),t},sourceDiff:function(){return this.get("source","repository").twoway(this.get("source","commit","hash"),this.get("destination","repository"),this.get("destination","commit","hash"))},destDiff:function(){var t=e.Deferred();return this.mergebase().done(function(e){this.get("destination","repository").revspec(this.get("destination","commit","hash"),this.get("source","repository"),e).done(function(e){t.resolve(e.diff)})}.bind(this)),t},getComments:function(){var t=e.Deferred();return e.ajax({url:"{}/repositories/{}/pullrequests/{}/comments".format(i[1],this.get("destination","repository").id,this.get("local_id")),type:"GET",dataType:"json"}).done(function(e){t.resolve(e)}).fail(function(){t.reject()}),t},toJSON:function(){return{source:this.get("source").toJSON(),destination:this.get("destination").toJSON(),title:this.get("title"),description:this.get("description"),close_source_branch:!!this.get("close_source_branch"),reviewers:t.map(this.get("reviewers"),function(e){return{username:e}})}},updateRef:function(){var t=new e.Deferred;return e.ajax({url:"/{}/pull-request/update/{}".format(this.get("destination","repository").id,this.get("local_id")),type:"POST",data:{_quick_update:1},dataType:"json"}).done(function(e){e.errors?t.reject():e.result?t.resolve(e.result):setTimeout(function(){l(e.url,t)},1e3)}).fail(t.reject),t.promise()},toRevSpec:function(){return"{}..{}".format(this.get("source").toSpecString(),this.get("destination").toSpecString())}})}),define("api/collections/pullrequests",["jquery","api/paginated-collection","api/models/pullrequest","api/models/pullrequest-target"],function(e,t,n,i){return t.extend({apiVersion:2,model:n,url:function(){return"{}/repositories/{}/pullrequests".format(this.getApiRoot(),this.repository.id)},load:function(e){var t=this.find(function(t){return t===e});if(void 0===t){var r=new i({repository:this.repository});t=new n({destination:r,local_id:e})}return t},initialize:function(e,t){t=t||{},this.repository=t.repository},updateRefs:function(){var t=new e.Deferred,n=this.length,i=0,r=0;return this.each(function(e){e.updateRef().done(function(){t.notify(++i,n),i===n&&t.resolve()}).always(function(){++r===n&&i!==n&&t.reject()})}),t}})}),define("api/models/repository",["jquery","underscore","api/model","api/url-roots","api/cache/users","api/collections/pullrequests"],function(e,t,n,i,r,o){var a=n.extend({apiVersion:1,urlRoot:function(){return"{}/repositories".format(this.getApiRoot())},url:function(){return"{}/repositories/{}".format(this.getApiRoot(),this.id)},initialize:function(){this.id="{}/{}".format(this.get("owner","username"),this.get("slug")),this.pullRequests=new o([],{repository:this})},parse:function(e){return e.owner=r.load(e.owner),e.fork_of&&(e.fork_of=a.fromFullSlug("{}/{}".format(e.fork_of.owner,e.fork_of.slug))),e},fork:function(t){var n=new e.Deferred,r={name:null};t&&(r.name=t);var o=function(e){e.fetch({success:function(t){"available"===t.get("state")?n.resolve(e):setTimeout(function(){o(e)},1e3)},error:function(){n.reject()}})};return e.ajax({url:"{}/repositories/{}/fork".format(i.internal,this.id),type:"POST",data:JSON.stringify(r),dataType:"json",contentType:"application/json; charset=utf-8"}).done(function(e){var t=a.fromFullSlug(e.full_name);o(t)}).fail(function(){n.reject()}),n},toJSON:function(){return{full_name:this.get("owner").get("username")+"/"+this.get("slug")}},pull:function(t){var n="{}/repositories/{}/pull".format(i.internal,this.id);return t&&(n="{}/{}".format(n,encodeURIComponent(t))),e.ajax({url:n,type:"PUT",dataType:"json"})},diff:function(e,t){return this.revspec(e,this,t)},twoway:function(t,n,r){var o=this.createRevSpec(t,n,r);return e.ajax({url:"{}/repositories/{}/twoway/{}?context=0".format(i.internal,this.id,o),type:"GET",dataType:"json",contentType:"application/json; charset=utf-8"})},revspec:function(t,n,r){var o=this.createRevSpec(t,n,r);return e.ajax({url:"{}/repositories/{}/revspec/{}?context=0".format(i.internal,this.id,o),type:"GET",dataType:"json",contentType:"application/json; charset=utf-8"})},createRevSpec:function(e,t,n){return"{}:{}..{}:{}".format(this.id,e,t.id,n)}},{fromFullSlug:function(e,n){var i=e.split("/"),o=i.pop(),a=i.length?i.pop():null,s=r.load(a),u=t.defaults({owner:s,slug:o},n);return new this(u)}});return a}),define("api/collections/repositories",["api/collection","api/models/repository"],function(e,t){return e.extend({apiVersion:1,model:t,initialize:function(e,t){t=t||{},this.owner=t.owner||null},url:function(){return"{}/repositories".format(this.getApiRoot())},load:function(e,n){if(this.get(e))return this.get(e);var i=t.fromFullSlug(e,n);return this.add(i),i}})}),define("api/cache/repositories",["api/collections/repositories"],function(e){return new e}),define("components/connect/data/connectAdminContext",["jquery"],function(e){return e("#connect-admin").data("connect-admin-context")}),define("components/connect/data/targetUser",["jquery"],function(e){return e("#connect-admin").data("target-user")}),define("components/connect/api/models/connection",["api/model","api/cache/repositories","data/current-repo","components/connect/data/connectAdminContext","components/connect/data/targetUser"],function(e,t,n,i,r){return e.extend({apiVersion:2,urlRoot:function(){switch(i){case"repository":return repository=t.load(n.fullslug),"{}/repositories/{}/connections".format(this.getApiRoot(),repository.id);case"account":return"{}/account/{}/connections".format(this.getApiRoot(),r);default:throw"No context."}}})}),define("components/connect/api/collections/connections",["api/collection","api/cache/repositories","components/connect/data/connectAdminContext","components/connect/data/targetUser","data/current-repo","components/connect/api/models/connection"],function(e,t,n,i,r,o){return e.extend({apiVersion:2,model:o,initialize:function(){},url:function(){switch(n){case"repository":return repository=t.load(r.fullslug),"{}/repositories/{}/connections".format(this.getApiRoot(),repository.id);case"account":return"{}/account/{}/connections".format(this.getApiRoot(),i);default:throw"No context."}}})}),define("text!components/connect/text/connection-row.mustache",[],function(){return'    <td>[[ name ]]</td>\n    <td>[[ key ]]</td>\n    <td>[[ baseUrl ]]</td>\n    <td class="actions">\n      <a href="#delete"><span class="delete aui-icon aui-icon-small aui-iconfont-remove">Delete</span></a>\n      <a href="#refresh"><span class="refresh aui-icon aui-icon-small aui-iconfont-build">Refresh</span></a>\n    </td>'}),define("components/connect/views/connection",["backbone","underscore","mustache","text!components/connect/text/connection-row.mustache"],function(e,t,n,i){return e.View.extend({tagName:"tr",attributes:function(){return{"data-connection-id":this.model.id}},initialize:function(){t.bindAll(this,"render","remove")},render:function(){return this.$el.html(n.render(i,this.model.toJSON())),this}})}),define("components/connect/views/connection-list",["aui","jquery","backbone","mustache","underscore","text!components/connect/text/add-form.mustache","components/connect/api/collections/connections","components/connect/api/models/connection","components/connect/views/connection","components/confirm-dialog"],function(e,t,n,i,r,o,a,s,u,l){return n.View.extend({model:s,events:{"click .delete":"remove","click .refresh":"refresh","click #add-connect-app":"addApp"},initialize:function(){r.bindAll(this,"render","remove","refresh","addApp"),this.collection=new a,this.collection.fetch({wait:!0,error:this.errors}),this.listenTo(this.collection,"add",this.addRow)},render:function(){this.collection.each(this.addRow)},addApp:function(e){var n=t(e.currentTarget),i=n.parents("form"),r=i.serializeArray(),o={};t.each(r,function(e,t){o[t.name]=t.value}),this.collection.create({url:o.url},{wait:!0,success:this.success,error:this.errors})},remove:function(e){var n=t(e.currentTarget),i=n.parents("tr"),r=i.data("connection-id"),o=this.collection.get(r),a="Are you sure you wish to delete the connection to {}?".format(o.get("name"));l({id:"remove-connection",title:gettext("Delete connection"),content:a,buttonText:gettext("Delete")}).done(function(){o.destroy({wait:!0,success:this.success,error:this.errors})})},refresh:function(){console.log("refresh")},submitUrl:function(e){t("#connect-url").val(e),t("#connection-form").submit()},addRow:function(e){var n=t("#connection-list"),i=new u({model:e});e.on("destroy",i.remove),e.on("change",i.render),n.append(i.render().el)},errors:function(t,n){var i=JSON.parse(n.responseText);e.messages.error({body:i.error.message,fadeout:!1})},success:function(){location.reload()}})}),function(e){define("django_connect/host",["aui"],function(){return function(){return window._AP=window._AP||{},function(e){function t(t,i){function r(t){if(o.push(t),o.length===s){for(var n=[],r=0;s>r;r+=1)n[r]=o[r].exports;i&&i.apply(e,n)}}var o=[],a=0,s=t.length;if(t&&t.length>0)for(;s>a;a+=1)n(t[a],r);else i&&i()}function n(e,t){t(i(e))}function i(t){return o[t]=o[t]||{name:t,exports:function(){function t(){var n=t.__target__;return n?n.apply(e,arguments):void 0}return t}()}}var r=e._AP?_AP:e.RA=e.AP={},o={};r.define=function(n,r,o){var a,s=i(n);o||(o=r,r=[]),o&&(a="function"!=typeof o?function(){return o}:o,t(r,function(){var t=a.apply(e,arguments);if(t){"function"==typeof t&&(s.exports.__target__=t);for(var n in t)t.hasOwnProperty(n)&&(s.exports[n]=t[n])}}))},r.require=function(e,n){t("string"==typeof e?[e]:e,n)}}(this),_AP.define("_dollar",function(){return AJS.$}),_AP.define("host/_util",function(){return{escapeSelector:function(e){if(!e)throw new Error("No selector to escape");return e.replace(/[!"#$%&'()*+,.\/:;<=>?@[\\\]^`{|}~]/g,"\\$&")}}}),_AP.define("_rpc",["_dollar","_xdm"],function(e,t){var n=e.each,i=e.extend,r=e.isFunction,o=[],a={},s=[],u={},l=[];return{extend:function(e){r(e)&&(e=e()),i(a,e.apis),i(u,e.internals),s=s.concat(e.stubs||[]);var t=e.init;return r(t)&&l.push(t),e.apis},init:function(r,c){r=r||{},n(a,function(e){s.push(e)});var d=new t(e,c,{remote:s,local:e.extend({},u)});o[d.id]=d,n(l,function(e,t){try{t(i({},r),d)}catch(n){console.log(n)}})}}}),_AP.define("env",["_dollar","_rpc"],function(e,t){var n;t.extend(function(){return{init:function(e){n=e},internals:{getLocation:function(){return window.location.href},getUser:function(){var t=AJS.Meta,i=t?t.get("remote-user-fullname"):null;return i||(i=e("a#header-details-user-fullname, .user.ajs-menu-title, a#user").text()),i||(i=e("a#user-menu-link").attr("title")),{fullName:i,id:n.uid,key:n.ukey}},getTimeZone:function(){return n.data.timeZone}}}})}),_AP.define("resize",["_dollar","_rpc"],function(e,t){t.extend(function(){function t(t){var n=e(document).height()-e("#header > nav").outerHeight()-e("#footer").outerHeight()-20;e(t).css({width:"100%",height:n+"px"})}return{init:function(e,t){t.resize=_.debounce(function(e,t,n){e(this.iframe).css({width:t,height:n})})},internals:{resize:function(t,n){this.uiParams.isDialog||this.resize(e,t,n)},sizeToParent:_.debounce(function(){this.uiParams.isGeneral?(e(this.iframe).addClass("full-size-general-page"),e(window).on("resize",function(){resizeHander(this.iframe)}),t(this.iframe)):e(this.iframe).addClass("full-size-general-page-fail")})}}})}),_AP.define("loading-indicator",["_dollar","_rpc","host/_status_helper"],function(e,t,n){t.extend(function(){return{init:function(t,i){var r=e(i.iframe).closest(".ap-container");n.showLoadingStatus(r,0),i.timeout=setTimeout(function(){i.timeout=null,n.showloadTimeoutStatus(r);var e=r.find(".ap-load-timeout");e.find("a.ap-btn-cancel").click(function(){n.showLoadErrorStatus(r),this.analytics.iframePerformance.timeout()})},2e4)},internals:{init:function(){this.analytics.iframePerformance.end();var t=e(this.iframe).closest(".ap-container");n.showLoadedStatus(t),clearTimeout(this.timeout),t.find(".ap-content").addClass("iframe-init")}}}})}),_AP.define("request",["_dollar","_rpc"],function(e,t){var n=["status","statusText","responseText"],i=["Content-Type"];t.extend(function(){return{internals:{request:function(t,r,o){function a(t){var r={headers:{}};return e.each(n,function(e,n){r[n]=t[n]}),e.each(i,function(e,n){r.headers[n]=t.getResponseHeader(n)}),r}function s(e,t,n){r([e,t,a(n)])}function u(e,t,n){o([a(e),t,n])}var l=AJS.contextPath()+t.url,c={};e.each(t.headers||{},function(e,t){c[e.toLowerCase()]=t}),e.ajaxSettings={},e.ajax({url:l,type:t.type||"GET",data:t.data,dataType:"text",contentType:t.contentType,headers:{Accept:c.accept||"*/*","AP-Client-Key":this.addonKey}}).then(s,u)}}}})}),_AP.define("dialog",["_dollar","_rpc","dialog/dialog-factory","dialog/main"],function(e,t,n,i){t.extend(function(){return{stubs:["dialogMessage"],init:function(t,n){if(n.uiParams.isDialog){var r=i.getButton();r&&e.each(r,function(e,t){t.click(function(t,i){n.isActive()?n.dialogMessage(e,i):i(!0)})})}},internals:{setDialogButtonEnabled:function(e,t){i.getButton(e).setEnabled(t)},isDialogButtonEnabled:function(e,t){var n=i.getButton(e);t(n?n.isEnabled():void 0)},createDialog:function(e){var t={key:this.addonKey};e.key?t.moduleKey=e.key:e.url&&(t.url=e.url),n(t,e,this.productContext)},closeDialog:function(){this.events.emit("ra.iframe.destroy"),i.close()}}}})}),_AP.define("history/rpc",["_dollar","history/history","_rpc"],function(e,t,n){n.extend(function(){return{init:function(n,i){n.uiParams.isGeneral&&e(window).on("hashchange",function(e){t.hashChange(e.originalEvent,i.historyMessage)})},internals:{historyPushState:function(n){return this.uiParams.isGeneral?t.pushState(n):void e.log("History is only available to page modules")},historyReplaceState:function(n){return this.uiParams.isGeneral?t.replaceState(n):void e.log("History is only available to page modules")},historyGo:function(n){return this.uiParams.isGeneral?t.go(n):void e.log("History is only available to page modules")}},stubs:["historyMessage"]}})}),(window.AP||window._AP).define("_events",["_dollar"],function(e){function t(e,t){this._key=e,this._origin=t,this._events={},this._any=[]}function n(e,t){for(var n=0;n<e.length;++n)try{e[n].apply(null,t)}catch(i){r(i.stack||i.message||i)}}var i=window,r=i.AJS&&i.AJS.log||i.console&&i.console.log||function(){},o=t.prototype;return o.on=function(e,t){return e&&t&&this._listeners(e).push(t),this},o.once=function(e,t){var n=this,i=function(){n.off(e,i),t.apply(null,arguments)};return this.on(e,i),this},o.onAny=function(e){return this._any.push(e),this},o.off=function(t,n){var i=this._events[t];if(i){var r=e.inArray(n,i);r>=0&&i.splice(r,1),0===i.length&&delete this._events[t]}return this},o.offAll=function(e){return e?delete this._events[e]:this._events={},this},o.offAny=function(t){var n=this._any,i=e.inArray(t,n);return i>=0&&n.splice(i,1),this},o.emit=function(){return this._emitEvent(this._event.apply(this,arguments))},o._event=function(e){return{name:e,args:[].slice.call(arguments,1),attrs:{},source:{key:this._key,origin:this._origin}}},o._emitEvent=function(e){var t=e.args.concat(e);return n(this._listeners(e.name),t),n(this._any,[e.name].concat(t)),this},o._listeners=function(e){return this._events[e]=this._events[e]||[]},{Events:t}}),(this.AP||this._AP).define("_xdm",["_events","_base64","_uri","_ui-params","host/analytics","host/_util"],function(e,t,n,i,r,o){function a(r,u,l){function c(e,t,n){try{E.postMessage(JSON.stringify({c:j,i:e,t:t,m:n}),N)}catch(i){C(S(i))}}function d(e,t,n,i){var r=Math.floor(1e9*Math.random()).toString(16);J.add(r,n,i),c(r,"request",{n:e,a:t})}function p(e,t){c(e,"done",t)}function h(e,t){c(e,"fail",t)}function f(e){try{var t=JSON.parse(e.data),n=t.i,i=t.c,r=t.t,o=t.m;if(e.source!==E&&e.origin.toLowerCase()===N&&i===j&&(E=e.source),e.source!==E||e.origin.toLowerCase()!==N||i!==j)return;if("request"===r){var a,s,u,l=o.n,c=o.a,d=M[l];if(d){a=function(e){p(n,e)},s=function(e){h(n,e)},u=(c?c.length:0)<d.length;var f=M;k.isHost===!0?(f=k,f.analytics&&f.analytics.trackBridgeMethod(l)):f.isHost=!1;try{u?d.apply(f,c.concat([a,s])):a(d.apply(f,c))}catch(g){s(S(g))}}else A("Unhandled request:",t)}else("done"===r||"fail"===r)&&(J.invoke(r,n,o)||A("Unhandled response:",r,n,o))}catch(g){C(S(g))}}function g(e){return function(){function t(){return r.isFunction(o[o.length-1])?o.pop():void 0}var n,i,o=[].slice.call(arguments);i=t(),n=t(),n||(n=i,i=void 0),d(e,o,n,i)}}function m(e){k.isActive()?f(e.originalEvent?e.originalEvent:e):y()}function v(){r(window).bind("message",m)}function y(){r(window).unbind("message",m)}function b(e,t){return new n.init(e).getQueryParamValue(t)}function w(e){return new n.init(e).origin()}function x(e){if(!e.container)throw new Error("config.container must be defined");var t=document.createElement("iframe"),n="easyXDM_"+e.container+"_provider",a="";return e.uiParams&&(a=i.encode(e.uiParams)),r.extend(t,{id:n,name:a,frameBorder:"0"},e.props),t.setAttribute("rel","nofollow"),r("#"+o.escapeSelector(e.container)).append(t),t.src=e.remote,t}function S(e){return e.message||e.toString()}function A(){a.debug&&C.apply(O,["DEBUG:"].concat([].slice.call(arguments)))}function C(){var e=r.log||O.AJS&&O.AJS.log;e&&e.apply(O,arguments)}function _(e){return $(e).iss}function $(e){if(null===e||""===e)throw"Invalid JWT: must be neither null nor empty-string.";var n=e.indexOf("."),i=e.indexOf(".",n+1);if(0>n||n>=i)throw'Invalid JWT: must contain 2 period (".") characters.';var r=e.substring(n+1,i);if(null===r||""===r)throw"Invalid JWT: encoded claims must be neither null nor empty-string.";var o=t.decode(r);return JSON.parse(o)}var k,T,E,N,j,H,D,R,q,O=window,P=O.location.toString(),M=l.local||{},I=l.remote||[],L=w(P),J=function(){var e={};return{add:function(t,n,i){e[t]={done:n||null,fail:i||null,async:!!n}},invoke:function(t,n,i){var r;return e[n]&&(e[n][t]?(e[n][t](i),r=!0):r=!e[n].async&&"fail"!==t,delete e[n]),r}}}();if(/xdm_e/.test(P)){E=O.parent,D="local";var F=b(P,"jwt");R=F?_(F):b(P,"oauth_consumer_key"),null===R&&(R=Math.random()),q=D,N=b(P,"xdm_e").toLowerCase(),j=b(P,"xdm_c"),H={isHost:!1,isActive:function(){return!0}}}else{var B=x(u);E=B.contentWindow,D=b(u.remote,"oauth_consumer_key")||b(u.remote,"jwt"),R=u.remoteKey,q=R,N=w(u.remote).toLowerCase(),j=u.channel,H={isHost:!0,iframe:B,uiParams:u.uiParams,destroy:function(){y(),k.iframe&&(r(k.iframe).remove(),delete k.iframe)},isActive:function(){return r.contains(document.documentElement,k.iframe)}},r(B).on("ra.iframe.destroy",H.destroy)}T=q+"|"+(s+=1),k=r.extend({id:T,remoteOrigin:N,channel:j,addonKey:q},H),r.each(I,function(e,t){"number"==typeof e&&(e=t),k[e]=g(e)});var z=k.events=new e.Events(D,L);return z.onAny(function(){var e=arguments[arguments.length-1],t=e.trace=e.trace||{},n=k.id+"|xdm";(k.isHost&&!t[n]&&e.source.channel!==k.id||!k.isHost&&e.source.key===D)&&(t[n]=!0,e=r.extend({},e),delete e.trace,A("Forwarding "+(k.isHost?"host":"addon")+" event:",e),d("_event",[e]))}),M._event=function(e){delete e.trace,this.isHost&&(e.source={channel:this.id||T,key:this.addonKey,origin:this.remoteOrigin||N}),A("Receiving as "+(this.isHost?"host":"addon")+" event:",e),z._emitEvent(e)},v(),k}var s=0;return a}),(this.AP||this._AP).define("_uri",[],function(){function e(e){return e&&(e=decodeURIComponent(e),e=e.replace(r.pluses," ")),e}function t(e){var t=r.uri_parser,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],i=t.exec(e||""),o={};return n.forEach(function(e,t){o[e]=i[t]||""}),o}function n(e){var t,n,i,o,a,s,u=[];if("undefined"==typeof e||null===e||""===e)return u;for(0===e.indexOf("?")&&(e=e.substring(1)),n=e.toString().split(r.query_separator),t=0;t<n.length;t++)i=n[t],o=i.indexOf("="),0!==o&&(a=decodeURIComponent(i.substring(0,o)),s=decodeURIComponent(i.substring(o+1).replace(/\+/g," ")),u.push(-1===o?[i,null]:[a,s]));return u}function i(e){this.uriParts=t(e),this.queryPairs=n(this.uriParts.query),this.hasAuthorityPrefixUserPref=null}var r={starts_with_slashes:/^\/+/,ends_with_slashes:/\/+$/,pluses:/\+/g,query_separator:/[&;]/,uri_parser:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/};return Array.prototype.forEach||(Array.prototype.forEach=function(e,t){for(var n=0,i=this.length;i>n;++n)e.call(t||this,this[n],n,this)}),["protocol","userInfo","host","port","path","anchor"].forEach(function(e){i.prototype[e]=function(t){return"undefined"!=typeof t&&(this.uriParts[e]=t),this.uriParts[e]}}),i.prototype.hasAuthorityPrefix=function(e){return"undefined"!=typeof e&&(this.hasAuthorityPrefixUserPref=e),null===this.hasAuthorityPrefixUserPref?-1!==this.uriParts.source.indexOf("//"):this.hasAuthorityPrefixUserPref},i.prototype.query=function(e){var t,i,r="";for("undefined"!=typeof e&&(this.queryPairs=n(e)),t=0;t<this.queryPairs.length;t++)i=this.queryPairs[t],r.length>0&&(r+="&"),null===i[1]?r+=i[0]:(r+=i[0],r+="=",i[1]&&(r+=encodeURIComponent(i[1])));return r.length>0?"?"+r:r},i.prototype.getQueryParamValue=function(e){var t,n;for(n=0;n<this.queryPairs.length;n++)if(t=this.queryPairs[n],e===t[0])return t[1]},i.prototype.getQueryParamValues=function(e){var t,n,i=[];for(t=0;t<this.queryPairs.length;t++)n=this.queryPairs[t],e===n[0]&&i.push(n[1]);return i},i.prototype.deleteQueryParam=function(t,n){var i,r,o,a,s=[];for(i=0;i<this.queryPairs.length;i++)r=this.queryPairs[i],o=e(r[0])===e(t),a=r[1]===n,(1!==arguments.length||o)&&(2!==arguments.length||o&&a)||s.push(r);return this.queryPairs=s,this},i.prototype.addQueryParam=function(e,t,n){return 3===arguments.length&&-1!==n?(n=Math.min(n,this.queryPairs.length),this.queryPairs.splice(n,0,[e,t])):arguments.length>0&&this.queryPairs.push([e,t]),this},i.prototype.replaceQueryParam=function(t,n,i){var r,o,a=-1;if(3===arguments.length){for(r=0;r<this.queryPairs.length;r++)if(o=this.queryPairs[r],e(o[0])===e(t)&&decodeURIComponent(o[1])===e(i)){a=r;break}this.deleteQueryParam(t,i).addQueryParam(t,n,a)}else{for(r=0;r<this.queryPairs.length;r++)if(o=this.queryPairs[r],e(o[0])===e(t)){a=r;break}this.deleteQueryParam(t),this.addQueryParam(t,n,a)}return this},["protocol","hasAuthorityPrefix","userInfo","host","port","path","query","anchor"].forEach(function(e){var t="set"+e.charAt(0).toUpperCase()+e.slice(1);i.prototype[t]=function(t){return this[e](t),this}}),i.prototype.scheme=function(){var e="";return this.protocol()?(e+=this.protocol(),this.protocol().indexOf(":")!==this.protocol().length-1&&(e+=":"),e+="//"):this.hasAuthorityPrefix()&&this.host()&&(e+="//"),e},i.prototype.origin=function(){var e=this.scheme();return"file://"==e?e+this.uriParts.authority:(this.userInfo()&&this.host()&&(e+=this.userInfo(),this.userInfo().indexOf("@")!==this.userInfo().length-1&&(e+="@")),this.host()&&(e+=this.host(),this.port()&&(e+=":"+this.port())),e)},i.prototype.addTrailingSlash=function(){var e=this.path()||"";return"/"!==e.substr(-1)&&this.path(e+"/"),this},i.prototype.toString=function(){var e,t=this.origin();return this.path()?(e=this.path(),r.ends_with_slashes.test(t)||r.starts_with_slashes.test(e)?(t&&t.replace(r.ends_with_slashes,"/"),e=e.replace(r.starts_with_slashes,"/")):t+="/",t+=e):this.host()&&(this.query().toString()||this.anchor())&&(t+="/"),this.query().toString()&&(0!==this.query().toString().indexOf("?")&&(t+="?"),t+=this.query().toString()),this.anchor()&&(0!==this.anchor().indexOf("#")&&(t+="#"),t+=this.anchor()),t},i.prototype.clone=function(){return new i(this.toString())},{init:i}}),(window.AP||window._AP).define("host/_addons",["_dollar","_rpc"],function(e,t){var n={};t.extend(function(){var t={_emitEvent:function(t){e.each(n[t.source.key],function(e,n){n.bus._emitEvent(t)})},remove:function(e){var t=n[e.addonKey][e.id];return t&&t.bus.offAny(t.listener),delete n[e.addonKey][e.id],this},init:function(e,i){n[i.addonKey]||(n[i.addonKey]={});var r=n[i.addonKey][i.id]={bus:i.events,listener:function(){var e=arguments[arguments.length-1],n=e.trace=e.trace||{},r=i.id+"|addon";n[r]||(n[r]=!0,t._emitEvent(e))}};r.bus.onAny(r.listener),r.bus.on("ra.iframe.destroy",function(){t.remove(i)})}};return t})}),_AP.define("host/main",["_dollar","_xdm","host/_addons","_rpc","_ui-params","analytics/analytics","host/_util"],function(e,t,n,i,r,o,a){function s(t){if(!t)throw new Error("ns undefined");return e("#embedded-"+a.escapeSelector(t))}function u(t){e.extend(t,r.fromUrl(t.src));{var n=t.ns,a=s(n),u=a.attr("id"),l="channel-"+n,c=t.w||"100%",d=t.h||"0";(new Date).getTime(),!!t.dlg,a.closest(".aui-inline-dialog").length>0,!!t.simpleDlg}"object"!=typeof t.uiParams&&(t.uiParams={}),t.general&&(t.uiParams.isGeneral=!0),t.dlg&&(t.uiParams.isDialog=!0);var p={remote:t.src,remoteKey:t.key,container:u,channel:l,props:{width:c,height:d},uiParams:t.uiParams};t.productCtx&&!t.productContext&&(t.productContext=JSON.parse(t.productCtx)),i.extend({init:function(e,i){i.analytics=o.get(i.addonKey,n),i.analytics.iframePerformance.start(),i.productContext=t.productContext}}),i.init(t,p)}var l=window.requestAnimationFrame||function(e){setTimeout(e,10)};return function(t){function n(){return 0===s(t.ns).length&&10>i?void setTimeout(function(){i++,n()},50):void u(t)}$content=s(t.ns),$contentIframe=$content.find("iframe"),$contentIframe.length&&($contentIframe.trigger("ra.iframe.destroy"),$content.remove());var i=0;"undefined"!=typeof ConfluenceMobile?n():e.isReady?l(n):AJS.toInit(function(){if(AJS.Confluence&&AJS.Confluence.EditorLoader&&AJS.Confluence.EditorLoader.load)try{AJS.Confluence.EditorLoader.load(n,n)}catch(e){try{n()}catch(t){AJS.log(t)}}else try{n()}catch(t){AJS.log(t)}})}}),_AP.create||_AP.require(["host/main"],function(e){_AP.create=e}),"undefined"!=typeof ConfluenceMobile&&ConfluenceMobile.contentEventAggregator.on("render:pre:after-content",function(e,t,n){window.eval.call(window,$(n.attributes.body).find(".ap-iframe-body-script").html())}),(window.AP||window._AP).define("_base64",["_dollar"],function(){function e(){this.buffer=[]}function t(e){this._input=e,this._index=-1,this._buffer=[]}function n(e){this._input=e,this._index=-1,this._buffer=[]}function i(e){return window.btoa?window.btoa(e):o.encode(e)}function r(e){return window.atob?window.atob(e):o.decode(e)}e.prototype.append=function(e){return this.buffer.push(e),this},e.prototype.toString=function(){return this.buffer.join("")};var o={codex:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(n){for(var i=new e,r=new t(n);r.moveNext();){var o=r.current;r.moveNext();var a=r.current;r.moveNext();var s=r.current,u=o>>2,l=(3&o)<<4|a>>4,c=(15&a)<<2|s>>6,d=63&s;isNaN(a)?c=d=64:isNaN(s)&&(d=64),i.append(this.codex.charAt(u)+this.codex.charAt(l)+this.codex.charAt(c)+this.codex.charAt(d))}return i.toString()},decode:function(t){for(var i=new e,r=new n(t);r.moveNext();){var o=r.current;if(128>o)i.append(String.fromCharCode(o));else if(o>191&&224>o){r.moveNext();var a=r.current;i.append(String.fromCharCode((31&o)<<6|63&a))}else{r.moveNext();var a=r.current;r.moveNext();var s=r.current;i.append(String.fromCharCode((15&o)<<12|(63&a)<<6|63&s))}}return i.toString()}};return t.prototype={current:Number.NaN,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=Number.NaN,!1;var e=this._input.charCodeAt(++this._index);return 13==e&&10==this._input.charCodeAt(this._index+1)&&(e=10,this._index+=2),128>e?this.current=e:e>127&&2048>e?(this.current=e>>6|192,this._buffer.push(63&e|128)):(this.current=e>>12|224,this._buffer.push(e>>6&63|128),this._buffer.push(63&e|128)),!0}},n.prototype={current:64,moveNext:function(){if(this._buffer.length>0)return this.current=this._buffer.shift(),!0;if(this._index>=this._input.length-1)return this.current=64,!1;var e=o.codex.indexOf(this._input.charAt(++this._index)),t=o.codex.indexOf(this._input.charAt(++this._index)),n=o.codex.indexOf(this._input.charAt(++this._index)),i=o.codex.indexOf(this._input.charAt(++this._index)),r=e<<2|t>>4,a=(15&t)<<4|n>>2,s=(3&n)<<6|i;return this.current=r,64!=n&&this._buffer.push(a),64!=i&&this._buffer.push(s),!0}},{encode:i,decode:r}}),(this.AP||this._AP).define("_ui-params",["_dollar","_base64","_uri"],function(e,t,n){return{encode:function(e){return t.encode(JSON.stringify(e))},fromUrl:function(e){var e=new n.init(e),t=e.getQueryParamValue("ui-params");return this.decode(t)},fromWindowName:function(e,t){e=e||window;var n=this.decode(e.name);return t?n?n[t]:void 0:n},decode:function(e){var n={};if(e&&e.length>0)try{n=JSON.parse(t.decode(e))}catch(i){console&&console.log&&console.log("Cannot decode passed ui params",e)}return n}}}),_AP.define("host/content",["_dollar","_uri","_ui-params"],function(e,t,n){function i(e,t){return AJS.contextPath()+"/plugins/servlet/ac/"+encodeURIComponent(e)+"/"+encodeURIComponent(t.key)}function r(t){var n=t.attr("class").match(/ap-plugin-key-([^\s]*)/);return e.isArray(n)?n[1]:!1}function o(t){var n=t.attr("class").match(/ap-module-key-([^\s]*)/);return e.isArray(n)?n[1]:!1}function a(e){var t=(r(e),o(e)),n=e.hasClass("ap-inline-dialog")?"inlineDialog":"dialog";return window._AP[n+"Options"][t]||{}}function s(t,i,r,o){var a=AJS.contextPath()+"/plugins/servlet/render-signed-iframe";return e.ajax(a,{dataType:"html",data:{dialog:!0,"ui-params":n.encode(o),"plugin-key":t,"product-context":JSON.stringify(r),"remote-url":i,width:"100%",height:"100%",raw:"true"}})}function u(t,r,o,a){var s=i(t,o);return e.ajax(s,{dataType:"html",data:{"ui-params":n.encode(a),"plugin-key":t,"product-context":JSON.stringify(r),key:o.key,width:"100%",height:"100%",raw:"true"}})}function l(n,i,o){function a(n){n.preventDefault();var a=e(n.target).closest(i),s=a.attr("href"),u=new t.init(s),l={bindTo:a,header:a.text(),width:u.getQueryParamValue("width"),height:u.getQueryParamValue("height"),cp:u.getQueryParamValue("cp"),key:r(a)};o(s,l,n.type)}e(window.document).on(n,i,a)}return{getContentUrl:i,getIframeHtmlForUrl:s,getIframeHtmlForKey:u,eventHandler:l,getOptionsForWebItem:a}}),_AP.define("host/_status_helper",["_dollar"],function(e){function t(e){e.data("loadingStatusTimer")&&(clearTimeout(e.data("loadingStatusTimer")),e.removeData("loadingStatusTimer")),e.find(".ap-status").addClass("hidden")}function n(e,n){t(e),e.closest(".ap-container").removeClass("hidden"),e.find(".ap-stats").removeClass("hidden"),e.find(".ap-"+n).removeClass("hidden"),setTimeout(function(){var e=AJS.$(".small-spinner",".ap-"+n);e.length&&e.spin({zIndex:"1"})},10)}function i(e){t(e)}function r(e,t){if(t){var i=setTimeout(n.bind(null,e,"loading"),t);e.data("loadingStatusTimer",i)}else n(e,"loading")}function o(e){n(e,"load-timeout")}function a(e){n(e,"load-error")}function s(){var t,n=e('<div class="ap-stats" />');for(t in u){var i=e('<div class="ap-'+t+' ap-status hidden" />');i.append("<small>"+u[t].descriptionHtml+"</small>"),n.append(i)}return n}var u={loading:{descriptionHtml:'<div class="small-spinner"></div>Loading add-on...'},"load-timeout":{descriptionHtml:'<div class="small-spinner"></div>Add-on is not responding. Wait or <a href="#" class="ap-btn-cancel">cancel</a>?'},"load-error":{descriptionHtml:"Add-on failed to load."}};return{createStatusMessages:s,showLoadingStatus:r,showloadTimeoutStatus:o,showLoadErrorStatus:a,showLoadedStatus:i}}),_AP.define("host/cookie",["_dollar","_rpc"],function(e,t){var n;return t.extend(function(){function e(e,t){if(!e||0===e.length)throw new Error("addon key must be defined on cookies");if(!t||0===t.length)throw new Error("Name must be defined");return e+"$$"+t}return n={internals:{saveCookie:function(t,n,i){AJS.Cookie.save(e(this.addonKey,t),n,i)},readCookie:function(t,n){var i=AJS.Cookie.read(e(this.addonKey,t));
"function"==typeof n&&n(i)},eraseCookie:function(t){AJS.Cookie.erase(e(this.addonKey,t))}}}}),n}),_AP.define("history/history",["_dollar","_uri"],function(e,t){function n(e){return void 0===e||null===e?"":e.toString().replace(new RegExp("^"+p),"")}function i(e){if(void 0===e||null===e)throw"You must supply text to prefix";return p+n(e)}function r(e,n){var r=new t.init(window.location.href),o=new t.init(window.location.href);return o.anchor(i(e)),o.anchor()!==r.anchor()?(d=o.anchor(),n?window.location.replace("#"+o.anchor()):window.location.assign("#"+o.anchor()),o.anchor()):void 0}function o(e){r(e)}function a(e){r(e,!0)}function s(e){history.go(e)}function u(e,n){var i=new t.init(e.newURL),r=new t.init(e.oldURL);i.anchor()!==r.anchor()&&d!==i.anchor()&&n(l(e)),d=null}function l(e){return{newURL:n(new t.init(e.newURL).anchor()),oldURL:n(new t.init(e.oldURL).anchor())}}function c(){var e=new t.init(window.location.href),i=n(e.anchor());return i}var d,p="!";return{pushState:o,replaceState:a,go:s,hashChange:u,getState:c}}),_AP.define("analytics/analytics",["_dollar"],function(e){function t(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()}function n(e,n){var i={};this.addonKey=e,this.moduleKey=n,this.iframePerformance={start:function(){i.startLoading=t()},end:function(){var s=t()-i.startLoading;a.track("iframe.performance.load",{addonKey:e,moduleKey:n,value:s>r?"x":Math.ceil(s/o)}),delete i.startLoading},timeout:function(){a.track("iframe.performance.timeout",{addonKey:e,moduleKey:n}),this.end()},cancel:function(){a.track("iframe.performance.cancel",{addonKey:e,moduleKey:n})}}}var i=["resize","init"],r=2e4,o=100,a=n.prototype;return a.getKey=function(){return this.addonKey+":"+this.moduleKey},a.track=function(e,t){var n="connect.addon."+e;if(AJS.Analytics)AJS.Analytics.triggerPrivacyPolicySafeEvent(n,t);else{if(!AJS.trigger)return!1;AJS.trigger("analyticsEvent",{name:n,data:t})}return!0},a.trackBridgeMethod=function(t){return-1!==e.inArray(t,i)?!1:void this.track("bridge.invokemethod",{name:t,addonKey:this.addonKey,moduleKey:this.moduleKey})},{get:function(e,t){return new n(e,t)}}}),_AP.define("dialog/button",["_dollar"],function(e){function t(t){this.$el=e("<button />").text(t.text).addClass("aui-button aui-button-"+t.type).addClass(t.additionalClasses),this.isEnabled=function(){return!("true"===this.$el.attr("aria-disabled"))},this.setEnabled=function(e){return t.noDisable===!0?!1:(this.$el.attr("aria-disabled",!e),!0)},this.setEnabled(!0),this.click=function(e){e?this.$el.bind("ra.dialog.click",e):this.dispatch(!0)},this.dispatch=function(e){var n=e?"done":"fail";t.actions&&t.actions[n]&&t.actions[n]()},this.setText=function(e){e&&this.$el.text(e)}}return{submit:function(e){return new t({type:"primary",text:"Submit",additionalClasses:"ap-dialog-submit",actions:e})},cancel:function(e){return new t({type:"link",text:"Cancel",noDisable:!0,additionalClasses:"ap-dialog-cancel",actions:e})}}}),_AP.define("dialog/main",["_dollar","_uri","host/_status_helper","dialog/button"],function(e,t,n,i){function r(t,n){var i=e(aui.dialog.dialog2Chrome({id:t.id,titleId:t.titleId,size:t.size,extraClasses:["ap-aui-dialog2","ap-aui-dialog2-chromeless"],removeOnHide:!0}));return i.append(n),i}function o(t,n){function i(e){e.isEnabled()&&e.$el.trigger("ra.dialog.click",e.dispatch)}var r=e(aui.dialog.dialog2({id:t.id,titleText:t.header,titleId:t.titleId,size:t.size,extraClasses:["ap-aui-dialog2"],removeOnHide:!0,footerActionContent:!0}));return f.submit.setText(t.submitText),f.cancel.setText(t.cancelText),r.find(".aui-dialog2-footer-actions").empty().append(f.submit.$el,f.cancel.$el),r.find(".aui-dialog2-content").append(n),n.data("ra.dialog.buttons",f),e.each(f,function(e,t){t.$el.click(function(){i(t)})}),r}function a(e,t){e.append('<div id="embedded-'+t.ns+'" class="ap-dialog-container" />')}function s(e,t){if("string"==typeof e){var n=e.indexOf("%")===e.length-1;e=parseInt(e,10),n&&(e=e/100*t)}return e}function u(){l&&(l.trigger("ra.iframe.destroy").removeData("ra.dialog.buttons").unbind(),l=null),c.hide()}var l,c,d,p=e(window),h=0,f={submit:i.submit({done:u}),cancel:i.cancel({done:u})};return{id:d,getButton:function(e){var t=l.data("ra.dialog.buttons");return e?t[e]:t},create:function(t,i){var d,f={width:"50%",height:"50%"},g=t.id||"ap-dialog-"+(h+=1),m=e.extend({id:g},f,t,{dlg:1});m.w=s(m.width,p.width()),m.h=s(m.height,p.height()),l=e("<div />").addClass("ap-servlet-placeholder").attr("id","ap-"+t.ns).bind("ra.dialog.close",u),d=t.chrome?o(m,l):r(m,l),t.size?(m.w="100%",m.h="100%"):AJS.layer(d).changeSize(m.w,m.h),c=AJS.dialog2(d),c.on("hide",u),a(l,m),i!==!1&&l.append(n.createStatusMessages()),t.src&&_AP.create(m),c.show()},close:u}}),_AP.define("dialog/dialog-factory",["_dollar","dialog/main","host/content"],function(e,t,n){return function(i,r,o){var a,s,u={key:i.moduleKey},l=e.extend({dlg:1},i.uiParams);return t.create({id:i.id,ns:i.moduleKey||i.key,chrome:r.chrome||i.chrome,header:r.header,width:r.width,height:r.height,size:r.size,submitText:r.submitText,cancelText:r.cancelText},!1),s=e(".ap-dialog-container"),a=i.url?n.getIframeHtmlForUrl(i.key,i.url,o,l):n.getIframeHtmlForKey(i.key,o,u,l),a.done(function(t){var n=e(t);n.addClass("ap-dialog-container"),s.replaceWith(n)}).fail(function(t,n,i){var r=e("<p class='title' />").text("Unable to load add-on content. Please try again later.");s.html("<div class='aui-message error ap-aui-message'></div>"),s.find(".error").append(r);var o=n+(i?": "+i.toString():"");s.find(".error").text(o),AJS.log(o)}),t}}),_AP.require(["dialog/main","host/content","_uri","dialog/dialog-factory"],function(e,t,n,i){AJS.toInit(function(r){var o="click",a=".ap-dialog",s=function(o,a){var s=t.getOptionsForWebItem(a.bindTo),u=o.match(/\/servlet\/atlassian\-connect\/([\w-]+)\/([\w-]+)/);if(u){var l={key:u[1],moduleKey:u[2],chrome:!0};return void i(l,a)}r.extend(a,s),a.src=o;var c=new n.init(o);a.ns||(a.ns=c.getQueryParamValue("xdm_c").replace("channel-","")),a.container||(a.container=a.ns),(void 0===a.chrome||""===a.chrome)&&(a.chrome=!0),e.create(a)};t.eventHandler(o,a,s)})}),_AP.define("inline-dialog",["_dollar","inline-dialog/simple"],function(){function e(e){return e.closest(".contents").data("inlineDialog")}function t(t){e(t).show()}function n(e,t,n){e.closest(".contents").css({width:t,height:n}),i(e)}function i(t){e(t).refresh()}function r(t){e(t).hide()}return{showInlineDialog:t,resizeInlineDialog:n,hideInlineDialog:r}}),_AP.require(["inline-dialog/simple","_dollar","host/content"],function(e,t,n){var i=".ap-inline-dialog";AJS.toInit(function(t){var r="click mouseover mouseout",o=function(i,r,o){var a=n.getOptionsForWebItem(r.bindTo);t.extend(r,a),("true"===r.onHover||"click"===o)&&e(i,r).show()};n.eventHandler(r,i,o)})}),_AP.define("inline-dialog/simple",["_dollar","host/_status_helper","host/_util"],function(e,t,n){return function(i,r){var o;if(r.bindTo&&r.bindTo.jquery){var a=r.bindTo.hasClass("ap-inline-dialog")?r.bindTo:r.bindTo.closest(".ap-inline-dialog"),s=a.attr("id");if(s){var u=function(e,n,a){return r.w=r.w||r.width,r.h=r.h||r.height,r.ns||(r.ns=s),r.container=r.ns,r.src=r.url=r.url||i,e.data("inlineDialog",o),e.find("iframe").length||(e.attr("id","ap-"+r.ns),e.append('<div id="embedded-'+r.ns+'" />'),e.append(t.createStatusMessages()),_AP.create(r)),a(),!1},l="ap-inline-dialog-content-"+s;return o=e("#inline-dialog-"+n.escapeSelector(l)),0===o.length&&(o=AJS.InlineDialog(r.bindTo,l,u,r)),{id:o.attr("id"),show:function(){o.show()},hide:function(){o.hide()}}}}}}),_AP.define("messages/main",["_dollar"],function(e){function t(e){return 0==e.search(/^ap\-message\-[0-9]+$/)}function n(){var t=e("#"+r);return t.length<1&&(t=e('<div id="'+r+'" />').appendTo("body")),t}function i(e){var t,n,i={},r=["closeable","fadeout","delay","duration","id"];for(t in r)n=r[t],n in e&&(i[n]=e[n]);return i}var r="ac-message-container",o=["generic","error","warning","success","info","hint"];return{showMessage:function(r,a,s,u){var l=n();if(u=i(u),e.extend(u,{title:a,body:AJS.escapeHtml(s)}),e.inArray(r,o)<0)throw"Invalid message type. Must be: "+o.join(", ");t(u.id)&&(AJS.messages[r](l,u),l.css("margin-left","-"+l.innerWidth()/2+"px"))},clearMessage:function(n){t(n)&&e("#"+n).remove()}}}),_AP.define("messages-rpc",["_dollar","messages/main","_rpc"],function(e,t,n){n.extend(function(){return{internals:{showMessage:function(e,n,i,r){return t.showMessage(e,n,i,r)},clearMessage:function(e){return t.clearMessage(e)}}}})}),e._AP=_AP}.apply(e,arguments)})}(this),function(e,t){"function"==typeof define&&define.amd?define("django_connect/connect-views",["jquery","./host"],function(n){return t(n,e._AP)}):e.DjangoConnect=e.DjangoConnect||t(e.jQuery,e._AP)}(this,function(e,t){return{init:function(){function n(e,t){var n=new RegExp("[\\?&]"+t+"=([^&#]*)").exec(e);return n?n[1]||"":""}e(".ap-container").each(function(){var i=e(this).data("source"),r=e(this).data("width"),o=e(this).data("height"),a=n(i,"xdm_c").replace(/^channel-/,""),s={ns:a,key:e(this).data("key"),dlg:e(this).data("dlg"),general:e(this).data("general"),src:i};r&&(s.w=r),o&&(s.h=o),e(this).attr("id","ap-"+a),e(this).find(".ap-content").attr("id","embedded-"+a),t.require("host/main",function(e){e(s)})})}}}),define("components/connect/views/connect-views",["utils/ready","django_connect/connect-views"],function(e,t){e(t.init)}),define("components/connect/index",["jquery","on-ready","components/connect/views/connection-list","components/confirm-dialog","components/connect/views/connect-views"],function(e,t,n,i){return t(function(){var t=e("#connection-table"),r=new n({el:t}),o=window.location.search,a={};if(o&&(o=o.substring(1),_.forEach(o.split("&"),function(e){var t=e.indexOf("=");-1!=t?a[e.substring(0,t)]=e.substring(t+1):a[e]=!0}),a.url)){var s=decodeURIComponent(a.url),u="Add connection to add-on defined by {}?".format(s);i({title:gettext("Add connection"),content:u}).done(function(){r.submitUrl(s)})}})}),define("feedback",["jquery"],function(e){return function(t){var n=e(t);n.length&&(e.ajax({url:"https://bitbucket.atlassian.net/s/d41d8cd98f00b204e9800998ecf8427e/en_US-w19h2v-1988229788/6253/229/1.4.7/_/download/batch/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs/com.atlassian.jira.collector.plugin.jira-issue-collector-plugin:issuecollector-embededjs.js?collectorId=4ced2b8c",type:"get",cache:!0,dataType:"script"}),window.ATL_JQ_PAGE_PROPS={triggerFunction:function(n){e(t).click(function(e){e.preventDefault(),n()})}})}}),define("data/base-url",["jquery"],function(e){var t=e(document.body).attr("data-base-url");return t}),define("data/switches",[],function(){function e(e){return e.replace(/-\w/g,function(e){return e[1].toUpperCase()})}for(var t,n=document.body.attributes,i=/^data-switch-(.*)/,r={},o=0;o<n.length;o++)t=i.exec(n[o].name),t&&(r[e(t[1])]=!0);return r}),define("utils/delay",[],function(){return function(e,t){return"function"==typeof e&&(t=e,e=0),window.setTimeout(t,e)}}),define("utils/invite-helper",["bitbucket","jquery"],function(e,t){return{repo:{send:e.send_invitation},general:{send:e.send_general_invitation},getErrorMessages:function(e,n){var i,r="There was a problem processing your request.";return i=e?"{!esc} has already been invited.".format(e):"That person has already been invited",t.extend({400:"Please enter a valid email address.",409:i,500:r,other:r},n||{})}}}),define("components/invite-dialog",["aui","jquery","utils/delay","utils/invite-helper"],function(e,t,n,i){return function(r,o,a,s){s=s||{};var u,l=r.find('input[type="email"]'),c=new e.Dialog({width:600,height:"auto",id:o,closeOnOutsideClick:!0}),d=r.find(".error");return c.addHeader(gettext("Send an invitation")),c.addPanel(gettext("Invite"),r,"panel-body"),r.show(),c.addButton(gettext("Send"),function(){r.submit()},"aui-button aui-style"),c.addCancel(gettext("Cancel"),function(e){e.hide()}),u=c.getCurrentPanel().page.button[0].item,l.on("keyup input propertychange",function(){var e=t.trim(l.val());e?u.prop("disabled",!1).attr("aria-disabled",!1):u.prop("disabled",!0).attr("aria-disabled",!0)}),r.submit(function(o){o.preventDefault();var p=t.trim(l.val());if(p&&!u.attr("disabled")){var h=i.getErrorMessages(p,s.messages);u.prop("disabled",!0).attr("aria-disabled",!0);var f=n(200,function(){u.addClass("disabled loading")});d.addClass("hidden");var g={complete:function(){clearTimeout(f),u.prop("disabled",!1).removeClass("disabled loading").attr("aria-disabled",!1)},success:function(t,n,i){if(200===i.status){c.hide();var r=gettext("Invitation sent to %(email)s");e.messages.success({body:interpolate(r,{email:p},!0)})}},error:function(e,t){var n;n="timeout"!==t?h[e.status]||h.other:gettext("There was a problem connecting to the server."),d.removeClass("hidden").find(".message").text(n)}};a(p,r,g)}}),e.bind("show.dialog",function(e,t){t.dialog.id==o&&(r.find(".error").addClass("hidden"),l.val(""),u.prop("disabled",!0).attr("aria-disabled",!0))}),{show:function(){c.show()},hide:function(){c.hide()}}}}),define("repo/history",["jquery","underscore","data/current-user","utils/api-helper","jquery-plugins/jquery.cookie"],function(e,t,n,i){var r="recently-viewed-repos_"+n.id,o="repo-history:"+n.id,a=5,s=3e5;return{addRepository:function(i){if(i&&n.isAuthenticated){var s,u=i.id,l=e.cookie(r),c=l?l.split(","):[],d=t.indexOf(c,""+u);if(0===d)return;~d&&c.splice(d,1),s=[u].concat(c.slice(0,a-1)).join(","),e.cookie(r,s,{path:"/",expires:1e6}),window.localStorage&&window.localStorage.removeItem(o)}},fetch:function(){var t=new e.Deferred,n=window.localStorage&&window.localStorage.getItem(o),r=(new Date).getTime();if(n)try{if(n=JSON.parse(n),r-n.timestamp<s)return t.resolve(n),t}catch(u){}return e.ajax({cache:!1,type:"get",url:i.toString("user","repositories","overview",{max:a}),dataType:"json"}).success(function(e){e.timestamp=r,e.hasViewed=!!e.viewed.length,e.hasUpdated=!!e.updated.length,e.hasRepositories=e.hasViewed||e.hasUpdated,window.localStorage&&window.localStorage.setItem(o,JSON.stringify(e)),t.resolve(e)}),t}}}),define("utils/event-tracking-helper",["utils/gaq-push"],function(e){return function(t){return function(n,i){var r=["atl._trackEvent",t,n];i&&r.push(i),e(r)}}}),define("components/header",["jquery","underscore","aui","feedback","data/base-url","data/current-repo","data/current-user","data/switches","components/invite-dialog","repo/history","utils/api-helper","utils/exists","utils/event-tracking-helper","utils/gaq-push","utils/invite-helper","utils/mustache","utils/preferences"],function(e,t,n,i,r,o,a,s,u,l,c,d,p,h,f,g,m){function v(t){var n=e("#teams-dropdown"),i=e("#inbox-unread-count"),o=e("#teams-dropdown-trigger");o.length||(o=e("#user-dropdown-trigger")),o.one("mouseover",function(){t.teams.length&&n.html(g.toHtml("team-dropdown-template",{teams:t.teams})).removeClass("hidden")}),0===t.teams.length&&e(".grow1153-should-show").length>0&&(e("#teams-dropdown-trigger").trigger("aui-button-invoke"),m.set("grow1153-shown",!0));var a=e("#plan-upgrade").length;if(t.global_too_many_users.length&&!a){var u,l=t.global_too_many_users[0],c=gettext('It\'s time for <strong>%(username)s</strong> to upgrade to the next user level &mdash; committers currently have read-only access. <a href="%(upgrade_url)s">Upgrade or manage users</a>.');u=s.inAppPayments?"{}/account/user/{!esc}/plans-and-billing/":"{}/account/user/{!esc}/plan-upgrade/",b.addClass("has-message"),b.find(".message").html(interpolate(c,{username:l,upgrade_url:u.format(r,l)},!0))}i.text("("+t.unread_notifications+")")}var y=p("Page Header");d("#repo-dropdown-recent",function(t){l.fetch().done(function(n){e("#repositories-dropdown-trigger").one("mouseover",function(){n.hasRepositories&&t.replaceWith(g.toHtml("repo-dropdown-template",n))})})}),e("#repo-create-cta").tooltip().on("click",function(){y("Create Repo CTA Clicked")}),d("#general-invite-dropdown",function(){var t,n,i=e(g.toHtml("general-invite-template")),r=function(e,n,i){f.general.send(e,{complete:i.complete,success:function(e,n,r){h(["atl._trackEvent","Share","General invite user",t]),i.success(e,n,r)},error:i.error})};e(document).on("click",".general-invite-link",function(o){o.preventDefault(),t=e(o.target).parent(".invite-users-box").length>0?"dashboard":"nav-link",n||(n=u(i,"invitation-dialog",r)),n.show()})});var b=e("#account-warning");return i("#give-feedback"),e("#sign-up-link").on("click",function(){h(["atl._trackEvent","Signup","Header"])}),a.isAuthenticated?(e("#header").on("click",".app-switcher-trigger",function(t){e(t.target).hasClass("active")&&y("App Switcher - Displayed")}),e("#app-switcher").on("click",".nav-link a",function(){y("App Switcher - App Link Clicked")}),e("#ondemand-trial").on("click",function(){y("App Switcher - Free Trial Clicked")}),e("#ondemand-learn-more").on("click",function(){y("App Switcher - Learn More Clicked")}),e("#logo").on("click",function(){y("Bitbucket Logo Clicked")}),e("#teams-dropdown-trigger").on("click",function(t){e(t.target).hasClass("active")&&y("Teams Dropdown - Displayed")}),e("#create-team-blank-slate").on("click",function(){y("Teams Dropdown - Create Clicked","No teams")}),e("#create-team-link").on("click",function(){y("Teams Dropdown - Create Clicked","Has teams")}),e("#teams-dropdown").on("click"," a.team-link",function(){y("Teams Dropdown - Team Clicked")}),e("#repositories-dropdown-trigger").on("click",function(t){e(t.target).hasClass("active")&&y("Repo Dropdown - Displayed")}),e("#create-repo-link").on("click",function(){y("Repo Dropdown - Create Clicked")}),e("#import-repo-link").on("click",function(){y("Repo Dropdown - Import Clicked")}),e("#repo-dropdown").on("click","a.repo-link",function(t){y("Repo Dropdown - Repo Clicked",e(t.target).hasClass("recently-viewed")?"Recently Viewed":"Recently Updated")}),e("#header-pastes-link").on("click",function(){y("Pastes Clicked")}),e("#paste-create-cta").on("click",function(){y("Create Paste CTA Clicked")}),e("#help-dropdown-trigger").on("click",function(t){e(t.target).hasClass("active")&&y("Help Dropdown - Displayed")}),e("#header-help-dropdown").on("click","a",function(t){y("Help Dropdown - Link Clicked",e(t.target).text().trim())}),e("#user-dropdown-trigger").on("click",function(t){e(t.target).hasClass("active")&&y("Account Dropdown - Displayed")}),e("#user-dropdown").on("click","a",function(t){var n=e(t.target).closest("a").text().replace(/\(.*\)/,"").trim();y("Account Dropdown - Link Clicked",n)}),e("#dashboard-dropdown-trigger").on("click",function(t){e(t.target).hasClass("active")&&y("Dashboard Dropdown - Displayed")}),e("#dashboard-overview-link").on("click",function(){y("Dashboard Dropdown - Repositories Clicked")}),e("#dashboard-prs-link").on("click",function(){y("Dashboard Dropdown - Pull Requests Clicked")}),e("#dashboard-issues-link").on("click",function(){y("Dashboard Dropdown - Issues Clicked")}),e.ajax({cache:!1,type:"GET",url:"/account/xhr/header_information/",dataType:"json",success:v,error:function(){},complete:function(){b.hasClass("has-message")&&b.slideDown(200,function(){var e=n.sidebar(".aui-sidebar");e.$el.length&&e.reflow()})}})):(new e.Deferred).reject(new Error("User not authenticated"))}),define("components/follow",["aui","jquery","utils/gaq-push","utils/mustache"],function(e,t,n,i){var r=function(e,n){var r=e.find(".text"),o=e.attr("href"),a=e.data("follow-text")||gettext("Follow"),s=e.data("unfollow-text")||gettext("Following"),u=e.data("template");if(r.length||(r=e),u){var l=t(i.toHtml(u,{isFollowing:n,url:o}));return e.replaceWith(l),l}return n?(e.addClass("following"),r.text(s)):(e.removeClass("following"),r.text(a)),e};t(document).on("toggle-follow","a.follow, button.follow",function(e,n){var i=t(e.target).closest("a.follow,button.follow");i=r(i,n.isNowFollowing),i.trigger("follow:"+n.type,n.isNowFollowing)}),t(document).on("click","a.follow,button.follow",function(e){e.preventDefault();var i=t(e.target).closest("a.follow,button.follow"),o=i.attr("href")||i.data("url"),a=i.data("restful"),s=i.hasClass("following"),u="POST";i.attr("aria-disabled",!0),i=r(i,!s),a&&(u=s?"DELETE":"POST"),t.ajax({url:o,type:u,dataType:"json",success:function(e){var t=void 0===e.following?e.is_watching:e.following,r=e.type;if(void 0===t)return window.location.pathname=o;var a={repo:["atl._trackEvent","Share","Follow Repo"],user:["atl._trackEvent","Share","Follow User"],pullrequest:["atl._trackEvent","Notifications","Watch Pull Request"],issue:["atl._trackEvent","Notifications","Watch Issue"],commit:["atl._trackEvent","Notifications","Watch Commit"],paste:["atl._trackEvent","Notifications","Watch Paste"]};i.trigger("follow:"+r,t),t&&n(["atl._trackPageview","/"+r+"/follow"],a[r])},error:function(){r(i)},complete:function(){i.removeAttr("aria-disabled")}})})}),define("components/follow-list",["jquery","on-ready","components/follow"],function(e,t){return t(function(){var t=e(".pullrequest-list, .issues-list, .repo-list");t.on("click","a.follow",function(t){var n,i=e(t.target),r=i.closest(".iterable-item").find(".title, .text").text(),o=/#(\d+):/.exec(r),a=o?o[1]:null,s=!i.hasClass("following"),u=i.data("type"),l=a?u+" #"+a:"this "+u;s?(n=gettext("You are now watching %(item)s."),AJS.messages.info({body:interpolate(n,{item:l},!0)})):(n=gettext("You are no longer watching %(item)s."),AJS.messages.info({body:interpolate(n,{item:l},!0)}))})})}),define("components/footer",["aui","jquery","utils/exists"],function(e,t,n){n("#footer",function(){e.InlineDialog(t("#meta-info"),"metaInfo",function(e,n,i){return e.css({padding:"20px",width:"150px"}).html(t("#meta-info-content").html()),i(),!1},{gravity:"s"}),t(".footer-body a").tooltip({aria:!0,gravity:"s",delayIn:200})})}),function(e,t){if("function"==typeof define&&define.amd)define("backbone.wreqr",["backbone","underscore"],function(e,n){return t(e,n)});else if("undefined"!=typeof exports){var n=require("backbone"),i=require("underscore");module.exports=t(n,i)}else t(e.Backbone,e._)}(this,function(e,t){var n=e.Wreqr,i=e.Wreqr={};return e.Wreqr.VERSION="1.3.1",e.Wreqr.noConflict=function(){return e.Wreqr=n,this},i.Handlers=function(e,t){var n=function(e){this.options=e,this._wreqrHandlers={},t.isFunction(this.initialize)&&this.initialize(e)};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events,{setHandlers:function(e){t.each(e,function(e,n){var i=null;t.isObject(e)&&!t.isFunction(e)&&(i=e.context,e=e.callback),this.setHandler(n,e,i)},this)},setHandler:function(e,t,n){var i={callback:t,context:n};this._wreqrHandlers[e]=i,this.trigger("handler:add",e,t,n)},hasHandler:function(e){return!!this._wreqrHandlers[e]},getHandler:function(e){var t=this._wreqrHandlers[e];if(t)return function(){var e=Array.prototype.slice.apply(arguments);return t.callback.apply(t.context,e)}},removeHandler:function(e){delete this._wreqrHandlers[e]},removeAllHandlers:function(){this._wreqrHandlers={}}}),n}(e,t),i.CommandStorage=function(){var n=function(e){this.options=e,this._commands={},t.isFunction(this.initialize)&&this.initialize(e)};return t.extend(n.prototype,e.Events,{getCommands:function(e){var t=this._commands[e];return t||(t={command:e,instances:[]},this._commands[e]=t),t},addCommand:function(e,t){var n=this.getCommands(e);n.instances.push(t)},clearCommands:function(e){var t=this.getCommands(e);t.instances=[]}}),n}(),i.Commands=function(e){return e.Handlers.extend({storageType:e.CommandStorage,constructor:function(t){this.options=t||{},this._initializeStorage(this.options),this.on("handler:add",this._executeCommands,this);var n=Array.prototype.slice.call(arguments);e.Handlers.prototype.constructor.apply(this,n)},execute:function(e,t){e=arguments[0],t=Array.prototype.slice.call(arguments,1),this.hasHandler(e)?this.getHandler(e).apply(this,t):this.storage.addCommand(e,t)},_executeCommands:function(e,n,i){var r=this.storage.getCommands(e);t.each(r.instances,function(e){n.apply(i,e)}),this.storage.clearCommands(e)},_initializeStorage:function(e){var n,i=e.storageType||this.storageType;n=t.isFunction(i)?new i:i,this.storage=n}})}(i),i.RequestResponse=function(e){return e.Handlers.extend({request:function(){var e=arguments[0],t=Array.prototype.slice.call(arguments,1);return this.hasHandler(e)?this.getHandler(e).apply(this,t):void 0}})}(i),i.EventAggregator=function(e,t){var n=function(){};return n.extend=e.Model.extend,t.extend(n.prototype,e.Events),n}(e,t),i.Channel=function(){var n=function(t){this.vent=new e.Wreqr.EventAggregator,this.reqres=new e.Wreqr.RequestResponse,this.commands=new e.Wreqr.Commands,this.channelName=t};return t.extend(n.prototype,{reset:function(){return this.vent.off(),this.vent.stopListening(),this.reqres.removeAllHandlers(),this.commands.removeAllHandlers(),this},connectEvents:function(e,t){return this._connect("vent",e,t),this},connectCommands:function(e,t){return this._connect("commands",e,t),this},connectRequests:function(e,t){return this._connect("reqres",e,t),this},_connect:function(e,n,i){if(n){i=i||this;var r="vent"===e?"on":"setHandler";t.each(n,function(n,o){this[e][r](o,t.bind(n,i))},this)}}}),n}(i),i.radio=function(e){var n=function(){this._channels={},this.vent={},this.commands={},this.reqres={},this._proxyMethods()};t.extend(n.prototype,{channel:function(e){if(!e)throw new Error("Channel must receive a name");return this._getChannel(e)},_getChannel:function(t){var n=this._channels[t];return n||(n=new e.Channel(t),this._channels[t]=n),n},_proxyMethods:function(){t.each(["vent","commands","reqres"],function(e){t.each(i[e],function(t){this[e][t]=r(this,e,t)},this)},this)}});var i={vent:["on","off","trigger","once","stopListening","listenTo","listenToOnce"],commands:["execute","setHandler","setHandlers","removeHandler","removeAllHandlers"],reqres:["request","setHandler","setHandlers","removeHandler","removeAllHandlers"]},r=function(e,t,n){return function(i){var r=e._getChannel(i)[t],o=Array.prototype.slice.call(arguments,1);return r[n].apply(r,o)}};return new n}(i),e.Wreqr}),define("js/global/events",["backbone.wreqr"],function(e){return e.radio.channel("global")}),define("components/hipchat-integration-dialog",["aui","jquery","on-ready","js/global/events","utils/preferences","utils/loading"],function(e,t,n,i,r){return n(function(n){var o=e.dialog2(n),a=n.attr("data-descriptor-url"),s=n.attr("data-connections-url"),u=n.attr("data-create-repo-url"),l=n.attr("data-admin-url"),c=n.data("repository"),d=n.data("show-success-message");t("#dialog-install-button").on("click",function(n){{var r=new t.Deferred;t.ajax({url:s,type:"POST",data:{url:a},dataType:"json"}).done(function(){if(i.vent.trigger("hipchatIntegration:installed"),d){var t=gettext("Manage integrations"),n=gettext("Create your first repository");message=c?gettext('<a href="{}">{}</a>').format(l,t):gettext('<a href="{}">{}</a> &middot; <a href="{}">{}</a>').format(u,n,l,t),e.messages.success({title:gettext("HipChat integration complete"),body:message}),o.hide(),r.resolve()}else window.location.reload()}).fail(function(t){var n=JSON.parse(t.responseText).error.message;e.messages.error({title:gettext("There was a problem installing the integration"),body:n}),r.resolve()})}t(n.target).loading(r)}),t("#dialog-cancel-button").on("click",function(){o.hide()}),r.get("show-hipchat-dialog").done(function(e){e&&(o.show(),r.delete("show-hipchat-dialog"))})})}),define("components/hipchat-integration-trigger",["aui","jquery","on-ready"],function(e,t,n){return n(function(t){var n=e.dialog2("#hipchat-integration-dialog");t.on("click",function(){n.show()})})}),function(e){var t,n,i="0.4.2",r="hasOwnProperty",o=/[\.\/]/,a=/\s*,\s*/,s="*",u=function(e,t){return e-t},l={n:{}},c=function(){for(var e=0,t=this.length;t>e;e++)if("undefined"!=typeof this[e])return this[e]},d=function(){for(var e=this.length;--e;)if("undefined"!=typeof this[e])return this[e]},p=function(e,i){e=String(e);var r,o=n,a=Array.prototype.slice.call(arguments,2),s=p.listeners(e),l=0,h=[],f={},g=[],m=t;g.firstDefined=c,g.lastDefined=d,t=e,n=0;for(var v=0,y=s.length;y>v;v++)"zIndex"in s[v]&&(h.push(s[v].zIndex),s[v].zIndex<0&&(f[s[v].zIndex]=s[v]));for(h.sort(u);h[l]<0;)if(r=f[h[l++]],g.push(r.apply(i,a)),n)return n=o,g;for(v=0;y>v;v++)if(r=s[v],"zIndex"in r)if(r.zIndex==h[l]){if(g.push(r.apply(i,a)),n)break;do if(l++,r=f[h[l]],r&&g.push(r.apply(i,a)),n)break;while(r)}else f[r.zIndex]=r;else if(g.push(r.apply(i,a)),n)break;return n=o,t=m,g};p._events=l,p.listeners=function(e){var t,n,i,r,a,u,c,d,p=e.split(o),h=l,f=[h],g=[];for(r=0,a=p.length;a>r;r++){for(d=[],u=0,c=f.length;c>u;u++)for(h=f[u].n,n=[h[p[r]],h[s]],i=2;i--;)t=n[i],t&&(d.push(t),g=g.concat(t.f||[]));f=d}return g},p.on=function(e,t){if(e=String(e),"function"!=typeof t)return function(){};for(var n=e.split(a),i=0,r=n.length;r>i;i++)!function(e){for(var n,i=e.split(o),r=l,a=0,s=i.length;s>a;a++)r=r.n,r=r.hasOwnProperty(i[a])&&r[i[a]]||(r[i[a]]={n:{}});for(r.f=r.f||[],a=0,s=r.f.length;s>a;a++)if(r.f[a]==t){n=!0;break}!n&&r.f.push(t)}(n[i]);return function(e){+e==+e&&(t.zIndex=+e)}},p.f=function(e){var t=[].slice.call(arguments,1);return function(){p.apply(null,[e,null].concat(t).concat([].slice.call(arguments,0)))}},p.stop=function(){n=1},p.nt=function(e){return e?new RegExp("(?:\\.|\\/|^)"+e+"(?:\\.|\\/|$)").test(t):t},p.nts=function(){return t.split(o)},p.off=p.unbind=function(e,t){if(!e)return void(p._events=l={n:{}});var n=e.split(a);if(n.length>1)for(var i=0,u=n.length;u>i;i++)p.off(n[i],t);else{n=e.split(o);var c,d,h,i,u,f,g,m=[l];for(i=0,u=n.length;u>i;i++)for(f=0;f<m.length;f+=h.length-2){if(h=[f,1],c=m[f].n,n[i]!=s)c[n[i]]&&h.push(c[n[i]]);else for(d in c)c[r](d)&&h.push(c[d]);m.splice.apply(m,h)}for(i=0,u=m.length;u>i;i++)for(c=m[i];c.n;){if(t){if(c.f){for(f=0,g=c.f.length;g>f;f++)if(c.f[f]==t){c.f.splice(f,1);break}!c.f.length&&delete c.f}for(d in c.n)if(c.n[r](d)&&c.n[d].f){var v=c.n[d].f;for(f=0,g=v.length;g>f;f++)if(v[f]==t){v.splice(f,1);break}!v.length&&delete c.n[d].f}}else{delete c.f;for(d in c.n)c.n[r](d)&&c.n[d].f&&delete c.n[d].f}c=c.n}}},p.once=function(e,t){var n=function(){return p.unbind(e,n),t.apply(this,arguments)};return p.on(e,n)},p.version=i,p.toString=function(){return"You are running Eve "+i},"undefined"!=typeof module&&module.exports?module.exports=p:"function"==typeof define&&define.amd?define("eve",[],function(){return p}):e.eve=p}(this),define("eevee",["backbone","underscore","eve"],function(e,t,n){var i={trigger:function(){return n.apply(this,arguments)},on:function(e,t){return n.on(e,t)},off:function(e,t){return n.off(e,t)},once:function(e,t){return n.once(e,t)},listeners:function(e){return n.listeners(e)},name:function(e){return n.nt(e)},chain:function(){return this.chainWith(this)},chainWith:function(e){var t=[],n={on:function(){var n=arguments;return e.on.apply(e,n),t.push(function(){e.off.apply(e,n)}),this},destroy:function(){for(var e=0;e<t.length;e++)t[e]();t=[]}};return n},stop:function(){return n.stop()},createEventMixin:function(n,r){return r=r||{},t.extend({},e.Events,{trigger:function(t){var o=e.Events.trigger.apply(this,arguments);return r.localOnly||i.trigger.apply(i,[n+"/"+t,this].concat(Array.prototype.slice.call(arguments,1))),o},retriggerFrom:function(e){function t(e,t){return e.on(t,this.trigger.bind(this,t))}var n=Array.prototype.slice.call(arguments,1);return n.reduce(t.bind(this),i.chainWith(e))}})},createLocalEventMixin:function(){return this.createEventMixin(null,{localOnly:!0})},addEventMixin:function(e,n,i){t.extend(e,this.createEventMixin(n,i))},addLocalEventMixin:function(e){t.extend(e,this.createLocalEventMixin())}};return i}),function(e){define("fd-slider",[],function(){return function(){var t=function(){function e(e){function t(e){e=!!e,e!=Xt&&(Xt=e,F(I()))}function n(){if(l&&"select"!=ct){var e=k(ut);(e.min!=dt||e.max!=pt||e.step!=mt)&&(dt=+e.min,pt=+e.max,ht=dt,ft=pt,mt=+e.step,gt=Math.abs(pt-dt),vt=2*mt,bt=Math.ceil(gt/mt),Xt=!1,G(dt,pt))}}function u(e){if(!lt||e){try{tt(ot,-1),m(ot,"focus",x),m(ot,"blur",S),c?m(ot,"keypress",$):(m(ot,"keydown",$),m(ot,"keypress",C)),m(nt,"mouseover",T),m(nt,"mouseout",E),m(nt,"mousedown",N),m(nt,"touchstart",N),i&&(window.addEventListener&&!window.devicePixelRatio?window.removeEventListener("DOMMouseScroll",A,!1):(m(document,"mousewheel",A),m(window,"mousewheel",A)))
}catch(t){}w(it,"fd-slider-focused"),w(it,"fd-slider-active"),b(it,"fd-slider-disabled"),nt.setAttribute("aria-disabled",!0),ut.disabled=lt=!0,clearTimeout(Rt),e||f("disable")}}function d(e){(lt||e)&&(tt(ot,0),g(ot,"focus",x),g(ot,"blur",S),c?g(ot,"keypress",$):(g(ot,"keydown",$),g(ot,"keypress",C)),g(nt,"touchstart",N),g(nt,"mousedown",N),g(nt,"mouseover",T),g(nt,"mouseout",E),w(it,"fd-slider-disabled"),nt.setAttribute("aria-disabled",!1),ut.disabled=lt=Yt=!1,e||f("enable"))}function p(){clearTimeout(Rt),rt=st=ot=nt=it=Rt=null,f("destroy"),Ct=null}function h(){q();try{var e=nt.offsetWidth,t=nt.offsetHeight,n=ot.offsetWidth,i=ot.offsetHeight,r=(st.offsetHeight,st.offsetWidth,At?t-i:e-n);Qt=r/bt,Wt=Math.max(wt?W(U(ht)):Math.abs((ht-dt)/mt)*Qt,0),Ut=Math.min(wt?W(U(ft)):Math.abs((ft-dt)/mt)*Qt,Math.floor(At?t-i:e-n)),Pt=e,Ot=t,F(Et?I():"select"==ct?ut.selectedIndex:parseFloat(ut.value),!1)}catch(o){}f("redraw")}function f(e){if($t){if(e.match(/^(blur|focus|change)$/i)){var t;if("undefined"!=typeof document.createEvent)t=document.createEvent("HTMLEvents"),t.initEvent(e,!0,!0),ut.dispatchEvent(t);else if("undefined"!=typeof document.createEventObject)try{t=document.createEventObject(),ut.fireEvent("on"+e.toLowerCase(),t)}catch(n){}}}else if(Ct.hasOwnProperty(e))for(var i,r={userSet:Xt,disabled:lt,elem:ut,value:"select"==ct?ut.options[ut.selectedIndex].value:ut.value},o=0;i=Ct[e][o];o++)i.call(ut,r)}function x(){return b(it,"fd-slider-focused"),a.onfocus&&(Xt=!0,F(I())),i&&(g(window,"DOMMouseScroll",A),g(document,"mousewheel",A),c||g(window,"mousewheel",A)),f("focus"),!0}function S(){w(it,"fd-slider-focused"),i&&(m(document,"mousewheel",A),m(window,"DOMMouseScroll",A),c||m(window,"mousewheel",A)),qt=!0,f("blur")}function A(e){if(qt){e=e||window.event;var t,n=0;e.wheelDelta?(n=e.wheelDelta/120,c&&window.opera.version()<9.2&&(n=-n)):e.detail&&(n=-e.detail/3),At&&(n=-n),n&&(t=I(),t+=0>n?-mt:mt,Xt=!0,F(L(t))),y(e)}}function C(e){return e=e||window.event,e.keyCode>=33&&e.keyCode<=40||!qt||45==e.keyCode||46==e.keyCode?v(e):!0}function $(e){if(!qt)return!0;e=e||window.event;var t,n=null!==e.keyCode?e.keyCode:e.charCode;return 33>n||n>40&&45!=n&&46!=n?!0:(t=I(),37==n||40==n||46==n||34==n?t-=e.ctrlKey||34==n?+vt:+mt:39==n||38==n||45==n||33==n?t+=e.ctrlKey||33==n?+vt:+mt:35==n?t=ft:36==n&&(t=ht),Xt=!0,F(L(t)),f("update"),void y(e))}function T(){b(it,"fd-slider-hover")}function E(){w(it,"fd-slider-hover")}function N(e){e=e||window.event,y(e);var t;if(e.target?t=e.target:e.srcElement&&(t=e.srcElement),t&&3==t.nodeType&&(t=t.parentNode),e.touches){if(e.targetTouches&&1!=e.targetTouches.length)return!1;e=e.touches[0],Yt=!0}if(clearTimeout(Rt),Rt=null,qt=!1,Xt=!0,-1!=t.className.search("fd-slider-handle"))Gt=At?e.clientY:e.clientX,Vt=parseInt(At?ot.offsetTop:ot.offsetLeft)||0,D(e),Yt?(g(document,"touchmove",D),g(document,"touchend",H),m(nt,"mousedown",N)):(g(document,"mousemove",D),g(document,"mouseup",H)),b(it,"fd-slider-active"),b(document.body,"fd-slider-drag-"+(At?"vertical":"horizontal")),f("dragstart");else{q();var n=0;e.pageX||e.pageY?n=At?e.pageY:e.pageX:(e.clientX||e.clientY)&&(n=At?e.clientY+document.body.scrollTop+document.documentElement.scrollTop:e.clientX+document.body.scrollLeft+document.documentElement.scrollLeft),n-=At?zt+Math.round(ot.offsetHeight/2):Bt+Math.round(ot.offsetWidth/2),n=B(n),"tween"==St?(b(it,"fd-slider-active"),P(n)):"timed"==St?(b(it,"fd-slider-active"),g(document,Yt?"touchend":"mouseup",j),Kt=n,O()):J(n)}return!1}function j(e){return e=e||window.event,y(e),m(document,Yt?"touchend":"mouseup",j),w(it,"fd-slider-active"),clearTimeout(Rt),Rt=null,qt=!0,!1}function H(e){return e=e||window.event,y(e),Yt?(m(document,"touchmove",D),m(document,"touchend",H)):(m(document,"mousemove",D),m(document,"mouseup",H)),qt=!0,w(document.body,"fd-slider-drag-"+(At?"vertical":"horizontal")),w(it,"fd-slider-active"),f("dragend"),!1}function D(e){if(e=e||window.event,y(e),e.touches){if(e.targetTouches&&1!=e.targetTouches.length)return!1;e=e.touches[0]}return J(B(Vt+(At?e.clientY-Gt:e.clientX-Gt))),!1}function R(e){var t=I();Xt=!0,t+=e*mt,F(L(t))}function q(){var e=0,t=0,n=nt;try{do e+=n.offsetLeft,t+=n.offsetTop;while(n=n.offsetParent)}catch(i){}Bt=e,zt=t}function O(){var e=parseInt(At?ot.offsetTop:ot.offsetLeft,10);e=Math.round(e>Kt?Math.max(Kt,Math.floor(e-Qt)):Math.min(Kt,Math.ceil(e+Qt))),J(B(e)),e!=Kt?Rt=setTimeout(O,bt>20?50:100):(qt=!0,w(it,"fd-slider-active"),f("finalise"))}function P(e){qt=!1,Mt=parseInt(e,10),It=parseInt(At?ot.offsetTop:ot.offsetLeft,10),Lt=Mt-It,Jt=20,Ft=0,Rt||(Rt=setTimeout(Zt,20))}function M(e){return isNaN(e)||""===e||"undefined"==typeof e?(Xt=!1,kt):e<Math.min(ht,ft)?(Xt=!1,Math.min(ht,ft)):e>Math.max(ht,ft)?(Xt=!1,Math.max(ht,ft)):(Xt=!0,e)}function I(){return L("input"==ct?parseFloat(ut.value):ut.selectedIndex)}function L(e){return isNaN(e)||""===e||"undefined"==typeof e?kt:Math.min(Math.max(e,Math.min(ht,ft)),Math.max(ht,ft))}function J(e){var t=L(wt?z(V(e)):At?pt-Math.round(e/Qt)*mt:dt+Math.round(e/Qt)*mt);ot.style[At?"top":"left"]=(e||0)+"px",Q(),K("select"==ct||1==mt?Math.round(t):t)}function F(e,t){var n,i=!1;"undefined"!=typeof e&&!isNaN(e)&&""!==e||"input"!=ct||Et?n=M(e):(n=kt,i=!0,Xt=!1),ot.style[At?"top":"left"]=(wt?W(U(n)):Math.round(At?(pt-n)/mt*Qt:(n-dt)/mt*Qt))+"px",Q(),typeof t!==!1&&K(i?"":n)}function B(e){if(wt)return Math.max(Math.min(Ut,e),Wt);var t=e%Qt;return t&&t>=Qt/2?e+=Qt-t:e-=t,e<Math.min(Math.abs(Wt),Math.abs(Ut))?e=Math.min(Math.abs(Wt),Math.abs(Ut)):e>Math.max(Math.abs(Wt),Math.abs(Ut))&&(e=Math.max(Math.abs(Wt),Math.abs(Ut))),Math.min(Math.max(e,0),Ut)}function z(e){var t,n=0,i=dt;for(var r in wt)wt.hasOwnProperty(r)&&(e>=n&&+r>=e&&(t=i+(e-n)*(+wt[r]-i)/(+r-n)),n=+r,i=+wt[r]);return t}function U(e){var t=0,n=dt,i=0;for(var r in wt)wt.hasOwnProperty(r)&&(e>=n&&e<=+wt[r]&&(i=t+(e-n)*(+r-t)/(+wt[r]-n)),t=+r,n=+wt[r]);return i}function W(e){return(nt[At?"offsetHeight":"offsetWidth"]-ot[At?"offsetHeight":"offsetWidth"])/100*e}function V(e){return e/((nt[At?"offsetHeight":"offsetWidth"]-nt[ot?"offsetHeight":"offsetWidth"])/100)}function K(e){if(f("update"),Xt?w(it,"fd-slider-no-value"):b(it,"fd-slider-no-value"),"select"==ct)try{if(e=parseInt(e,10),ut.selectedIndex===e)return void Y();ut.options[e].selected=!0}catch(t){}else{if(""===e||Dt||(e=(dt+Math.round((+e-dt)/mt)*mt).toFixed(yt)),ut.value===e)return void Y();ut.value=e}Y(),f("change")}function G(e,t){ht>ft?(e=Math.min(dt,Math.max(e,t)),t=Math.max(pt,Math.min(e,t)),ht=Math.max(e,t),ft=Math.min(e,t)):(e=Math.max(dt,Math.min(e,t)),t=Math.min(pt,Math.max(e,t)),ht=Math.min(e,t),ft=Math.max(e,t)),kt<Math.min(ht,ft)?kt=Math.min(ht,ft):kt>Math.max(ht,ft)&&(kt=Math.max(ht,ft)),ot.setAttribute("aria-valuemin",ht),ot.setAttribute("aria-valuemax",ft),M("input"==ct?parseFloat(ut.value):ut.selectedIndex),h()}function Q(){s||(At?at.style.height=Math.max(1,st.offsetHeight-ot.offsetTop)+"px":at.style.width=Math.max(1,ot.offsetLeft)+"px")}function X(){for(var e,t=!1,n=document.getElementsByTagName("label"),i=0;e=n[i];i++)if(e.htmlFor&&e.htmlFor==ut.id||e.getAttribute("for")==ut.id){t=e;break}return t&&!t.id&&(t.id=ut.id+"_label"),t}function Y(){var e="select"==ct?ut.options[ut.selectedIndex].value:ut.value,t=jt?jt(e):"select"==ct&&ut.options[ut.selectedIndex].text?ut.options[ut.selectedIndex].text:e;ot.setAttribute("aria-valuenow",e),ot.setAttribute("aria-valuetext",t)}function Z(){Xt=!0,Dt=Ht,F("input"==ct?parseFloat(ut.value):ut.selectedIndex),Y(),Dt=!1}function et(){"input"==ct?ut.value=ut.defaultValue:ut.selectedIndex=Tt,M("select"==ct?ut.options[ut.selectedIndex].value:ut.value),h(),Y()}function tt(e,t){e.setAttribute("tabIndex",t),e.tabIndex=t}var nt,it,rt,ot,at,st,ut=e.inp,lt=!1,ct=ut.tagName.toLowerCase(),dt=+e.min,pt=+e.max,ht=+e.min,ft=+e.max,gt=Math.abs(pt-dt),mt="select"==ct?1:+e.step,vt=e.maxStep?+e.maxStep:2*mt,yt=e.precision||0,bt=Math.ceil(gt/mt),wt=e.scale||!1,xt=!!e.hideInput,St=e.animation||"",At=!!e.vertical,Ct=e.callbacks||{},_t=e.classNames||"",$t=!!e.html5Shim,kt=dt>pt?dt:dt+(pt-dt)/2,Tt="select"==ct?ut.selectedIndex:ut.defaultValue||kt,Et=$t||!!e.forceValue,Nt=$t&&At&&"inpHeight"in e?e.inpHeight:!1,jt=!$t&&e.ariaFormat?e.ariaFormat:!1,Ht=!$t&&"select"!=ct&&"userSnap"in e?!!e.userSnap:!1,Dt=!1,Rt=null,qt=!0,Ot=("select"==ct?ut.selectedIndex:ut.value,0),Pt=0,Mt=0,It=0,Lt=0,Jt=0,Ft=0,Bt=0,zt=0,Ut=0,Wt=0,Vt=0,Kt=0,Gt=0,Qt=0,Xt=!1,Yt=!1;"input"==ct&&Et&&!ut.defaultValue&&(ut.defaultValue=I()),dt>pt&&(mt=-Math.abs(mt),vt=-Math.abs(vt)),wt&&(wt[100]=pt);var Zt=function(){Ft++;var e=Lt,t=20,n=Ft,i=It,r=Math.ceil(n==t?i+e:e*(-Math.pow(2,-10*n/t)+1)+i);J(n==t?Mt:r),n!=t?(f("move"),Rt=setTimeout(Zt,20)):(clearTimeout(Rt),Rt=null,qt=!0,w(it,"fd-slider-focused"),w(it,"fd-slider-active"),f("finalise"))};return function(){if($t||xt){b(ut,"fd-form-element-hidden");try{"range"!=ut.type&&"range"==_(ut,"type")&&"inline-block"==document.defaultView.getComputedStyle(ut,null).getPropertyValue("display")&&(ut.type="number")}catch(e){}}else g(ut,"change",Z);$t&&(ut.setAttribute("fd-range-enabled",1),ut.stepUp=function(e){R(e||1)},ut.stepDown=function(e){R(e||-1)},l&&g(ut,"object"==typeof ut.onpropertychange?"propertychange":"DOMAttrModified",n)),nt=document.createElement("span"),nt.className="fd-slider"+(At?"-vertical ":" ")+_t,nt.id="fd-slider-"+ut.id,At&&Nt&&(nt.style.height=Nt+"px"),it=document.createElement("span"),it.className="fd-slider-wrapper"+($t?"":" fd-slider-no-value"),rt=document.createElement("span"),rt.className="fd-slider-inner",st=document.createElement("span"),st.className="fd-slider-bar",r?ot=document.createElement("span"):(ot=document.createElement("a"),ot.setAttribute("href","#"),g(ot,"click",v)),tt(ot,0),ot.className="fd-slider-handle",ot.appendChild(document.createTextNode(String.fromCharCode(160))),it.appendChild(rt),s||(at=document.createElement("span"),at.className="fd-slider-range",it.appendChild(at)),it.appendChild(st),it.appendChild(ot),nt.appendChild(it),ut.parentNode.insertBefore(nt,ut),c&&(ot.unselectable="on",st.unselectable="on",rt.unselectable="on",nt.unselectable="on",it.unselectable="on",s||(at.unselectable="on")),nt.setAttribute("role","application"),ot.setAttribute("role","slider"),ot.setAttribute("aria-valuemin","select"==ct?ut.options[0].value:dt),ot.setAttribute("aria-valuemax","select"==ct?ut.options[ut.options.length-1].value:pt);var t=X();t&&(ot.setAttribute("aria-labelledby",t.id),ot.id="fd-slider-handle-"+ut.id,t.setAttribute("for",ot.id)),document.getElementById(o)&&ot.setAttribute("aria-describedby",o),1==ut.getAttribute("disabled")||"disabled"==ut.getAttribute("disabled")?u(!0):d(!0),a.onvalue&&(Xt=!0,M("input"==ct?parseFloat(ut.value):ut.selectedIndex)),ut.form&&g(ut.form,"reset",et),Y(),f("create"),h()}(),{onResize:function(){(nt.offsetHeight!=Ot||nt.offsetWidth!=Pt)&&h()},destroy:function(){p()},reset:function(){F("input"==ct?parseFloat(ut.value):ut.selectedIndex)},stepUp:function(e){R(Math.abs(e)||1)},stepDown:function(e){R(-Math.abs(e)||-1)},increment:function(e){R(e)},disable:function(){u()},enable:function(){d()},setRange:function(e,t){G(e,t)},getValueSet:function(){return!!Xt},setValueSet:function(e){t(e)},rescan:function(){n()},checkValue:function(){a.onvalue&&(Xt=!0,M("input"==ct?parseFloat(ut.value):ut.selectedIndex)),Y(),h()}}}var t={},n=0,i=!0,r=!0,o="fd-slider-describedby",a={onfocus:!0,onvalue:!0},s=!1,u="jump",l=!1,c="[object Opera]"===Object.prototype.toString.call(window.opera),d=/^([\-]{0,1}[0-9]+(\.[0-9]+){0,1})$/,p=/^([0-9]+(\.[0-9]+){0,1})$/,h=function(e){if("string"!=typeof e||""===e)return{};try{if("object"==typeof JSON&&"function"==typeof JSON.parse)return JSON.parse(e);if(/mousewheelenabled|fullaria|describedby|norangebar|html5animation|varsetrules/.test(e.toLowerCase())){var t=Function(["var document,top,self,window,parent,Number,Date,Object,Function,","Array,String,Math,RegExp,Image,ActiveXObject;","return (",e.replace(/<\!--.+-->/gim,"").replace(/\bfunction\b/g,"function-"),");"].join(""));return t()}}catch(n){}return{err:"Could not parse the JSON object"}},f=function(e){if("object"==typeof e)for(var t in e)switch(value=e[t],t.toLowerCase()){case"mousewheelenabled":i=!!value;break;case"fullaria":r=!!value;break;case"describedby":o=String(value);break;case"norangebar":s=!!value;break;case"html5animation":u=-1!=String(value).search(/^(jump|tween|timed)$/i)?String(value).toLowerCase():"jump";break;case"watchattributes":l=!!value;break;case"varsetrules":"onfocus"in value&&(a.onfocus=!!value.onfocus),"onvalue"in value&&(a.onvalue=!!value.onvalue)}},g=function(e,t,n){e.addEventListener?e.addEventListener(t,n,!0):e.attachEvent&&e.attachEvent("on"+t,n)},m=function(e,t,n){try{e.removeEventListener?e.removeEventListener(t,n,!0):e.detachEvent&&e.detachEvent("on"+t,n)}catch(i){}},v=function(e){return e=e||window.event,e.stopPropagation&&(e.stopPropagation(),e.preventDefault()),!1},y=function(e){return e=e||window.event,e.preventDefault?void e.preventDefault():void(e.returnValue=!1)},b=function(e,t){new RegExp("(^|\\s)"+t+"(\\s|$)").test(e.className)||(e.className+=(e.className?" ":"")+t)},w=function(e,t){e.className=t?e.className.replace(new RegExp("(^|\\s)"+t+"(\\s|$)")," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""):""},x=function(){var e={};for(var n in t)e[n]=t[n].getValueSet();return e},S=function(e,n){t[e].setValueSet(!!n)},A=function(e){return!!(e in t&&t.hasOwnProperty(e))},C=function(n){if(!n||!n.inp||!n.inp.tagName||-1==n.inp.tagName.search(/^input|select/i))return!1;if(n.html5Shim=!1,"select"==n.inp.tagName.toLowerCase()){if(n.inp.options.length<2)return!1;n.min=0,n.max=n.inp.options.length-1,n.step=1,n.precision=0,n.scale=!1,n.forceValue=!0}else{if(-1==String(n.inp.type).search(/^(text|range)$/i))return!1;n.min=n.min&&-1!=String(n.min).search(d)?+n.min:0,n.max=n.max&&-1!=String(n.max).search(d)?+n.max:100,n.step=n.step&&-1!=String(n.step).search(p)?n.step:1,n.precision=n.precision&&-1!=String(n.precision).search(/^[0-9]+$/)?n.precision:-1!=String(n.step).search(/\.([0-9]+)$/)?String(n.step).match(/\.([0-9]+)$/)[1].length:0,n.scale=n.scale||!1,n.forceValue="forceValue"in n?!!n.forceValue:!1,n.userSnap="userSnap"in n?!!n.userSnap:!1}return n.ariaFormat="ariaFormat"in n&&"function"==typeof n.ariaFormat?n.ariaFormat:!1,n.maxStep=n.maxStep&&-1!=String(n.maxStep).search(p)?+n.maxStep:2*+n.step,n.classNames=n.classNames||"",n.callbacks=n.callbacks||!1,T(n.inp.id),t[n.inp.id]=new e(n),!0},_=function(e,t){return e.getAttribute(t)||""},$=function(){for(var i,r,o,a=document.getElementsByTagName("input"),s=0;o=a[s];s++)if("input"==o.tagName.toLowerCase()&&_(o,"type")&&"range"==_(o,"type").toLowerCase()&&(_(o,"min")&&-1!=_(o,"min").search(d)||_(o,"max")&&-1!=_(o,"max").search(d)||_(o,"step")&&-1!=_(o,"step").search(/^(any|([0-9]+(\.[0-9]+){0,1}))$/i))){if(o.id&&document.getElementById("fd-slider-"+o.id))continue;o.id&&!document.getElementById("fd-slider-"+o.id)&&T(o.id),o.id||(o.id="fd-slider-form-elem-"+n++),i={inp:o,callbacks:[],animation:u,vertical:_(o,"data-fd-slider-vertical")?!0:o.offsetHeight>o.offsetWidth,classNames:_(o,"data-fd-slider-vertical"),html5Shim:!0},i.vertical&&!_(o,"data-fd-slider-vertical")&&(i.inpHeight=o.offsetHeight),r=k(o),i.min=r.min,i.max=r.max,i.step=r.step,i.precision=-1!=String(i.step).search(/\.([0-9]+)$/)?String(i.step).match(/\.([0-9]+)$/)[1].length:0,i.maxStep=2*i.step,T(i.inp.id),t[i.inp.id]=new e(i)}return!0},k=function(e){return{min:+(_(e,"min")||0),max:+(_(e,"max")||100),step:+(-1!=_(e,"step").search(p)?e.getAttribute("step"):1)}},T=function(e){return e in t&&t.hasOwnProperty(e)?(t[e].destroy(),delete t[e],!0):!1},E=function(){for(var e in t)t.hasOwnProperty(e)&&t[e].destroy();t=[]},N=function(){E(),t=null},j=function(){for(var e in t)t.hasOwnProperty(e)&&t[e].onResize()},H=function(){for(var e in t)t.hasOwnProperty(e)&&t[e].rescan()},D=function(){R(),$()},R=function(){m(window,"load",$)};return g(window,"load",$),g(window,"load",function(){setTimeout(function(){var e;for(e in t)t[e].checkValue()},0)}),g(window,"resize",j),g(window,"unload",N),function(){var e=document.getElementsByTagName("script"),t=h(String(e[e.length-1].innerHTML).replace(/[\n\r\s\t]+/g," ").replace(/^\s+/,"").replace(/\s+$/,""));"object"!=typeof t||"err"in t||f(t)}(),{rescanDocument:$,createSlider:function(e){return C(e)},onDomReady:function(){D()},destroyAll:function(){E()},destroySlider:function(e){return T(e)},redrawAll:function(){j()},addEvent:g,removeEvent:m,stopEvent:v,increment:function(e,n){return A(e)?void t[e].increment(n):!1},stepUp:function(e,n){return A(e)?void t[e].stepUp(Math.abs(n)||1):!1},stepDown:function(e,n){return A(e)?void t[e].stepDown(-Math.abs(n)||-1):!1},setRange:function(e,n,i){return A(e)?void t[e].setRange(n,i):!1},updateSlider:function(e){return A(e)?(t[e].onResize(),void t[e].reset()):!1},disable:function(e){return A(e)?void t[e].disable():!1},enable:function(e){return A(e)?void t[e].enable():!1},getValueSet:function(){return x()},setValueSet:function(e,t){return A(id)?void S(e,t):!1},setGlobalVariables:function(e){f(e)},removeOnload:function(){R()},rescanAttributes:H}}();return e.fdSlider=t}.apply(e,arguments)})}(this),function(e,t){var n="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";e.fn.imagesLoaded=function(i){function r(){var t=e(p),n=e(h);u&&(h.length?u.reject(c,t,n):u.resolve(c)),e.isFunction(i)&&i.call(s,c,t,n)}function o(e){a(e.target,"error"===e.type)}function a(t,i){t.src!==n&&-1===e.inArray(t,d)&&(d.push(t),i?h.push(t):p.push(t),e.data(t,"imagesLoaded",{isBroken:i,src:t.src}),l&&u.notifyWith(e(t),[i,c,e(p),e(h)]),c.length===d.length&&(setTimeout(r),c.unbind(".imagesLoaded",o)))}var s=this,u=e.isFunction(e.Deferred)?e.Deferred():0,l=e.isFunction(u.notify),c=s.find("img").add(s.filter("img")),d=[],p=[],h=[];return e.isPlainObject(i)&&e.each(i,function(e,t){"callback"===e?i=t:u&&u[e](t)}),c.length?c.bind("load.imagesLoaded error.imagesLoaded",o).each(function(i,r){var o=r.src,s=e.data(r,"imagesLoaded");return s&&s.src===o?void a(r,s.isBroken):r.complete&&r.naturalWidth!==t?void a(r,0===r.naturalWidth||0===r.naturalHeight):void((r.readyState||r.complete)&&(r.src=n,r.src=o))}):r(),u?u.promise(s):s}}(jQuery),define("imagesloaded",function(){}),define("image-differ",["eevee","fd-slider","imagesloaded","jquery"],function(e,t,n,i){function r(e){this._$container=e}function o(e,t){e.onchange=t,e.oninput=t}function a(e){e.onchange=null,e.oninput=null}function s(e){if(e.data("natural-size"))return i.Deferred().resolve(e.data("natural-size"));if(e[0].naturalWidth){var t={width:e[0].naturalWidth,height:e[0].naturalHeight};return e.data("natural-size",t),i.Deferred().resolve(t)}var n=new Image,r=i.Deferred(),o=!1,a=function(){if(!o){var t={width:n.width,height:n.height};e.data("natural-size",t),r.resolve(t),o=!0}};return n.onload=a,n.src=e[0].src,n.complete&&a(),r}function u(e,t){var n=e.data("margin_border_padding");return null==n&&(n=e.outerWidth(!0)-e.width(),e.data("margin_border_padding",n)),t-n}return r.modes={TWO_UP:"two-up",BLEND:"blend",SPLIT:"split"},Object.freeze&&Object.freeze(r.modes),r.prototype.init=function(){var e,t,n=this,o=this._$imgs=this._$container.find("img");this._$sinceImg=o.eq(0),this._$untilImg=o.eq(1),this._$untilRevision=this._$untilImg.parent(),this._$sinceRevision=this._$sinceImg.parent(),this._$revisions=this._$untilRevision.add(this._$sinceRevision),this._$untilRevisionLabel=n._$untilRevision.find("h5"),this._$sinceRevisionLabel=n._$sinceRevision.find("h5"),n.setMode(r.modes.TWO_UP);var a=i.Deferred();return o.imagesLoaded().always(function(){var r=s(n._$sinceImg).done(function(t){e=t}),o=s(n._$untilImg).done(function(e){t=e});i.when(r,o).done(function(){var n=e.width===t.width&&e.height===t.height,i=n&&e.width>0;a.resolve(i)}).fail(function(){a.reject()})}),a},r.prototype.destroy=function(){this._cleanOldMode(this._mode),this._mode=null},r.prototype.setMode=function(e){this._mode!==e&&(this._onDiffModeChanged(e,this._mode),this._mode=e)},r.prototype._cleanOldMode=function(e){switch(e){case r.modes.TWO_UP:this._cleanTwoUpDiff();break;case r.modes.BLEND:this._cleanBlendDiff();break;case r.modes.SPLIT:this._cleanSplitDiff()}},r.prototype._onDiffModeChanged=function(t,n){switch(this._$container.removeClass("two-up blend split").addClass(t),this._cleanOldMode(n),t){case r.modes.TWO_UP:this._setupTwoUpDiff();break;case r.modes.BLEND:this._setupBlendDiff();break;case r.modes.SPLIT:this._setupSplitDiff()}e.trigger("imageDiffer.modeChanged",null,t,n)},r.prototype._cleanTwoUpDiff=i.noop,r.prototype._setupTwoUpDiff=i.noop,r.prototype._cleanBlendDiff=function(){var e=this._$container.children(".opacity-slider-container"),t=e.find("input");e.remove(),this._$untilImg.css("opacity",""),a(t[0])},r.prototype._setupBlendDiff=function(){var e=this,n=i('<input type="range" min="0" max="1" step="0.01" value="1" />');this._$container.children(".image-diff-toolbar").after(i('<div class="opacity-slider-container" />').append(n)),t.onDomReady(),o(n[0],function(){e._$untilImg.css("opacity",parseFloat(i(this).val()))})},r.prototype._cleanSplitDiff=function(){this._$imgs.css("width","").css("height",""),this._$revisions.css("width",""),this._$untilRevision.css("margin-left",""),this._$untilRevisionLabel.add(this._$sinceRevisionLabel).css("margin-left","").css("margin-right",""),this._$untilImg.unwrap(),this._$untilRevisionImageContainer.remove(),delete this._$untilRevisionImageContainer,this._$revisions.unwrap(),this._$splitContainer.remove(),delete this._$splitContainer,this._onResize&&(e.off("window.resize.debounced",this._onResize),delete this._onResize)},r.prototype._setSplitDiffElementProperties=function(e,t,n){var i=u(this._$container,this._$container.parent().width()),r=u(t,i),o=u(this._$sinceRevision,r),a=u(this._$sinceImg,o),s=Math.min(n.width,a);this._$imgs.width(s),this._$imgs.height(Math.floor(s/n.width*n.height)),e.height(this._$imgs.outerHeight(!0));var l=s+(o-a);this._$revisions.width(l),this._$untilRevision.css("margin-left",-l)},r.prototype._setupSplitDiff=function(){var t=this;return s(this._$imgs).done(function(n){t._$untilImg.wrap('<div class="image-container" />'),t._$revisions.wrapAll('<div class="split-container" />'),t._$untilRevisionImageContainer=t._$untilImg.parent(),t._$splitContainer=t._$container.find(".split-container");var i;t._onResize=function(){t._setSplitDiffElementProperties(t._$untilRevisionImageContainer,t._$splitContainer,n),i=t._$sinceImg.outerWidth(!0)},t._onResize(),e.on("window.resize.debounced",t._onResize),n.width<50?(t._$untilRevisionLabel.css("margin-left","-50px"),t._$sinceRevisionLabel.css("margin-right","-50px")):n.width<100&&(t._$untilRevisionLabel.css("margin-left",-n.width),t._$sinceRevisionLabel.css("margin-right",-n.width));var r;t._$splitContainer.on("mouseenter",function(){r=t._$untilRevision.offset(),t._$revisions.on("mousemove",o)}),t._$splitContainer.on("mouseleave",function(){t._$revisions.off("mousemove",o)});var o=function(e){t._$untilRevisionImageContainer.css("width",Math.min(e.pageX-r.left,i))}})},r}),define("image-diff-toolbar",["aui","eevee","jquery"],function(e,t,n){function i(e,t,i){i=i||{},e=n(e),this._$toolbar=n(t),this._$toggle=this._$toolbar.find(".image-diff-toggle"),i.append&&e.append(this._$toolbar)}return t.addLocalEventMixin(i.prototype),i.prototype.init=function(t){function i(e){r.trigger("modeChanged",e,r._mode),r._mode=e}var r=this,o=this._$toggle.find(".image-diff-two-up"),a=this._$toggle.find(".image-diff-blend"),s=this._$toggle.find(".image-diff-split");s.attr("aria-disabled",!t).prop("disabled",!t),t&&s.attr("title",e.I18n.getText("imageDiffer.imageDiffToolbar.button.split.tooltip")),a.attr("aria-disabled",!t).prop("disabled",!t),t&&a.attr("title",e.I18n.getText("imageDiffer.imageDiffToolbar.button.blend.tooltip"));var u=this._$toggle.find(".aui-button"),l=function(e){return function(t){var r=n(this);"true"!==r.attr("aria-disabled")&&"true"!==r.attr("aria-pressed")&&(u.attr("aria-pressed","false"),r.attr("aria-pressed","true"),i(e)),t.preventDefault()}};o.click(l("two-up")),a.click(l("blend")),s.click(l("split")),o.add(a).add(s).tooltip({gravity:"s"}),i("two-up")},i.prototype.getMode=function(){return this._mode},i.prototype.destroy=function(){this._$toolbar&&(this._$toolbar.remove(),this._$toolbar=null),this._$toggle=null},i}),define("components/image-diff",["on-ready","image-differ","image-diff-toolbar"],function(e,t,n){return e(function(e){var i=e.find(".image-diff-toolbar"),r=new t(e),o=new n(e,i);r.init().done(function(e){o.init(e)}),o.on("modeChanged",function(e){r.setMode(e)})})}),define("components/typeahead/cursores",[],function(){function e(e,t,n){this.leftRegex=new RegExp((e||/(?:^|\s)(\S+)/).source+"$"),this.rightRegex=new RegExp("^"+(t||/(\S*)/).source),this.maxLength=n>0?n:128}return e.VERSION="0.2",e.startsWith=function(t){return new e(new RegExp(["(?:^|\\s)(",t,"[^",t,"\\s]*)"].join("")))},e.prototype.token=function(e,t){var n;"string"==typeof e?n=e:(n=e.value,t=e.selectionStart);var i=n.slice(0,t),r=n.slice(t),o=i.slice(-this.maxLength),a=r.slice(0,this.maxLength),s=o.match(this.leftRegex),u=s?s[1]:"",l=(s=a.match(this.rightRegex))?s[1]:"";return{value:u?u+l:"",prefix:u,suffix:u?l:"",toString:function(){return this.value}}},e.prototype.replace=function(e,t,n){var i;"string"==typeof e?i=e:(i=e.value,n=t,t=e.selectionStart);var r=this.token(i,t);if(i&&!r.value)return"string"==typeof e?i:!1;var o=i.slice(0,t),a=i.slice(t),s=[o.slice(0,o.length-r.prefix.length),n,a.slice(r.suffix.length)].join("");if("string"==typeof e)return s;var u=n.length-r.prefix.length;return e.value=s,e.setSelectionRange(t+u,t+u),!0},e}),define("components/typeahead/typeahead-view",["backbone","utils/mustache"],function(e,t){return e.View.extend({tagName:"a",className:"interactive",extraClassNames:"",initialize:function(e){this.query=e.query||"",e.templateName&&(this.template=_.partial(t.toHtml,e.templateName))},render:function(){return this.$el.children().length?this:(this.$el.html(this.template(this.model.toHighlightedJSON(this.query))),this.$el.addClass(_.result(this,"extraClassNames")),this)},setQuery:function(e){var t=this.model.toHighlightedJSON(e);return _.each(_.result(this.model,"highlightAttrs"),function(e){var n=e.replace("_","-");this.$(".{}".format(n)).html(t[e])},this),this.query=e,this.render()}})}),define("components/typeahead/typeahead-suggestions",["jquery","backbone","underscore","components/typeahead/typeahead-view"],function(e,t,n,i){return t.View.extend({tagName:"div",className:"bb-typeahead-suggestions aui-dropdown2 aui-style-default",extraClassNames:function(){return this.extraClasses},viewClass:function(){return this.suggestionView},callToActionHtml:function(){var t=e("<li>").addClass("bb-typeahead-item");return t.text(this.callToActionText),t},noResultHtml:function(t){var n=e("<li>").addClass("bb-typeahead-item");return t.searching?(n.addClass("bb-typeahead-searching"),n.text(interpolate(this.searchingText,{query:t.query},!0))):n.text(interpolate(this.noResultsText,{query:t.query},!0)),n},initialize:function(t){this.$ul=e("<ul></ul>"),this.$el.append(this.$ul),this.$el.attr("id",n.uniqueId("bb-typeahead-suggestions-")),this.$el.css("z-index",5e3),this.views={},this.models=[],this.index=0,t=t||{},this.suggestionView=t.suggestionView||i,this.callToActionText=t.callToActionText||gettext("Begin typing to search"),this.noResultsText=t.noResultsText||gettext("Found no matches for %(query)s"),this.searchingText=t.searchingText||gettext("Searching for %(query)s"),this.extraClasses=t.extraClasses||"",this.suggestionTemplate=t.suggestionTemplate||"mention-result"},render:function(t){if(!t)return this;var i=this;return i.models=t.results,i.$ul.removeClass("bb-typeahead-suggestions-none").children("li").detach().find("a").removeClass("active"),i.$el.addClass(n.result(i,"extraClassNames")),i.models.length?n.each(i.models,function(n,r){var o,a=n.get(n.idAttribute);(o=i.views[a])?o.setQuery(t.query):o=i.views[a]=new(i.viewClass())({model:n,query:t.query,templateName:i.suggestionTemplate}),o.render(),o.$el.attr("data-model-id",n.get(n.idAttribute)),0===r&&o.$el.addClass("active"),i.$ul.append(e('<li class="bb-typeahead-item">').append(o.el))}):i.$ul.addClass("bb-typeahead-suggestions-none").append(t.query?this.noResultHtml({query:t.query,searching:t.searching}):this.callToActionHtml({})),i},count:function(){return this.models.length},activeModel:function(){var e=this.$ul.find("a.active").attr("data-model-id");return e?n.find(this.models,function(t){return t.get(t.idAttribute)===e}):null},replacementText:function(){var e=this.activeModel();return e?e.replacementText():null}})}),define("components/typeahead/typeahead-completion",["backbone","underscore","components/typeahead/cursores","components/typeahead/typeahead-suggestions"],function(e,t,n,i){return e.View.extend({BACKSPACE:8,DELETE:46,ESC:27,ENTER:13,LEFT:37,RIGHT:39,TAB:9,className:"bb-typeahead-input",boundEventTypes:["keydown","keypress","focus","paste","cut"],events:function(){var e={keydown:"onKeyDown",keypress:"onKeyPress",focus:"onFocus",paste:"onChange",cut:"onChange"},n={};return t.each(this.boundEventTypes,function(t){n[t+" ."+this.className]=e[t]}.bind(this)),n},initialize:function(e){if(this.hide=t.has(e,"hide")?!!e.hide:!0,this.focus=t.has(e,"focus")?!!e.focus:!0,this.source=e.source,this.source.on("respond",this.respond,this),e.results&&e.results.cid)this.results=e.results;else{var n=e.results||i;this.results=new n({suggestionView:e.resultView,callToActionText:e.callToActionText,extraClasses:e.resultsClasses,suggestionTemplate:e.resultTemplate,noResultsText:e.noResultsText,searchingText:e.searchingText})}this.results.$el.on("aui-dropdown2-show aui-dropdown2-hide",t.bind(this.onToggleDropdownVisibility,this)).appendTo("body"),this.results.$el.delegate(".bb-typeahead-item","click",t.bind(this.complete,this)),this.showingSuggestions=!1,this.currentEl=null,this.escPressed=!1,this.searchingTimeout=null,this.onFocusTimeout=null,this.queueQuery=t.debounce(this.queueQuery,e.queryDelay||600)},respond:function(e){var n=this,i=e.query||"",r=!!i&&n.source.activeQueryCount>0;n.hide&&i&&!e.results.length?n.showingSuggestions&&!r&&n.hideSuggestions(n.currentEl):(n.showSuggestions(n.currentEl),n.results.render(t.extend(e,{searching:r}))),clearTimeout(n.searchingTimeout),r&&!e.results.length?n.searchingTimeout=setTimeout(function(){$(n.currentEl).addClass("bb-typeahead-searching")},300):$(n.currentEl).removeClass("bb-typeahead-searching")},onKeyDown:function(e){if(this.currentEl=e.target,e.which===this.BACKSPACE||e.which===this.DELETE)return void this.queueQuery(e.target);if(this.showingSuggestions)switch(e.which){case this.LEFT:case this.RIGHT:this.queueQuery(e.target),e.stopPropagation();break;case this.ESC:e.preventDefault(),e.stopPropagation(),this.escPressed=!0,this.hideSuggestions(e.target);break;case this.TAB:1===this.results.count()&&(e.preventDefault(),e.stopPropagation(),this.complete(e))}},shouldStopSuggesting:function(){return!1},shouldSuppressSuggestions:function(){return this.escPressed},stopSuppressingSuggestions:function(){this.escPressed=!1},isWithinCodeBlock:function(){return!1},onKeyPress:function(e){if(0!==e.which&&e.which!==this.ENTER){var t=e.target;this.currentEl=t,this.shouldStopSuggesting(e)?this.hideSuggestions(t):this.queueQuery(t)}},onChange:function(e){this.currentEl=e.target,this.queueQuery(this.currentEl)},onFocus:function(e){var t=this,n=e.target;t.currentEl=n,null===this.onFocusTimeout&&(this.onFocusTimeout=setTimeout(function(){t.focus&&!n.value&&"false"!==$(n).attr("data-bb-typeahead-focus")&&($(n).attr("data-bb-typeahead-focus","false"),t.queueQuery(n)),t.onFocusTimeout=null},200))},hideSuggestions:function(e){this.results.$el.is(":visible")&&$(e).trigger("aui-button-invoke"),this.setShowingState(e,!1)},cursor:function(){return new n(/(.*)/,/(.*)/)},queryTerm:function(e){return this.cursor().token(e).value},queueQuery:function(e){var t=this;setTimeout(function(){!e.value&&t.shouldSuppressSuggestions()&&t.stopSuppressingSuggestions();
var n=t.queryTerm(e);null!==n?t.source.query(n):t.hideSuggestions(e)},0)},onToggleDropdownVisibility:function(e){this.setShowingState(this.currentEl,"aui-dropdown2-show"===e.type)},setShowingState:function(e,t){this.showingSuggestions=t,t||$(e).removeClass("aui-dropdown2-trigger")},showSuggestions:function(e){this.isWithinCodeBlock(e)||this.shouldSuppressSuggestions()||(this.setShowingState(e,!0),this.results.$el.is(":visible")||$(e).attr({"aria-owns":this.results.$el.attr("id"),"aria-haspopup":"true"}).addClass("aui-dropdown2-trigger").trigger("aui-button-invoke"))},complete:function(e){var t="click"===e.type?this.currentEl:e.target,n=this.results.replacementText();null!==n&&(this.replaceText(t,n),"click"===e.type&&$.browser.mozilla&&$(t).focus()),this.hideSuggestions(t)},replaceText:function(e,t){var n=$(e);$.browser.msie&&parseInt($.browser.version,10)<10&&n.focus(),this.cursor().replace(e,t),n.trigger("typeahead-completed")}})}),define("components/typeahead/mention-completion",["backbone","underscore","components/typeahead/cursores","components/typeahead/typeahead-completion","jquery-plugins/jquery.caretposition"],function(e,t,n,i){return i.extend({className:"bb-mention-input",boundEventTypes:["keydown","keypress"],initialize:function(e){i.prototype.initialize.call(this,t.extend({hide:!1,focus:!1},e)),this.atSignCursor=n.startsWith("@"),this.results.$el.on("aui-dropdown2-show",t.bind(this.setAbsolutePosition,this)).addClass("aui-dropdown2-tailed")},cursor:function(){return this.atSignCursor},isWithinCodeBlock:function(){return!1},shouldStopSuggesting:function(e){if(" "!==String.fromCharCode(e.which))return!1;var t=this.results.models.length,n=this.cursor().token(e.target).prefix.slice(1),i=0===this.source.activeQueryCount,r=0===t,o=1===t&&this.results.replacementText()===n;return i&&(r||o)},onKeyPress:function(e){i.prototype.onKeyPress.call(this,e);var t=String.fromCharCode(e.which);this.isWithinCodeBlock(e.target)||!this.shouldSuppressSuggestions()||this.showingSuggestions||"@"!==t||i.prototype.stopSuppressingSuggestions.call(this)},setAbsolutePosition:function(){var e=this.currentEl,t=$(e),n=e.selectionStart,i=this.cursor().token(e);e.setSelectionRange(n-i.prefix.length,n-i.prefix.length);var r=t.getCaretPosition();e.setSelectionRange(n-(i.prefix.length-1),n-(i.prefix.length-1));var o=t.getCaretPosition();e.setSelectionRange(n,n);var a=t.offset(),s=(o.left-r.left)/2,u=20,l=8,c=2;this.results.$el.css({top:a.top+o.top+c,left:a.left+r.left+s-(u+l),"min-width":350,"max-width":350})},queryTerm:function(e){var t=this.cursor().token(e);return t.value?t.value.slice(1):null},replaceText:function(e,t){var n=e.selectionStart===e.value.length?" ":"";i.prototype.replaceText.call(this,e,"@"+t+n)}})}),define("components/mentions/mention-autocomplete",["underscore","components/typeahead/cursores","components/typeahead/mention-completion"],function(e,t,n){return n.extend({initialize:function(e){this.usernameCursor=new t(/(?:^|\s)(@[^@.,?!'"\s]*)/,/([^.,?!'"\s]+)/),this.relaxedCursor=new t(/(?:^|\s)(@$|@[^@\s][^@\n]*)/,/([^.,?!'"\s]+)/),n.prototype.initialize.call(this,e)},cursor:function(){return this.showingSuggestions?this.relaxedCursor:this.usernameCursor},isWithinCodeBlock:function(e){var t=e.value.substring(0,e.selectionEnd),n=e.value.substring(0,e.selectionEnd).split("\n"),i=n[n.length-1],r=t.split("```").length%2===0,o=0===i.indexOf("    ");return r||o}})}),define("components/typeahead/typeahead-model",["backbone","underscore"],function(e,t){return e.Model.extend({replacementText:function(){return this.get(this.idAttribute)},highlightAttrs:function(){return[this.idAttribute]},toHighlightedJSON:function(e){var n=this.toJSON();return t.each(t.result(this,"highlightAttrs"),function(t){n[t]&&(n[t]=this.highlightSubstring(n[t],e))},this),n},highlight:function(e,n){return n=n.toLowerCase(),0===n.length||0!==e.toLowerCase().indexOf(n)?t.escape(n):["<em>",t.escape(e.slice(0,n.length)),"</em>",t.escape(e.slice(n.length))].join("")},highlightSubstring:function(e,n){n=n.toLowerCase();var i=this.splitWords(e);if(!i.length||!n)return t.escape(e);for(var r=[];i.length;){if(0===i.join("").toLowerCase().indexOf(n)){r.push(this.highlight(i.join(""),n));break}r.push(t.escape(i.shift(),n))}return r.join("")},splitWordsRegExp:/\s+/,splitWords:function(e){for(var t=[],n=e.split(this.splitWordsRegExp);n.length;){var i=n.shift();if(i){var r=e.indexOf(i);r>0&&t.push(e.slice(0,r)),t.push(i),e=e.slice(r+i.length)}}return e&&t.push(e),t},startsWith:function(e,t){var n=this.splitWords(e.toLowerCase());if(!n.length)return!1;for(/\s+/.test(n[0])&&n.shift(),t=t.toLowerCase();n.length;){if(0===n.join("").indexOf(t))return!0;n=n.slice(2)}return!1},matches:function(e){return e?this.startsWith(this.replacementText(),e):!0}},{matcher:function(e,t){var n=this;return e.matches(t,n)}})}),define("components/mentions/typeahead-user-model",["underscore","components/typeahead/typeahead-model"],function(e,t){return t.extend({idAttribute:"username",highlightAttrs:["display_name","username"],sortKeys:function(e){var t=this.get("display_name")||this.get("username");return[!(e.toLowerCase()===this.get("username").toLowerCase()),this.get("is_team"),!this.get("is_teammate"),!(this.usernameMatch(e)||this.displayNameMatch(e)),t.toLowerCase(),this.get("username").toLowerCase()]},usernameMatch:function(e){return this.startsWith(this.get("username"),e)},displayNameMatch:function(e){var t=this.get("display_name");return t&&this.startsWith(t,e)},keywordMatch:function(t){return e.some(this.get("keywords"),function(e){return this.startsWith(e,t)},this)},matches:function(e,t){var n=t.getQueryData(e),i=n.include_teams||!this.get("is_team");if(!e)return i;var r=this.usernameMatch(e),o=this.displayNameMatch(e),a=this.keywordMatch(e);return i&&(r||o||a)}})}),function(e){define("aui-plugins/progressive-data-set",["aui","backbone"],function(){return function(){AJS.ProgressiveDataSet=Backbone.Collection.extend({initialize:function(e,t){t||(t={}),t.matcher&&(this.matcher=t.matcher),t.model&&(this.model=t.model),this._idAttribute=(new this.model).idAttribute,this._maxResults=t.maxResults||5,this._queryData=t.queryData||{},this._queryParamKey=t.queryParamKey||"q",this._queryEndpoint=t.queryEndpoint||"",this.value=null,this.queryCache={},this.activeQueryCount=0,_.bindAll(this,"query","respond")},url:function(){return this._queryEndpoint},query:function(e){var t,n;this.value=e,n=this.getFilteredResults(e),this.respond(e,n),e&&this._queryEndpoint&&!this.hasQueryCache(e)&&this.shouldGetMoreResults(n)&&(t=this.fetch(e),this.activeQueryCount++,this.trigger("activity",{activity:!0}),t.always(_.bind(function(){this.activeQueryCount--,this.trigger("activity",{activity:!!this.activeQueryCount})},this)),t.done(_.bind(function(t,n,i){this.addQueryCache(e,t,i)},this)),t.done(_.bind(function(){e=this.value,n=this.getFilteredResults(e),this.respond(e,n)},this)))},getQueryData:function(e){var t=_.isFunction(this._queryData)?this._queryData(e):this._queryData,n=_.extend({},t);return n[this._queryParamKey]=e,n},fetch:function(e){var t=this.getQueryData(e),n={add:!0,update:!0,remove:!1,data:t},i=Backbone.Collection.prototype.fetch.call(this,n);return i},respond:function(e,t){return this.trigger("respond",{query:e,results:t}),t},matcher:function(){},getFilteredResults:function(e){var t=[];return e?(t=this.filter(function(t){return!!this.matcher(t,e)},this),this._maxResults&&(t=_.first(t,this._maxResults)),t):t},addQueryCache:function(e,t,n){var i=this.queryCache,r=this.parse(t,n);i[e]=_.pluck(r,this._idAttribute)},hasQueryCache:function(e){return this.queryCache.hasOwnProperty(e)},findQueryCache:function(e){return this.queryCache[e]},shouldGetMoreResults:function(e){return e.length<this._maxResults},setMaxResults:function(e){this._maxResults=e,this.value&&this.respond(this.value,this.getFilteredResults(this.value))}})}.apply(e,arguments)})}(this),function(e){define("aui-plugins/truncating-progressive-data-set",["aui-plugins/progressive-data-set"],function(){return function(){AJS.TruncatingProgressiveDataSet=AJS.ProgressiveDataSet.extend({initialize:function(e,t){this._maxResponseSize=t.maxResponseSize,AJS.ProgressiveDataSet.prototype.initialize.call(this,e,t)},shouldGetMoreResults:function(){var e=this.findQueryResponse(this.value);return!e||e.length===this._maxResponseSize},findQueryResponse:function(e){for(;e;){var t=this.findQueryCache(e);if(t)return t;e=e.substr(0,e.length-1)}return null}})}.apply(e,arguments)})}(this),define("utils/progressive-data-set",["jquery","underscore","aui","aui-plugins/truncating-progressive-data-set"],function(e,t,n){return n.TruncatingProgressiveDataSet.extend({initialize:function(e,t){t.maxResponseSize=t.maxResponseSize||20,this.allowMultipleActiveQueries=!!t.allowMultipleActiveQueries,this.queries=[],n.TruncatingProgressiveDataSet.prototype.initialize.call(this,e,t)},getFilteredResults:function(e){var n=this.filter(function(t){return this.matcher(t,e)},this);return n=t.sortBy(n,function(t){return t.sortKeys(e)}),n=t.first(n,this._maxResults)},query:function(t){var i=e.when.apply(this,this.queries);i.then(function(){this.queries=[]}.bind(this)),this.allowMultipleActiveQueries?n.TruncatingProgressiveDataSet.prototype.query.call(this,t):i.then(function(){n.TruncatingProgressiveDataSet.prototype.query.call(this,t)}.bind(this))},fetch:function(e){var t=n.TruncatingProgressiveDataSet.prototype.fetch.call(this,e);return this.queries.push(t),t}})}),define("components/typeahead/typeahead-data-set",["utils/progressive-data-set"],function(e){return e.extend({hasQueryCache:function(t){return t.length<3||e.prototype.hasQueryCache.call(this,t)}})}),define("components/mentions/user-data-set",["components/typeahead/typeahead-data-set"],function(e){return e.extend({getFilteredResults:function(t){var n=e.prototype.getFilteredResults.call(this,t),i=_.filter(n,function(e){return e.get("is_teammate")}),r=_.filter(n,function(e){return!e.get("is_teammate")&&t.toLowerCase()===e.get("username").toLowerCase()}),o=_.filter(n,function(e){return!e.get("is_teammate")&&t.toLowerCase()!==e.get("username").toLowerCase()});return i.concat(r).concat(o)}})}),define("components/mentions/user-typeahead",["underscore","components/typeahead/typeahead-completion"],function(e,t){return t.extend({className:"bb-user-typeahead"})}),define("components/mentions/user-and-team-typeahead",["components/mentions/user-typeahead"],function(e){return e.extend({className:"bb-user-team-typeahead"})}),define("components/mentions/user-suggestions",["underscore","utils/mustache","components/typeahead/typeahead-suggestions"],function(e,t,n){return n.extend({extraClassNames:function(){return n.prototype.extraClassNames.call(this)+" bb-user-suggestions"},callToActionHtml:e.bind(t.toHtml,null,"mention-call-to-action"),noResultHtml:function(e){return e.query.length>=3?n.prototype.noResultHtml.call(this,e):this.callToActionHtml(e)}})}),define("components/mentions/typeahead-user",["underscore","components/typeahead/typeahead-view"],function(e,t){return t.extend({extraClassNames:function(){return this.model.get("is_team")?"bb-typeahead-team":"bb-typeahead-user"}})}),define("components/mentions/index",["on-ready","underscore","components/mentions/mention-autocomplete","components/mentions/typeahead-user-model","components/mentions/user-data-set","components/mentions/user-and-team-typeahead","components/mentions/user-typeahead","components/mentions/user-suggestions","components/mentions/typeahead-user","utils/exists","data/current-user"],function(e,t,n,i,r,o,a,s,u,l,c){function d(){var e=[];c.id&&(e=t.map($("#recently-mentioned-"+c.id).data("value"),function(e){return new i(e)}));var l=$("body")[0],d={model:i,matcher:i.matcher,queryEndpoint:"/xhr/user-mention",queryParamKey:"term",maxResponseSize:20},p=new r(e,d),h=new r(e,t.extend({},d,{model:i,matcher:i.matcher})),f=new r(e,t.extend(d,{queryData:{include_teams:!0}})),g={el:l,results:s,resultView:u};new n(t.extend({source:h},g)).render(),new a(t.extend({source:p},g)).render(),new o(t.extend({source:f},g)).render()}return e(function(){d()})}),define("components/repo-typeahead/repo-typeahead-model",["underscore","components/typeahead/typeahead-model","data/current-user"],function(e,t,n){return t.extend({idAttribute:"full_slug",splitWordsRegExp:/[-_]/,initialize:function(e){this.set(this.parse(e))},highlightAttrs:["owner","slug"],queryParts:function(e){var t,n,i=e.split("/");return i.length>1?(t=i[0],n=i[1]):(t="",n=e),{owner:t,slug:n}},toHighlightedJSON:function(t){var n=this.queryParts(t),i=this.toJSON();return e.extend(i,{owner:this.highlightSubstring(this.get("owner"),n.owner||n.slug),slug:this.highlightSubstring(this.get("slug"),n.slug)})},sortKeys:function(e){var t=this.queryParts(e);return t.owner&&t.slug?[!(this.get("owner")===n.username),!(this.get("owner")===t.owner),!(this.get("slug")===t.slug),this.get("owner"),this.get("slug")]:t.owner?[!(this.get("owner")===n.username),!(this.get("owner")===t.owner),this.get("owner"),this.get("slug")]:[!(this.get("owner")===n.username),!(this.get("owner")===e),!(this.get("slug")===e),this.get("owner"),this.get("slug")]},matches:function(e){var t,n,i=this.queryParts(e);return i.owner&&i.slug?(t=this.startsWith(this.get("owner"),i.owner),n=this.startsWith(this.get("slug"),i.slug),t&&n):i.owner?t=this.startsWith(this.get("owner"),i.owner):(t=this.startsWith(this.get("owner"),e),n=this.startsWith(this.get("slug"),e),t||n)}})}),define("components/repo-typeahead/repo-typeahead-view",["underscore","components/typeahead/typeahead-view"],function(e,t){return t.extend({extraClassNames:function(){return"bb-repo-typeahead"}})}),define("components/repo-typeahead/repo-typeahead-data-set",["components/typeahead/typeahead-data-set"],function(e){return e.extend({findQueryResponse:function(e){return this.findQueryCache(e)}})}),define("components/repo-typeahead/repo-quick-search",["underscore","components/typeahead/typeahead-completion","utils/event-tracking-helper"],function(e,t,n){var i=n("Page Header");return t.extend({className:"bb-repo-typeahead",complete:function(e){var t=this.results.activeModel();if(t){var n=t.get("href");e.preventDefault(),i("QuickSearch Result Clicked",n),window.location=n}}})}),define("components/repo-typeahead/index",["on-ready","components/repo-typeahead/repo-typeahead-model","components/repo-typeahead/repo-typeahead-view","components/repo-typeahead/repo-typeahead-data-set","components/repo-typeahead/repo-quick-search","components/typeahead/typeahead-data-set","components/typeahead/typeahead-suggestions"],function(e,t,n,i,r,o,a){return e(function(){var e=new i([],{model:t,matcher:t.matcher,queryEndpoint:"/xhr/repos",queryParamKey:"term",maxResults:10,maxResponseSize:20});new r({el:document.body,source:e,results:a,resultsClasses:"bb-repo-typeahead-suggestions",resultView:n,resultTemplate:"repo-typeahead-result"}).render()})}),define("config/bitbucket",["bitbucket"],function(e){e.proxy_url="/!api/1.0/"}),define("utils/csrf",["jquery"],function(e){function t(t){var n=null;if(document.cookie&&""!==document.cookie)for(var i=document.cookie.split(";"),r=0;r<i.length;r++){var o=e.trim(i[r]);if(o.substring(0,t.length+1)==t+"="){n=decodeURIComponent(o.substring(t.length+1));break}}return n}e.ajaxSetup({beforeSend:function(e,n){/^(?!https?:)/.test(n.url)&&e.setRequestHeader("X-CSRFToken",t("csrftoken"))}})}),define("utils/replace-url",["jquery","jquery-plugins/jquery.pjax"],function(e){var t=/<meta .*>/;if(e.support.pjax){var n=e("body").attr("data-replace-url");n&&window.history.replaceState({},"",n),e(document).on("pjax:success",function(i,r){if(r){var o=r.match(t);if(o){var a=e(o[0]);n=a.attr("content"),n&&window.history.replaceState({},"",n)}}})}}),function(e,t){"function"==typeof define&&define.amd?define("utils/retina",["jquery"],t):t(e.jQuery)}(this,function(e){window.devicePixelRatio<=1.5||e('img[src*="language-avatars"]').each(function(t,n){var i=e(n),r=i.attr("src"),o=/(\d+)\.png$/,a=r.match(o),s=parseInt(a[1],10);i.attr("src",r.replace(o,2*s+".png"))})}),define("utils/trigger-events",["jquery","store"],function(e,t){var n=t.get("events");n&&n.length&&e.ajax({url:"/xhr/trigger-events/",type:"POST",dataType:"json",data:JSON.stringify(n)}),t.set("events",[])}),define("global",["aui","jquery","underscore","data/i18n","shims/string-extensions","shims/string-format","shims/string-format-transformers","shims/string-score","command-bar/index","ace","initialization","i18n","localization","tracking","messages","keyboard-shortcuts","team-login-warning","select2","tooltips","components/banner","registration/create-team-link","components/connect/index","components/header","components/follow","components/follow-list","components/footer","components/hipchat-integration-dialog","components/hipchat-integration-trigger","components/image-diff","components/mentions/index","components/repo-typeahead/index","config/bitbucket","utils/csrf","utils/replace-url","utils/retina","utils/trigger-events"],function(e,t,n,i){window.$=t,n.extend(e.I18n.keys,i)}),requirejs.config({paths:{aui:"./utils/aui","aui-soy":"../lib/aui/js/aui-soy","aui-stable":"../lib/aui/js/aui","aui-experimental":"../lib/aui/js/aui-experimental","aui-plugins":"../lib/aui-plugins",backbone:"../bower_components/backbone/backbone","backbone.babysitter":"../bower_components/backbone.babysitter/lib/backbone.babysitter","backbone.wreqr":"../bower_components/backbone.wreqr/lib/backbone.wreqr",bitbucket:"../bower_components/bitbucket/bitbucket",bower:"../bower_components",codemirror:"./utils/codemirror",django_connect:"../django_connect",cssesc:"../lib/cssesc",cursores:"../lib/cursores","diff-match-patch":"../bower_components/google-diff-match-patch-js/diff_match_patch",eevee:"../bower_components/eevee/lib/eevee",eve:"../bower_components/eve-adobe/eve","fd-slider":"../bower_components/fd-slider/js/fd-slider","image-diff-toolbar":"../bower_components/image-differ/lib/image-diff-toolbar","image-differ":"../bower_components/image-differ/lib/image-differ",imagesloaded:"../bower_components/imagesloaded/jquery.imagesloaded",jquery:"../bower_components/jquery/jquery","jquery-plugins/jquery.caretposition":"../bower_components/jquery-caretposition/jquery.caretposition","jquery-plugins/jquery.chosen":"../lib/chosen/chosen.jquery","jquery-plugins/jquery.client":"../lib/jquery-plugins/jquery.client","jquery-plugins/jquery.cookie":"../bower_components/jquery-cookie/jquery.cookie","jquery-plugins/jquery.fancybox":"../bower_components/fancybox/source/jquery.fancybox","jquery-plugins/jquery.getscrollbarwidth":"../bower_components/jquery-getscrollbarwidth/jquery.getscrollbarwidth","jquery-plugins/jquery.hoverIntent":"../bower_components/jquery-hoverIntent/jquery.hoverIntent","jquery-plugins/jquery.imagesloaded":"../bower_components/imagesloaded/jquery.imagesloaded","jquery-plugins/jquery.jeditable":"../bower_components/jeditable/jquery.jeditable","jquery-plugins/jquery.localize":"../bower_components/jquery-localize/jquery.localize","jquery-plugins/jquery.markitup":"../lib/markitup/jquery.markitup-1.1.13","jquery-plugins/jquery.pjax":"../bower_components/jquery-pjax/jquery.pjax","jquery-plugins/jquery.placeholder":"../bower_components/jquery-placeholder/jquery.placeholder","jquery-plugins/jquery.scrollTo":"../bower_components/jquery.scrollTo/jquery.scrollTo","jquery-plugins/jquery.spin":"../bower_components/spin.js/jquery.spin","jquery-plugins/jquery.ui.core":"../bower_components/jquery-ui/ui/jquery.ui.core","jquery-plugins/jquery.ui.draggable":"../bower_components/jquery-ui/ui/jquery.ui.draggable","jquery-plugins/jquery.ui.mouse":"../bower_components/jquery-ui/ui/jquery.ui.mouse","jquery-plugins/jquery.ui.widget":"../bower_components/jquery-ui/ui/jquery.ui.widget",js:"../js",liquidmetal:"../bower_components/liquidmetal/liquidmetal",marionette:"./utils/marionette","marionette-lib":"../bower_components/marionette/lib/backbone.marionette",mustache:"../bower_components/mustache/mustache","on-ready":"./utils/on-ready","require-lib":"../bower_components/requirejs/require","shims/string-extensions":"../lib/string-extensions","shims/string-format":"../lib/string-format","shims/string-format-transformers":"../lib/string-format-transformers","shims/string-score":"../lib/string-score",skate:"../lib/skate",spin:"../lib/spin",store:"../lib/store",text:"../bower_components/requirejs-text/text",underscore:"../bower_components/underscore/underscore",zxcvbn:"../bower_components/zxcvbn/zxcvbn"},shim:{"aui-stable":{deps:["jquery","aui-soy"],exports:"AJS"},"aui-experimental":{deps:["aui-stable","skate"]},"aui-plugins/close-aui-dialog":["aui"],"aui-plugins/progressive-data-set":{deps:["aui","backbone"]},"aui-plugins/truncating-progressive-data-set":{deps:["aui-plugins/progressive-data-set"]},bitbucket:{deps:["jquery"],exports:"bitbucket"},"diff-match-patch":{exports:"diff_match_patch"},"django_connect/host":{deps:["aui"],exports:"_AP"},"fd-slider":{exports:"fdSlider"},"jquery-plugins/jquery.caretposition":["jquery"],"jquery-plugins/jquery.chosen":["jquery"],"jquery-plugins/jquery.client":["jquery"],"jquery-plugins/jquery.cookie":["jquery"],"jquery-plugins/jquery.fancybox":["jquery"],"jquery-plugins/jquery.getscrollbarwidth":["jquery"],"jquery-plugins/jquery.hoverIntent":["jquery"],"jquery-plugins/jquery.imagesloaded":["jquery"],"jquery-plugins/jquery.jeditable":["jquery"],"jquery-plugins/jquery.localize":["jquery"],"jquery-plugins/jquery.markitup":["jquery"],"jquery-plugins/jquery.pjax":["jquery"],"jquery-plugins/jquery.placeholder":["jquery"],"jquery-plugins/jquery.scrollTo":["jquery"],"jquery-plugins/jquery.textinputs":["jquery"],"jquery-plugins/jquery.ui.core":{deps:["jquery"]},"jquery-plugins/jquery.ui.draggable":{deps:["jquery-plugins/jquery.ui.mouse"]},"jquery-plugins/jquery.ui.mouse":{deps:["jquery-plugins/jquery.ui.widget"]},"jquery-plugins/jquery.ui.widget":{deps:["jquery-plugins/jquery.ui.core"]},mustache:{exports:"Mustache"},"shims/string-extensions":["underscore"],"shims/string-format-transformers":["shims/string-format","underscore"],"shims/string-score":["liquidmetal"],store:{exports:"store"},underscore:{exports:"_"},zxcvbn:{exports:"zxcvbn"}}}),define("main",["jquery","underscore","global"],function(e,t){var n=function(e){return function(){t.each(arguments,function(n){n&&t.isFunction(n.onReady)&&n.onReady(e)})}},i=function(t){t.each(function(){var t=e(this),i=t.attr("data-modules").trim();i&&require(i.split(/\s*,\s*/),n(t))})},r=e("#require-js").attr("data-page-module");r&&require([r],function(n){n&&t.isFunction(n.onReady)&&n.onReady(),i(e("[data-modules]")),e(document).on("pjax:end",function(t){i(e(t.target).find("[data-modules]"))})})});
//# sourceMappingURL=main.js.map